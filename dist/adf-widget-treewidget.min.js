!function(e,t){"use strict";function a(t){d.debug&&(e.console?console.log(t):"undefined"!=typeof jsTrace&&jsTrace.send(t))}function a(t){d.debug&&(e.console?console.log(t):"undefined"!=typeof jsTrace&&jsTrace.send(t))}function n(e){for(var t=document.getElementsByTagName("script"),i="",a="",n=0;n<t.length;n++)t[n].src.match(e)&&(i=t[n].src);return""!=i&&(a="/"),i.split("?")[0].split("/").slice(0,-1).join("/")+a}function r(e,t){function i(){LoadLib.js(L.js,a)}function a(){T.js=!0,"en"!=L.lang?LazyLoad.js(x.locale,n):T.language=!0,m()}function n(){T.language=!0,m()}function r(){T.css=!0,m()}function o(){T.font.css=!0,m()}function s(){T.font.js=!0,m()}function m(){T.checks>40||(T.checks++,T.js&&T.css&&T.font.css&&T.font.js&&T.language?T.finished||(T.finished=!0,u()):T.timeout=setTimeout("onloaded_check_again();",250))}function c(){var e="storyjs-embed";p=document.createElement("div"),g=""!=L.embed_id?document.getElementById(L.embed_id):document.getElementById("timeline-embed"),g.appendChild(p),p.setAttribute("id",L.id),L.width.toString().match("%")?g.style.width=L.width.split("%")[0]+"%":(L.width=L.width-2,g.style.width=L.width+"px"),L.height.toString().match("%")?(g.style.height=L.height,e+=" full-embed",g.style.height=L.height.split("%")[0]+"%"):L.width.toString().match("%")?(e+=" full-embed",L.height=L.height-16,g.style.height=L.height+"px"):(e+=" sized-embed",L.height=L.height-16,g.style.height=L.height+"px"),g.setAttribute("class",e),g.setAttribute("className",e),p.style.position="relative"}function u(){d.debug=L.debug,h=new d.Timeline(L.id),h.init(L),b&&d.bindEvent(l,k,"HEADLINE")}var h,p,g,y,b=!1,_="2.24",w="1.7.1",M="",T={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},x={base:v,css:v+"css/",js:v+"js/",locale:v+"js/locale/",jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:v+"css/themes/font/",js:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},L={version:_,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:x.css+"timeline.css?"+_,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},j=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(y in e)Object.prototype.hasOwnProperty.call(e,y)&&(L[y]=e[y]);if("undefined"!=typeof t&&(L.source=t),"object"==typeof E&&(b=!0,L.source.match("docs.google.com")||L.source.match("json")||L.source.match("storify")||(L.source="https://docs.google.com/spreadsheet/pub?key="+L.source+"&output=html")),L.js.match("locale")&&(L.lang=L.js.split("locale/")[1].replace(".js",""),L.js=x.js+"timeline-min.js?"+_),L.js.match("/")||(L.css=x.css+L.type+".css?"+_,L.js=x.js+L.type,L.debug?L.js+=".js?"+_:L.js+="-min.js?"+_,L.id="storyjs-"+L.type),L.lang.match("/")?x.locale=L.lang:x.locale=x.locale+L.lang+".js?"+_,c(),LoadLib.css(L.css,r),"default"==L.font)T.font.js=!0,T.font.css=!0;else{var A;L.font.match("/")?(A=L.font.split(".css")[0].split("/"),x.font.name=A[A.length-1],x.font.css=L.font):(x.font.name=L.font,x.font.css=x.font.css+L.font+".css?"+_),LoadLib.css(x.font.css,o);for(var D=0;D<j.length;D++)x.font.name==j[D].name&&(x.font.google=!0,f={google:{families:j[D].google}});x.font.google?LoadLib.js(x.font.js,s):T.font.js=!0}try{if(T.has_jquery=jQuery,T.has_jquery=!0,T.has_jquery){var M=parseFloat(jQuery.fn.jquery);M<parseFloat(w)?T.jquery=!1:T.jquery=!0}}catch(S){T.jquery=!1}T.jquery?i():LoadLib.js(x.jquery,i),this.onloaded_check_again=function(){m()}}function o(e){for(var t=document.getElementsByTagName("script"),i="",a=0;a<t.length;a++)t[a].src.match(e)&&(i=t[a].src);return i.split("?")[0].split("/").slice(0,-1).join("/")+"/"}function s(e){var t,i,a=[],n=e.toString();n.match("&#038;")?n=n.replace("&#038;","&"):n.match("&#38;")?n=n.replace("&#38;","&"):n.match("&amp;")&&(n=n.replace("&amp;","&")),n.match("#")&&(n=n.split("#")[0]),i=n.slice(n.indexOf("?")+1).split("&");for(var r=0;r<i.length;r++)t=i[r].split("="),a.push(t[0]),a[t[0]]=t[1];return a}function n(e){for(var t=document.getElementsByTagName("script"),i="",a="",n=0;n<t.length;n++)t[n].src.match(e)&&(i=t[n].src);return""!=i&&(a="/"),i.split("?")[0].split("/").slice(0,-1).join("/")+a}function r(e,t){function i(){LoadLib.js(L.js,a)}function a(){T.js=!0,"en"!=L.lang?LazyLoad.js(x.locale,n):T.language=!0,m()}function n(){T.language=!0,m()}function r(){T.css=!0,m()}function o(){T.font.css=!0,m()}function s(){T.font.js=!0,m()}function m(){T.checks>40||(T.checks++,T.js&&T.css&&T.font.css&&T.font.js&&T.language?T.finished||(T.finished=!0,u()):T.timeout=setTimeout("onloaded_check_again();",250))}function c(){var e="storyjs-embed";p=document.createElement("div"),g=""!=L.embed_id?document.getElementById(L.embed_id):document.getElementById("timeline-embed"),g.appendChild(p),p.setAttribute("id",L.id),L.width.toString().match("%")?g.style.width=L.width.split("%")[0]+"%":(L.width=L.width-2,g.style.width=L.width+"px"),L.height.toString().match("%")?(g.style.height=L.height,e+=" full-embed",g.style.height=L.height.split("%")[0]+"%"):L.width.toString().match("%")?(e+=" full-embed",L.height=L.height-16,g.style.height=L.height+"px"):(e+=" sized-embed",L.height=L.height-16,g.style.height=L.height+"px"),g.setAttribute("class",e),g.setAttribute("className",e),p.style.position="relative"}function u(){d.debug=L.debug,h=new d.Timeline(L.id),h.init(L),b&&d.bindEvent(l,k,"HEADLINE")}var h,p,g,y,b=!1,_="2.24",w="1.7.1",M="",T={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},x={base:v,css:v+"css/",js:v+"js/",locale:v+"js/locale/",jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:v+"css/themes/font/",js:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},L={version:_,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:x.css+"timeline.css?"+_,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},j=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(y in e)Object.prototype.hasOwnProperty.call(e,y)&&(L[y]=e[y]);if("undefined"!=typeof t&&(L.source=t),"object"==typeof E&&(b=!0,L.source.match("docs.google.com")||L.source.match("json")||L.source.match("storify")||(L.source="https://docs.google.com/spreadsheet/pub?key="+L.source+"&output=html")),L.js.match("locale")&&(L.lang=L.js.split("locale/")[1].replace(".js",""),L.js=x.js+"timeline-min.js?"+_),L.js.match("/")||(L.css=x.css+L.type+".css?"+_,L.js=x.js+L.type,L.debug?L.js+=".js?"+_:L.js+="-min.js?"+_,L.id="storyjs-"+L.type),L.lang.match("/")?x.locale=L.lang:x.locale=x.locale+L.lang+".js?"+_,c(),LoadLib.css(L.css,r),"default"==L.font)T.font.js=!0,T.font.css=!0;else{var A;L.font.match("/")?(A=L.font.split(".css")[0].split("/"),x.font.name=A[A.length-1],x.font.css=L.font):(x.font.name=L.font,x.font.css=x.font.css+L.font+".css?"+_),LoadLib.css(x.font.css,o);for(var D=0;D<j.length;D++)x.font.name==j[D].name&&(x.font.google=!0,f={google:{families:j[D].google}});x.font.google?LoadLib.js(x.font.js,s):T.font.js=!0}try{if(T.has_jquery=jQuery,T.has_jquery=!0,T.has_jquery){var M=parseFloat(jQuery.fn.jquery);M<parseFloat(w)?T.jquery=!1:T.jquery=!0}}catch(S){T.jquery=!1}T.jquery?i():LoadLib.js(x.jquery,i),this.onloaded_check_again=function(){m()}}angular.module("adf.widget.treewidget",["adf.provider"]).config(["dashboardProvider",function(e){e.widget("treewidget",{title:"Tree Builder",description:"build a D3 Tree Visualization",templateUrl:"{widgetsPath}/treewidget/src/view.html",reload:!0,frameless:!1,styleClass:"NOA",controller:"TreeWidgetCtrl",edit:{templateUrl:"{widgetsPath}/treewidget/src/edit.html",reload:!0,controller:"TreeWidgetConfigCtrl"}}).widget("timelinewidget",{title:"Time Line",description:"build a Timeline",templateUrl:"{widgetsPath}/treewidget/src/alt/timeline.html",reload:!0,frameless:!1,styleClass:"NOA",css:["/treewidget/src/alt/build/css/themes/dark.css","/treewidget/src/alt/build/css/timeline.css"],controller:"TimeLineCtrl",controllerAs:"time",edit:{templateUrl:"{widgetsPath}/treewidget/src/alt/timeedit.html",reload:!0,controller:"TimeLineCtrl",controllerAs:"time"}}).widget("histogram",{title:"3D Histogram",description:"build an interactive 3D Histogram Visualization",templateUrl:"{widgetsPath}/treewidget/src/alt/histogram.html",reload:!0,frameless:!1,styleClass:"dark-bg",controller:"HistogramCtrl",controllerAs:"histogram",edit:{templateUrl:"{widgetsPath}/treewidget/src/alt/hist_edit.html",reload:!0,controller:"HistogramCtrl"}}).widget("revealjs",{title:"RevealJS Slideshow",description:"build a presentaion using reveal.js",templateUrl:"{widgetsPath}/treewidget/src/alt/reveal_index.html",reload:!0,frameless:!1,styleClass:"NOA",controller:"RevealCtrl",controllerAs:"options",edit:{templateUrl:"{widgetsPath}/treewidget/src/alt/slide_edit.html",reload:!0,controller:"RevealCtrl",controllerAs:"reveal"}}).widget("threejs",{title:"Three.JS 3D World",description:"build an interactive 3D envirobnent",templateUrl:"{widgetsPath}/treewidget/src/alt/three.html",reload:!0,frameless:!1,styleClass:"NOA",controller:"ThreeWorldCtrl",edit:{templateUrl:"{widgetsPath}/treewidget/src/alt/three_edit.html",reload:!0,controller:"ThreeWorldConfigCtrl"}})}]).controller("TreeWidgetConfigCtrl",["$scope","config","$window","$document","$compile","$parse","$http","dashboard","$sce",function(e,t,i,a,n,r,o,s,l){t.url||(t.url="/llp_core/data.json"),e.config=t,e.configured=function(){return""!==e.config.content},e.notConfigured=function(){return""===e.config.content},e.loadData=function(e){o.get(e.url).then(function(t){e.data=t.data})},t.url&&(this.url=l.trustAsResourceUrl(t.url))}]).controller("TreeWidgetCtrl",["$scope","config","$window","$document","$compile","$parse","$http","dashboard","$sce",function(e,t,i,a,n,r,o,s,l){t.url||(t.url=""),e.config=t,e.loadTemplate=function(e){o.get(e.url).then(function(t){e.data=t.data})},t.url&&(this.url=l.trustAsResourceUrl(t.url)),t.data&&(this.data=t.data)}]).factory("config",function(){return function(){var e={url:"/llp_core/data.json",diameter:"500"};return e}}).controller("HistogramCtrl",["$scope","$stateParams","$templateCache","Collection","config",function(e,t,i,a,n){var r=this;n=n||e.$parent.config,r.col=n.id,a(r.col).$loaded().then(function(e){var t=i.get("bartpl");$(".histogram-3d td").each(function(){var e=this.innerHTML;$(this).html(t).css("font-size",e+"px")});var a={},n=!1,r={x:100,y:-75},o=Modernizr.touch,s=$(".viewport:first");s.on(o?"touchstart":"mousedown",function(e){var t=o?e.originalEvent.touches[0]:e;a={x:t.screenX+r.x,y:t.screenY+r.y},n=!0,$("body").addClass("noselect")}),$(document).on(o?"touchend":"mouseup",function(){n=!1,$("body").removeClass("noselect")}),$(document).on(o?"touchmove":"mousemove",function(e){if(n){e.preventDefault();var t=o?e.originalEvent.touches[0]:e,i=a.x-t.screenX,l=a.y-t.screenY,d=.2;r.x=i,r.y=l,s.find(".world").css(Modernizr.prefixed("transform"),["rotateX(",l*d,"deg) rotateY(",-i*d,"deg)"].join(""))}})})}]).factory("$slide",["$compile","$window","$document","$css","$filter","$sce",function(e,t,i,a,n,r){return function(e){}}]).controller("RevealCtrl",["$scope","$stateParams","revealjs","$document","$window","$css","toastr","config","$compile","Collection","$filter",function(t,i,a,n,r,o,s,l,d,m,c){var u=this;u.selectedtheme="none";var h='<!doctype html><html class="html2"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>reveal.js</title><base href="/" target="_blank"></base><link  href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://lexlab.io/llp_core/bower_components/bootstrap/dist/css/bootstrap.min.css"/><link rel="stylesheet" href="https://lexlab.io/llp_core/dist/app.full.min.css"/><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet"/><link rel="stylesheet" href="https://lexlab.io/lexlab-starter/node_modules/reveal.js/css/reveal.css" />',p='<!-- Theme used for syntax highlighting of code --><link rel="stylesheet" href="https://lexlab.io/lexlab-starter/node_modules/reveal.js/lib/css/zenburn.css"><!-- Printing and PDF exports --><link rel="stylesheet" href="https://lexlab.io/lexlab-starter/node_modules/reveal.js/css/print/print.css"/><style></style>	</head>	<body>		<div class="reveal">			<!-- Any section element inside of this container is displayed as a slide -->			<div class="slides">',g='<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2014-11-29/FileSaver.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/tether-select/1.1.1/js/select.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js"></script><script src="https://apis.google.com/js/client.js"></script><script src="https://apis.google.com/js/api.js"></script><script src="https://www.gstatic.com/firebasejs/3.2.1/firebase.js"></script><script src="https://lexlab.io/lexlab-starter/node_modules/reveal.js/lib/js/head.min.js"></script><script src="https://lexlab.io/lexlab-starter/node_modules/reveal.js/js/reveal.js"></script><script>			Reveal.initialize({history: true,controls: false,progress: true,slideNumber: true,overview: true,center: true,touch: true,loop: true,rtl: false,shuffle: false, fragments: true,embedded: true,postMessage: true,postMessageEvents: true,help: true,showNotes: false, autoSlide:15000,autoSlideStoppable: true,autoSlideMethod: Reveal.navigateNext,mouseWheel: true, hideAddressBar: true,previewLinks: true,transition: "concave",transitionSpeed: "slow",backgroundTransition: "convex",viewDistance: 3,parallaxBackgroundImage: "https://lexlab.io/files/public/uspto/patents/7904579/7904579.png",parallaxBackgroundSize: "800px 800px",dependencies: [{ src: "https://lexlab.io/lexlab-starter/node_modules/reveal.js/plugin/markdown/marked.js" },{ src: "https://lexlab.io/lexlab-starter/node_modules/reveal.js/plugin/markdown/markdown.js" },{ src: "https://lexlab.io/lexlab-starter/node_modules/reveal.js/plugin/notes/notes.js", async: true },{ src: "https://lexlab.io/lexlab-starter/node_modules/reveal.js/plugin/highlight/highlight.js", async: true, callback: function() { hljs.initHighlightingOnLoad(); } },{ src: "https://lexlab.io/lexlab-starter/node_modules/reveal.js/plugin/zoom-js/zoom.js", async: true},{ src: "https://lexlab.io/lexlab-starter/node_modules/reveal.js/plugin/print-pdf/print-pdf.js", async: true}],width: 960,height: 700,margin: 0.1,minScale: 0.2,maxScale: 1.5});</script><script src="/llp_core/ckeditor2/plugins/chart/widget2chart.js"></script> <script src="/lexlab-starter/node_modules/reveal.js/lib/js/head.min.js"></script><script src="/lexlab-starter/node_modules/reveal.js/js/reveal.js"></script>  <script src="/llp_core/dist/app.bower.js"></script>   <script data-require="jszip@2.4.0" data-semver="2.4.0" src="https://cdn.rawgit.com/Stuk/jszip/v2.4.0/dist/jszip.js" data-build="exclude"></script>   <script src="https://rawgit.com/alexk111/ngImgCrop/master/compile/unminified/ng-img-crop.js"></script>   <script src="/newwidget/dist/adf-widget-testwidget.js"></script>   <script src="/getphdwidget/dist/adf-widget-getphd.js"></script>   <script src="/pagebuilderwidget/dist/adf-widget-pagebuilder.js"></script>   <script src="/collectionwidget/dist/adf-widget-collectionwidget.js"></script>   <script src="/treewidget/dist/adf-widget-treewidget.js"></script>   <script src="/llp_core/dist/app.mini.js"></script>   <script src="/llp_core/dist/minicache.js"></script><script>angular.module("mini").config(function($locationProvider) {$locationProvider.html5Mode(false);});angular.element(document).ready(function(){angular.bootstrap(document, ["mini"])});</script>';u.themes=[{name:"none"},{name:"beige"},{name:"black"},{name:"blood"},{name:"league"},{name:"moon"},{name:"night"},{name:"serif"},{name:"simple"},{name:"sky"},{name:"solarized"},{name:"white"}],u.hidethemes=!1;var l=l||t.$parent.config;m(l.id).$loaded().then(function(e){u.model=e,u.slides=e.slideshow?e.slideshow:[]}),u["import"]=function(e){u.slides=[],e=angular.isDefined(e)?e:l.id,m(e).$loaded().then(function(t){var i=(e.replace(/\D/g,""),'<section data-background="url('+t.media+')"><h1 class="display-2">'+t.title+"</h1><hr><h3>"+t.description+'</h3><span class="fa fa-5x '+t.icon+'"></span></section>');t.slide=i,u.slides.push(t),angular.forEach(t.roarlist,function(e,t){y(e)})})};var f=function(e){var t;if("Applicant"===e.styleClass){var i='<section class="slide phd" data-background-image="url(\'https://placehold.it/350x480/4682b4/fff/&text='+e.rid+'\')"><div class="container-fluid two-col-right"><div class="row"><div class="col-xs-6"><div class="text-primary"><h4>'+e.title+"</h4><p>Filed "+e.date+"</p><cite>"+e.filename+'&nbsp;&nbsp;<a href="'+e.media+'" target="fframe"><i class="fa fa-external-link"></i></a></cite><p class="text-muted">'+e.text?c("plainText")(e.text):e.description+'</p></div></div><div class="col-xs-6"><iframe src="'+e.media+'" class="card card-block slide-left" style="width:100%;min-height:400px;"></iframe><img src="https://placehold.it/350x480/4682b4/fff/&text='+e.rid+'" class="img img-responsive img-shadow"/></iframe></div></div></div></section>';t=i}else if("PTO"===e.styleClass){var a='<section class="slide phd" data-background-image="url(\'https://placehold.it/350x480/640002/fff/&text='+e.rid+'\')"><div class="container-fluid two-col-right"><div class="row"><div class="col-xs-6"><div class="text-danger"><h4>'+e.title+"</h4><p>Filed "+e.date+"</p><cite>"+e.filename+'&nbsp;&nbsp;<a href="'+e.media+'" target="fframe"><i class="fa fa-external-link"></i></a></cite><p class="text-muted">'+e.text?c("plainText")(e.text):e.description+'</p></div></div><div class="col-xs-6"><iframe src="'+e.media+'" class="card card-block slide-left" style="width:100%;min-height:400px;"></iframe><img src="https://placehold.it/350x480/640002/fff/&text='+e.rid+'" class="img img-responsive img-shadow"/></iframe></div></div></div></section>';t=a}else if("NOA"===e.styleClass){var n='<section class="slide phd" data-background-image="url(\'https://placehold.it/350x480/7c994f/fff/&text='+e.rid+'\')"><div class="container-fluid two-col-right"><div class="row"><div class="col-xs-6"><div class="text-success"><h4>'+e.title+"</h4><p>Filed "+e.date+"</p><cite>"+e.filename+'&nbsp;&nbsp;<a href="'+e.media+'" target="fframe"><i class="fa fa-external-link"></i></a></cite><p class="text-muted">'+e.text?c("plainText")(e.text):e.description+'</p></div></div><div class="col-xs-6"><iframe src="'+e.media+'" class="card card-block slide-left" style="width:100%;min-height:400px;"></iframe><img src="https://placehold.it/350x480/7c994f/fff/&text='+e.rid+'" class="img img-responsive img-shadow"/></iframe></div></div></div></section>';t=n}else if("Petition"===e.styleClass){var r='<section class="slide phd" data-background-image="url('+e.media.indexOf("img")>-1?e.media:"Applicant"===e.styleClass?'"https://placehold.it/350x480/4682b4/fff/&text='+e.rid+'"':'"https://placehold.it/350x480/640002/fff/&text='+e.rid+')"><div class="container-fluid two-col-right"><div class="row"><div class="col-xs-8"><div class="bs-callout bs-callout-Petition"><h4>'+e.title+"</h4><p>Filed "+e.date+"</p><cite>"+e.filename+'&nbsp;&nbsp;<a href="'+e.media+'" target="fframe"><i class="fa fa-external-link"></i></a></cite></div></div><div class="col-xs-4"><iframe name="fframe" id="fframe" style="width:350px;height:480px;" src="https://placehold.it/350x480/b48200/fff/&text='+e.rid+'" class="img img-responsive img-shadow"><img src="https://placehold.it/350x480/b48200/fff/&text='+e.rid+'" class="img img-responsive img-shadow"/></iframe></div></div></div><p>&nbsp;</p></section>';t=r}else if("Interview"===e.styleClass){var o='<section class="slide phd" data-background-image="url('+e.media.indexOf("img")>-1?e.media:"Applicant"===e.styleClass?'"https://placehold.it/350x480/4682b4/fff/&text='+e.rid+'"':'"https://placehold.it/350x480/640002/fff/&text='+e.rid+')"><div class="container-fluid two-col-right"><div class="row"><div class="col-xs-8"><div class="bs-callout bs-callout-Interview"><h4>'+e.title+"</h4><p>Filed "+e.date+"</p><cite>"+e.filename+'&nbsp;&nbsp;<a href="'+e.media+'" target="fframe"><i class="fa fa-external-link"></i></a></cite></div></div><div class="col-xs-4"><iframe name="fframe" id="fframe" style="width:350px;height:480px;" src="https://placehold.it/350x480/b48200/fff/&text='+e.rid+'" class="img img-responsive img-shadow"><img src="https://placehold.it/350x480/b48200/fff/&text='+e.rid+'" class="img img-responsive img-shadow"/></iframe><p><img src="https://placehold.it/250x208/&text='+e.rid+'" class="img img-responsive img-shadow"/></p></div></div></div><p>&nbsp;</p></section>';t=o}else{var i='<section><div class="container-fluid two-col-right"><div class="row"><div class="col-xs-8"><div class="bs-callout bs-callout-Applicant"><h4>'+e.title+"</h4><p>Filed "+e.date+"</p><cite>"+e.filename+'&nbsp;&nbsp;<a href="'+e.media+'" target="fframe"><i class="fa fa-external-link"></i></a></cite></div></div><div class="col-xs-4"><iframe name="fframe" id="fframe" style="width:350px;height:480px;" src="https://placehold.it/350x480/4682b4/fff/&text='+e.rid+'" class="img img-responsive img-shadow"><img src="https://placehold.it/350x480/4682b4/fff/&text='+e.rid+'" class="img img-responsive img-shadow"/></iframe></div></div></div><p>&nbsp;</p></section>';t=i}return t},y=function(e){m(e).$loaded().then(function(e){var t=f(e);if(e.slide=t,angular.isUndefined(e.slide)){var t=f(e);e.slide=t,u.slides.push(e),s.info(e.styleClass,e.title)}else u.slides.push(e),angular.forEach(e.roarlist,function(e,t){y(e)})})};u.configure=function(){u.hidethemes=!u.hidethemes,u.configureslides=!u.configureslides},u.initialize=function(){var e='<link rel="stylesheet" href="https://lexlab.io/lexlab-starter/node_modules/reveal.js/css/theme/'+u.selectedtheme+'.css" id="theme">',t=function(){var e="";return angular.forEach(u.slides,function(t,i){var a=(t.slide||"<!--CUTSLIDEHEAD-->",t.content||"<!--CUTSLIDEHEAD-->");e=e+"  <section>  "+a.slice(a.indexOf("<!--CUTSLIDEHEAD-->"),a.indexOf("<!--CUTSLIDETAIL-->")+20)+"  </section>  ";e.replace(/\<div\sstyle="page-break.*?\<\/div\>/g,"</section><section>").replace(/\<div.*(?=col-..-6).*?\<\/div\>/g,"</section><section>");new RegExp(/\<div style="page-break-after: always"\>\<span style="display: none;"\>\&nbsp;\<\/span\>\<\/div\>/g)}),e},i=h+e+p+t()+g;u.model.slideshow=i,u.model.content=h+e+p+t()+g,u.model.slide=i,u.model.$save()},e.addEventListener("message",function(e){var t=JSON.parse(e.data);"reveal"===t.namespace?console.info("slide changed",t):console.info(t)}),u.options={history:!0,controls:!0,progress:!0,slideNumber:!1,overview:!0,center:!0,touch:!0,loop:!0,rtl:!1,shuffle:!1,fragments:!0,embedded:!0,help:!0,showNotes:!1,autoSlide:1e4,autoSlideStoppable:!0,autoSlideMethod:Reveal.navigateNext,mouseWheel:!0,hideAddressBar:!0,previewLinks:!0,transition:"concave",transitionSpeed:"slow",backgroundTransition:"convex",viewDistance:4,parallaxBackgroundImage:"https://lexlab.io/llp_core/img/lll3.svg",parallaxBackgroundSize:"1500px 1500px",parallaxBackgroundHorizontal:null,parallaxBackgroundVertical:null,postMessage:!0,postMessageEvents:!0,dependencies:[{src:"/lexlab-starter/node_modules/reveal.js/plugin/markdown/marked.js"},{src:"/lexlab-starter/node_modules/reveal.js/plugin/markdown/markdown.js"},{src:"/lexlab-starter/node_modules/reveal.js/plugin/notes/notes.js",async:!0},{src:"/lexlab-starter/node_modules/reveal.js/plugin/highlight/highlight.js",async:!0,callback:function(){hljs.initHighlightingOnLoad()}},{src:"/lexlab-starter/node_modules/reveal.js/plugin/zoom-js/zoom.js",async:!0}],width:960,height:700,margin:.1,minScale:.2,maxScale:1.5}}]).service("timeline",function(){return{timeline:timeline,timeevent:timeevent,timeera:timeera}}).controller("TimeLineCtrl",["$scope","$stateParams","$document","$http","storyjs","config","Collection","toastr","$filter","ckdefault","ckstarter","ckender",function(e,t,i,a,n,r,o,s,l,d,m,c){var u=this,r=r||e.$parent.config;e.ckdefault=d,o(r.id).$loaded().then(function(e){angular.isDefined(e.timeline)?u.data=lesource.timeline:u.data={timeline:{headline:e.title||"Prosecution History Digest",type:"default",text:e.description||"US 8,382,656",asset:{media:e.media||"https://lexlab.io/files/public/uspto/patents/8382656/8382656.png",credit:"Lion Legal Products",caption:"Claim Dependencies for "+e.pnum||"8382656"},date:[]}}});var h=function(e){return[{startDate:e.date?e.date.replace(/-/g,","):"2011,12,10,07,02,10",endDate:e.date?e.date.replace(/-/g,","):"2011,12,11,08,11",headline:e.title||"Headline Goes Here",text:e.description||"<p>Body text goes here, some HTML is OK</p>",tag:e.styleClass||"This is Optional",classname:"optionaluniqueclassnamecanbeaddedhere",asset:{media:e.media||"http://twitter.com/ArjunaSoriano/status/164181156147900416",thumbnail:e.thumnail||"https;//lexlab.io/llp_core/apple-touch-icon.png",credit:"Credit Name Goes Here",caption:"Caption text goes here"}},{startDate:e.date?e.date.replace(/-/g,","):"2011,12,10",endDate:e.date?e.date.replace(/-/g,","):"2011,12,11",headline:e.title||"Headline Goes Here",text:e.description||"<p>Body text goes here, some HTML is OK</p>",tag:e.styleClass||"This is Optional"}]},p=function(e){return angular.forEach(e.roarlist,function(e,t){o(e).$loaded().then(function(e){s.info(l("date")(e.date),e.title),u.data.timeline.date.push(h(e)[0]),e.roarlist&&p(e)})})};u["import"]=function(e){e=e||r.id,o(e).$loaded().then(function(e){p(e)})},u.remove=function(e){u.data.timeline.date.splice(u.data.timeline.date.indexOf(e),1)},u.initialize=function(e){n.createStoryJS().then(function(t){u.options={type:"timeline",width:950,height:650,source:angular.isObject(e)?angular.fromJson(e):"https://lexlab.io/files/public/timelines/"+e+".json",embed_id:"timeline",hash_bookmark:!0,debug:!0,theme:"default",font:"Georgia-Helvetica"},t(u.options)})},u.save=function(){a.post("/timeline/"+r.id,angular.toJson(u.data))},u["export"]=function(){var e="";angular.forEach(u.data.timeline.dates,function(t,i){var a='<div class="card card-block"><h4>'+t.headline+'<small class="pull-right">'+t.startDate+"</small></h4><hr>"+t.text+"</div>";e+=a}),data.content=m+e+c,data.$save()},u.addnew=function(){u.data.timeline.date.push({}),u.data.timeline.era.push({})},u.eventtypes=[{value:"plaintext",label:"Plain Text"},{value:"quote",label:"quote"},{value:"document",label:"document"},{value:"photo",label:"Photo"},{value:"twitter",label:"Twitter"},{value:"vimeo",label:"Vimeo"},{value:"vine",label:"Vine"},{value:"youtube",label:"Youtube"},{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"map",label:"Map"},{value:"website",label:"Website"},{value:"link",label:"Link"},{value:"wikipedia",label:"Wikipedia"},{value:"storify",label:"Storify"},{value:"googleplus",label:"Google+"},{value:"instagram",label:"Instagram"}]}]).directive("timelinejs",["$http","storyjs",function(e,t){return{restrict:"E",template:'<section id="timeline" ></section>',scope:{},css:["/treewidget/src/alt/build/css/themes/dark.css","/treewidget/src/alt/build/css/timeline.css"],link:function(i,a,n,r){e.get("https://lexlab.io/files/public/timelines/"+n.source+".json").then(function(e){i.data=e.timeline,t.createStoryJS().then(function(e){var t={type:"timeline",width:950,height:650,source:angular.isObject(i.data)?angular.fromJson(i.data):"https://lexlab.io/files/public/timelines/"+n.source+".json",embed_id:"timeline",hash_bookmark:!0,debug:!0,theme:"default",font:"Georgia-Helvetica"};e(t)})})}}}]),angular.module("adf.widget.treewidget").run(["$templateCache",function(e){e.put("{widgetsPath}/treewidget/src/edit.html",'<form role=form><div class=form-group><label for=sample>Sample</label> <input type=url class=form-control id=sample ng-model=config.url placeholder="Enter sample"> <input type=number class=form-control id=num ng-model=config.diameter></div></form>'),e.put("{widgetsPath}/treewidget/src/view.html",'<div class=container-fluid><div><h1 class=text-center>Architecture Tree</h1><div ng-controller=filterCtrl><ng-include src="\'filter.html\'"></ng-include></div><div ng-controller=chartCtrl><tree-chart-widget data={{tree}} diameter="{{config.diameter || \'500\'}}"></tree-chart-widget><d3pendingtree id=7654321 patent=7654321 pattern tree=tree></d3pendingtree></div><div ng-controller=panelCtrl><div id=panel><div ng-if=detail><ng-include src="\'panel-detail.html\'"></ng-include></div><div ng-if=edit><ng-include src="\'panel-edit.html\'"></ng-include></div></div></div><div ng-controller=undoCtrl><div ng-if=hasHistory() class="alert alert-success json-update-label bg-success">Updated JSON <a ng-click=undo()>(undo)</a></div></div><div ng-controller=jsonDataCtrl><textarea id=json-data class="form-control card card-dark well" style=margin-top:50%; ng-model=data ng-blur=updateData()></textarea></div></div></div><script src=/treewidget/src/d3.architectureTree.js></script><script src=/treewidget/src/app.js></script><script src=/treewidget/src/chart.js></script><script src=/treewidget/src/filter.js></script><script src=/treewidget/src/json-data.js></script><script src=/treewidget/src/panel.js></script><script src=/treewidget/src/undo.js></script><script src=/treewidget/src/tree-chart.js></script><script src=/treewidget/src/init-focus.js></script><script src=/treewidget/src/data.js></script><script src=/treewidget/src/bus.js></script><script src=/treewidget/src/data.json></script><script type=text/ng-template id=filter.html><div class="filters panel panel-default"> <div class="panel-heading">Search</div> <div class="panel-body"> <form id="filter_form"> <input name="name" type="text" class="form-control" placeholder="Filter by name" ng-model="$parent.nameFilter" /> <div id="technos"> <h5>Technos</h5> <a ng-repeat="techno in technos" class="btn btn-default btn-xs" ng-click="toggleTechnoFilter(techno)" ng-class="{\'btn-primary\': isTechnoInFilter(techno) }">{{ techno }}</a> </div> <div id="host"> <h5>Host</h5> <a ng-repeat="host in hosts" class="btn btn-default btn-xs" ng-click="toggleHostFilter(host)" ng-class="{\'btn-primary\': isHostInFilter(host) }">{{ host }}</a> </div> </form> </div> </div></script><script type=text/ng-template id=panel-detail.html><div class="details panel panel-info"> <div class="panel-heading">{{ node.name }}</div> <div class="panel-body"> <div class="url" ng-if="node.url"> <a href="{{ node.url }}">{{ node.url }}</a> </div> <div class="comments panel panel-default" ng-if="node.comments"> <div class="panel-heading">{{ node.comments }}</div> </div> <div class="properties" ng-if="node.details.Dependencies"> <h5>Depends on</h5> <ul> <li ng-repeat="dependency in node.details.Dependencies"> {{ dependency }} </li> </ul> </div> <div class="properties" ng-if="node.details.Dependents"> <h5>Dependendents</h5> <ul> <li ng-repeat="dependent in node.details.Dependents"> {{ dependent }} </li> </ul> </div> <div class="properties" ng-if="node.details.Technos"> <h5>Technos</h5> <ul> <li ng-repeat="techno in node.details.Technos"> {{ techno }} </li> </ul> </div> <div class="properties" ng-if="node.details.Host"> <h5>Hosts</h5> <ul> <li ng-repeat="(hostName, servers) in node.host"> {{ hostName }} <ul ng-if="servers"> <li ng-repeat="server in servers">{{ server }}</li> </ul> <span ng-if="detail.via">({{ detail.via }})</span> </li> </ul> </div> </div> </div></script><script type=text/ng-template id=panel-edit.html><form name="editForm" ng-submit="editNode(editForm, $event)"> <div class="details panel panel-info"> <div class="panel-heading"> <input type="text" ng-model="node.name" class="form-control" /> </div> <div class="panel-body"> <div class="url"> <h5>Url</h5> <input type="text" ng-model="node.url" class="form-control" init-focus /> </div> <div class="comments"> <h5>Comments</h5> <textarea ng-model="node.comments" class="form-control" init-focus></textarea> </div> <div class="properties edit"> <h5>Depends on <span class="glyphicon glyphicon-plus" ng-click="addDependency()"></span></h5> <ul> <li ng-repeat="dependencies in node.dependsOn track by $index"> <input type="text" ng-model="node.dependsOn[$index]" init-focus /> <span class="remove glyphicon glyphicon-remove" ng-click="deleteDependency($index)"></span> </li> </ul> <h5>Technos <span class="glyphicon glyphicon-plus" ng-click="addTechno()"></span></h5> <ul> <li ng-repeat="techno in node.technos track by $index"> <input type="text" ng-model="node.technos[$index]" init-focus /> <span class="remove glyphicon glyphicon-remove" ng-click="deleteTechno($index)"></span> </li> </ul> <h5>Hosts <span class="glyphicon glyphicon-plus" ng-click="addHostCategory()"></span></h5> <ul> <li ng-repeat="(key, host) in node.host track by $index"> <input type="text" ng-model="hostKeys[key]" init-focus /><span class="glyphicon glyphicon-plus" ng-click="addHost(key)"></span> <span class="remove glyphicon glyphicon-remove" ng-click="deleteHostCategory(key)"></span> <ul> <li ng-repeat="test in node.host[key] track by $index"> <span class="remove glyphicon glyphicon-remove" ng-click="deleteHost(key, $index)"></span> <input type="text" ng-model="node.host[key][$index]" init-focus /> </li> </ul> </li> </ul> </div> </div> <div class="panel-footer"> <button type="button" ng-click="addNode()" class="btn btn-default"><span class="glyphicon glyphicon-plus"></span> Add</button> <button type="button" ng-click="moveNode()" class="btn btn-default"><span class="glyphicon glyphicon-share-alt"></span> Move</button> <button type="button" ng-click="deleteNode()" class="btn btn-warning"><span class="glyphicon glyphicon-trash"></span> Delete</button> </div> <div class="panel-footer"> <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span> Save</button> <button type="button" ng-click="leaveEdit()" class="btn btn-default"><span class="glyphicon glyphicon-remove"></span> Cancel</button> </div> </div> </form></script>'),
e.put("{widgetsPath}/treewidget/src/alt/hist_edit.html",'<fieldset class=material><input type=text ng-model=config.id placeholder="Enter patent id number"><hr><label class="label label-NOA">Enter ID #</label></fieldset>'),e.put("{widgetsPath}/treewidget/src/alt/histogram.html",'<style>\n.viewport {\n    position: relative;\n    width: 100%;\n    padding-bottom: 100%;\n    cursor: move;\ncontain:strict;\n    -webkit-perspective: 6000px;\n    -webkit-perspective-origin: 50% -100%;\n}\n.viewport .world {\n    position: absolute;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n\n    -webkit-transform: rotateX(-15deg) rotateY(-20deg);\n}\n\n.viewport .world,\n.viewport .world * {\n    -webkit-transform-style: preserve-3d;\n}\n.viewport .ground {\n    position: absolute;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    width: 90%;\n    height: 90%;\n    margin-left: -50%;\n    margin-top: -50%;\n    background: #444444;\n\n    -webkit-transform: rotateX(90deg);\n}\n.viewport .histogram-3d {\n    width: 80%;\n    height: 80%;\n    margin: 10% auto;\n    border-collapse: collapse;\n    border-style: solid;\n\n    /* make sure grid is raised above ground */\n    -webkit-transform: translateZ(1px);\n}\n\n.viewport .histogram-3d td {\n    position: relative;\n    width: 30%;\n    height: 30%;\n    padding: 10px;\n    border: 2px solid #555;\n    z-index: 0;\n}\n.viewport .bar {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n}\n\n.viewport .bar .face {\n    background: hsl(0, 100%, 50%);\n    position: absolute;\n    width: 100%;\n\n    overflow: hidden;\n    z-index: 1;\n}\n\n.viewport .bar .face.front {\n    background: hsl(0, 100%, 20%);\n    bottom: 0;\n    height: 1em;\n\n    -webkit-transform-origin: bottom center;\n    -webkit-transform: rotateX(-90deg);\n}\n\n.viewport .bar .face.right {\n    top: 0;\n    right: 0;\n    width: 1em;\n    height: 100%;\n\n    -webkit-transform-origin: center right;\n    -webkit-transform: rotateY(90deg);\n}\n\n.viewport .bar .face.left {\n    background: hsl(0, 100%, 45%);\n    top: 0;\n    left: 0;\n    width: 1em;\n    height: 100%;\n\n    -webkit-transform-origin: center left;\n    -webkit-transform: rotateY(-90deg);\n}\n\n.viewport .bar .face.back {\n    top: 0;\n    height: 1em;\n\n    -webkit-transform-origin: top center;\n    -webkit-transform: rotateX(90deg);\n}\n\n.viewport .bar .face.top {\n    background: hsl(0, 100%, 40%);\n    height: 100%;\n    width: 100%;\n    top: 0;\n\n    -webkit-transform: translateZ(1em);\n}\n</style><script type=text/javascript src=http://code.jquery.com/jquery.js></script><script type=text/javascript src=modernizr.2.5.3.min.js></script><script type=text/javascript src=jquery.fly_sidemenu.js></script><link rel=stylesheet href=fly_sidemenu.css><body><div class=viewport><div class="world orbit"><div class=ground><table class="histogram-3d spinY"><tr><td>30</td><td>20</td><td>60</td></tr><tr><td>80</td><td>100</td><td>40</td></tr><tr><td>20</td><td>50</td><td>300</td></tr></table></div></div></div><script id=bartpl type=text/template><div class="bar"> <div class="face top"> <img width="100%" height="100%" src="/llp_core/img/lll3.svg"> </div> <div class="face front"></div> <div class="face back"></div> <div class="face left"><img width="100%" height="100%" src="/llp_core/img/NYC1.jpg"></div> <div class="face right"><img width="100%" height="100%" src="/llp_core/img/NYC1.jpg"></div> </div></script><script type=text/javascript>\n// get the template\nvar tpl = $(\'#bartpl\').html();\n\n// insert template markup into each td\n// and set the font size to be the value of the td\n$(\'.histogram-3d td\').each(function(){\n    var val = this.innerHTML;\n    $(this)\n        .html(tpl)\n        .css(\'font-size\', val+\'px\')\n        ;\n});</script><script type=text/javascript>\nvar dragStart = {}\n    ,dragging = false\n    ,curpos = {x:100,y:-75}\n    ;\n\nvar touch = Modernizr.touch\n    ,$vp = $(\'.viewport:first\')\n    ;\n\n$vp.on(touch?\'touchstart\':\'mousedown\', function(e){\n\n    var evt = touch? e.originalEvent.touches[0] : e;\n    dragStart = {\n        x: evt.screenX + curpos.x,\n        y: evt.screenY + curpos.y\n    };\n\n    dragging = true;\n    $(\'body\').addClass(\'noselect\');\n});\n\n$(document).on(touch?\'touchend\':\'mouseup\', function(){\n    dragging = false;\n    $(\'body\').removeClass(\'noselect\');\n});\n\n$(document).on(touch?\'touchmove\':\'mousemove\', function(e){\n\n    if (!dragging) return;\n\n    e.preventDefault();\n\n    var evt = touch? e.originalEvent.touches[0] : e\n        ,x = dragStart.x - evt.screenX\n        ,y = dragStart.y - evt.screenY\n        ,amp = 0.2\n        ;\n\n    curpos.x = x;\n    curpos.y = y;\n\n    $vp.find(\'.world\').css(\n        Modernizr.prefixed(\'transform\'),\n        [\'rotateX(\',y*amp,\'deg) rotateY(\',-x*amp,\'deg)\'].join(\'\')\n    );\n\n});</script><style>\n.viewport {\n    position: relative;\n    width: 100%;\n    padding-bottom: 100%;\n    cursor: move;\n    contain: strict;\n    -webkit-perspective: 6000px;\n    -webkit-perspective-origin: 50% -100%;\n}\n.viewport .world {\n    position: absolute;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n\n    -webkit-transform: rotateX(-15deg) rotateY(-20deg);\n\n}\n\n.viewport .world,\n.viewport .world * {\n    -webkit-transform-style: preserve-3d;\n}\n.viewport .ground {\n    position: absolute;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    width: 90%;\n    height: 90%;\n    margin-left: -50%;\n    margin-top: -50%;\n    background: rgba(44,24,24,0.84);\n\n    -webkit-transform: rotateX(90deg);\n}\n.viewport .histogram-3d {\n    width: 80%;\n    height: 80%;\n    margin: 10% auto;\n    border-collapse: collapse;\n    border-style: groove;\n\n    /* make sure grid is raised above ground */\n    -webkit-transform: translateZ(1px);\n}\n\n.viewport .histogram-3d td {\n    position: relative;\n    width: 30%;\n    height: 30%;\n    padding: 10px;\n    border: 2px solid #555;\n    z-index: 0;\n}\n.viewport .bar {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n}\n\n.viewport .bar .face {\n    background: hsl(0, 100%, 50%);\n    position: absolute;\n    width: 100%;\n    opacity:0.8;\n    overflow: hidden;\n    z-index: 1;\n}\n\n.viewport .bar .face.front {\n    background: hsl(0, 100%, 20%);\n    bottom: 0;\n    height: 1em;\n\n    -webkit-transform-origin: bottom center;\n    -webkit-transform: rotateX(-90deg);\n}\n\n.viewport .bar .face.right {\n    top: 0;\n    right: 0;\n    width: 1em;\n    height: 100%;\n\n    -webkit-transform-origin: center right;\n    -webkit-transform: rotateY(90deg);\n}\n\n.viewport .bar .face.left {\n    background: hsl(0, 100%, 45%);\n    top: 0;\n    left: 0;\n    width: 1em;\n    height: 100%;\n\n    -webkit-transform-origin: center left;\n    -webkit-transform: rotateY(-90deg);\n}\n\n.viewport .bar .face.back {\n    top: 0;\n    height: 1em;\n\n    -webkit-transform-origin: top center;\n    -webkit-transform: rotateX(90deg);\n}\n\n.viewport .bar .face.top {\n    background: hsl(0, 100%, 40%);\n    height: 100%;\n    width: 100%;\n    top: 0;\n\n    -webkit-transform: translateZ(5em);\n}\n</style><div id=html2 colorkey style=width:140%;min-height:400px; fullscreen=fillerup class=html3><div style=position:absolute;z-index:10000;><fieldset class=material><label>Perspective {{config.perspective}}</label> <input type=range id=persective ng-model=config.perspective min=500 max=5000 ng-dblclick="fillerup = !fillerup"></fieldset><br><fieldset><label>Rotation - X{{config.xrotate}} , Y{{config.yrotate}} , Z{{config.zrotate}}</label> <input type=range id=xrotate ng-model=config.xrotate min=-360 max=360 ng-dblclick="fillerup = !fillerup"><br><input type=range id=yrotate ng-model=config.yrotate min=-360 max=360 ng-dblclick="fillerup = !fillerup"><br><input type=range id=zrotate ng-model=config.zrotate min=-360 max=360 ng-dblclick="fillerup = !fillerup"></fieldset></div><div class=viewport style="perspective: {{config.perspective}}px, position:absolute;top:0;right:0;left:0;bottom:0;"><div class="htmlz world" rotate3d style=rotate3d({{config.xrotate}},{{config.yrotate}},{{config.zrotate}},1deg);><div class="ground card-dark"><table class=histogram-3d ffbase={{histogram.col}}><tr ng-repeat="tab in item.roarlist" ffbase={{tab}}><td class=td-{{item.styleClass}}>{{item.rid}} - {{item.title}}<br>{{item.description}}</td><td ng-repeat="thing in item.roarlist" ffbase={{thing}} ng-include="\'bartpl\'" ng-init="it = thing;">{{item.rid}}</td><td histo=30>30</td><td histo=20>20</td><td histo=30>60</td></tr><tr><cubed one="<td histo=\'80\'>80</td>" four="<td>40</td>" draggable><td><img src=https://lexlab.io/llp_core/img/lll3.svg></td></cubed></tr><tr><td histo=50>50</td><td histo=30>30</td></tr></table></div></div></div><script id=bartpl type=text/ng-template><div class="bar" ffbase="{{it}}" > <div class="face top" id="digest"> <d3pendingtree patent="{{item.id.slice(0,7)}}" tree="trees[$index]" pattern="{{config.pattern}}"></d3pendingtree> </div> <div class="face front" id="merits"> <img width="100%" height="100%" ng-src="/patents/{{item.$id.slice(0,7)}}/preview"/> </div> <div class="face back" id="all">BB</div> <div class="face left" id="claims">L</div> <div class="face right" id="art">R</div> </div></script></div></body>'),e.put("{widgetsPath}/treewidget/src/alt/reveal_index.html",'<header class="bar bar-dark"><label ng-bind=options.selectedtheme></label> <input ng-model=options.source placeholder=SourceID type=text> <button class="fa fa-download btn btn-primary" ng-click=options.import(options.source)></button> <button class="fa fa-gear btn btn-default" ng-click=options.configure()></button> <button class="fa fa-play btn btn-warning" ng-click=options.initialize()></button></header><article class="window clearfix" ng-hide=options.hidethemes><h6 class=card-title>Themes</h6><nav class="nav nav-dark"><li ng-repeat="theme in options.themes" id={{theme.name}} class="btn-glass btn-info" colorkey={{theme.name}}><label class=label>{{theme.name}} <input type=radio id=themename name=themename ng-model=options.selectedtheme ng-value=theme.name></label></li></nav><div class=tabbable><nav class="nav nav-tabs"><ul class=right-tabs style=height:79vh;max-height:79vh;><li class="row {{item.styleClass}}" ng-repeat="ts in options.model.roarlist" ffbase={{ts}} ng-cloak ng-click="$parent.options.source = key"><div uib-dropdown uib-keyboard-nav dropdown-append-to-body><a uib-dropdown-toggle class="vcenter pull-left"><label class="label label-pill badge label-{{item.styleClass}}" style=cursor:pointer;>{{tab.rid || item.rid || \' - \'}}</label></a><ul class=uib-dropdown-menu><li class={{menuitem.styleClass}} ng-repeat="menuitem in rightmenu.items"><a ng-click="menuitem.onClick(item.$id, key)" class="fa fa-fw {{menuitem.icon}} {{menuitem.styleClass}}">&nbsp;&nbsp;&nbsp;&nbsp;{{menuitem.label}}</a></li></ul></div>&nbsp&nbsp{{item.title || item.name}}&nbsp&nbsp <a class="fa fa-3x btn btn-default btn-xs" ng-class="{\'fa-check\':($parent.options.source === item.$id )}" ng-click="$parent.options.source = item.$id"></a></li></ul></nav></div></article>'),e.put("{widgetsPath}/treewidget/src/alt/slide_edit.html",'<input ng-model=config.id><hr><label class="label material" ng-repeat="(option, key) in reveal.options">{{key}}<switch ng-model=option text={{key}} icon="fa fa-{{key}}"><input ng-model=option> <textarea ng-model=option>\n</textarea></switch></label><hr>'),e.put("{widgetsPath}/treewidget/src/alt/timeedit.html",'<fieldset class=material><input type=text ng-model=config.id placeholder="Enter patent id number"><hr><label class="label label-NOA">Enter ID #</label></fieldset>'),e.put("{widgetsPath}/treewidget/src/alt/timeline.html",'<section id=timeline><header class="bar bar-dark" style=display:flex;justify-content:space-around;><label ng-bind=time.selectedtheme></label> <input ng-model=time.source placeholder=SourceID type=text> <button class="fa fa-download btn btn-default text-primary" "></button> <button class="fa fa-external-link btn btn-default text-info" ng-click=time.import(time.source)></button> <button class="fa fa-save btn btn-default text-success" ng-click=time.save()></button> <button class="fa fa-play btn btn-default text-warning" ng-click=time.initialize(time.data)></button></header></section><div class="card card-block"><dir-pagination-controls pagination-id=timeline template-url=/llp_core/bower_components/angular-utils-pagination/dirPagination.tpl.html></dir-pagination-controls><a class="fa fa-plus text-success pull-right" ng-click=time.addnew()></a><div class="card card-block img-hover img-shadow bs-callout bs-callout-Applicant" dir-paginate="rvent in time.data.timeline.date | itemsPerPage: 5" pagination-id=timeline><h4 class=card-title><img ng-src={{rvent.asset.thumbnail}} style=max-height:100px; class="img img-thumbnail img-hover pull-left" ng-click=timeform.$show()> <a class=pull-right ng-click=time.remove(rvent)><i class="fa fa-close text-muted"></i></a><table class="table table-condensed table-responsive table-stripped table-hover"><tbody><tr><th>Headline</th><td editable-text=rvent.headline e-form=timeform>{{rvent.headline | uppercase}}</td></tr><tr><th>Start Date</th><td editable-text=rvent.startDate e-form=timeform>{{rvent.startDate | date}}</td></tr><tr><th>End Date</th><td editable-text=rvent.endDate e-form=timeform>{{rvent.endDate | date}}</td></tr><tr><th>Tag</th><td editable-text=rvent.tag e-form=timeform>{{rvent.tag}}</td></tr><tr><th>ClassName</th><td editable-text=rvent.classname e-form=timeform>{{rvent.classname}}</td></tr><tr><th>Media</th><td editable-text=rvent.asset.media e-form=timeform>{{rvent.asset.media}}</td></tr><tr><th>Credit</th><td editable-text=rvent.asset.credit e-form=timeform>{{rvent.asset.credit}}</td></tr><tr><th>Caption</th><td editable-text=rvent.asset.caption e-form=timeform>{{rvent.asset.caption}}</td></tr><tr><th>Thumbnail</th><td editable-text=rvent.asset.thumbnail e-form=timeform>{{rvent.asset.thumbnail}}</td></tr></tbody></table></h4></div></div><script type=text/javascript src={widgetsPath}/treewidget/src/alt/build/js/storyjs-embed.js></script>'),e.put("{widgetsPath}/treewidget/src/alt/build/embed/index.html",'<!DOCTYPE html><html lang=en><head><title>TimelineJS Embed</title><meta charset=utf-8><meta name=description content="TimelineJS Embed"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-touch-fullscreen content=yes><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><style>\n      html, body {\n      height:100%;\n      padding: 0px;\n      margin: 0px;\n      }\n\n      #timeline-embed { height: 100%; }\n    </style></head></html><body><div id=timeline-embed></div><script type=text/javascript>\n    var trim_point = window.location.href.indexOf(\'embed/index.html\');\n    if (trim_point > 0) {\n      var embed_path = window.location.href.substring(0,trim_point); // supports https access via https://s3.amazonaws.com/cdn.knightlab.com/libs/timeline/latest/embed/index.html \n    } else {\n      var embed_path = "http://cdn.knightlab.com/libs/timeline/latest/";\n    }\n  </script><script type=text/javascript src=../js/storyjs-embed-cdn.js?v214></script></body>')}]),"undefined"!=typeof d&&(d.Language={lang:"zh-tw",api:{wikipedia:"zh"},date:{month:["","","","","","","","","","","",""],month_abbr:["","","","","","","","","","","",""],day:["","","","","","",""],day_abbr:["","","","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy 'um' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"... ",return_to_title:"",expand_timeline:"",contract_timeline:"",wikipedia:", ",loading_content:"",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"zh-cn",api:{wikipedia:"zh"},date:{month:["","","","","","","","","","","",""],month_abbr:["","","","","","","","","","","",""],day:["","","","","","",""],day_abbr:["","","","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"yyyy mmmm",full_short:"mmm d",full:"yyyymmmm d",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'yyyymmmm d'</small>'",full_long:"dddd',' yyyy mmm d'um' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' yyyy mmm d'</small>'"},messages:{loading_timeline:"... ",return_to_title:"",expand_timeline:"",contract_timeline:"",wikipedia:"",loading_content:"",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"uk",api:{wikipedia:"uk"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".",".",".",".",".",".",".",".",".",".","."],day:["","","","","","'",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm',' yyyy",time_short:"H:MM:ss",time_no_seconds_short:"H:MM",time_no_seconds_small_date:"H:MM'<br/><small>'d mmmm',' yyyy'</small>'",full_long:"d mmm yyyy '' H:MM",full_long_small_date:"H:MM'<br/><small>d mmm',' yyyy'</small>'"},messages:{loading_timeline:"...",return_to_title:"  ",expand_timeline:"",contract_timeline:"",wikipedia:" Wikipedia,  ",loading_content:" ",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"tr",api:{wikipedia:"tr"},date:{month:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],month_abbr:["Oca.","ub.","Mar.","Nis.","May.","Haz.","Tem.","Au.","Eyl.","Eki.","Kas.","Ara."],day:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],day_abbr:["Paz.","Pzt.","Sal.","ar.","Per.","Cum.","Cts."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm',' yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"H:MM",time_no_seconds_small_date:"H:MM'<br/><small>'d mmmm',' yyyy'</small>'",full_long:"d mmm',' yyyy 'at' H:MM",full_long_small_date:"H:MM '<br/><small>d mmm',' yyyy'</small>'"},messages:{loading_timeline:"Zaman izelgesi Ykleniyor... ",return_to_title:"Bala Dn",expand_timeline:"Zaman izelgesini Genilet",contract_timeline:"Zaman izelgesini Daralt",wikipedia:"Wikipedia'dan, zgr ansiklopedi",loading_content:"erik Ykleniyor",loading:"Ykleniyor"}}),"undefined"!=typeof d&&(d.Language={lang:"tl",api:{wikipedia:"tl"},date:{month:["Enemo","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],month_abbr:["Ene.","Peb.","Mar.","Abr.","Mayo","Hun.","Hul.","Ago.","Set.","Okt.","Nob.","Dis."],day:["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],day_abbr:["Li.","L.","M.","Mi.","H.","B.","S."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"Mula sa Wikipedia, ang malayang ensiklopedya",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof d&&(d.Language={lang:"th",api:{wikipedia:"th"},date:{month:["","","","","","","","","","","",""],month_abbr:["..",".","..","..","..","..","..","..","..","..","..",".."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof d&&(d.Language={lang:"te",api:{wikipedia:"te"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","",".","","","",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:" ... ",return_to_title:"  ",expand_timeline:" ",contract_timeline:" ",wikipedia:"    ",loading_content:" ",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"ta",api:{wikipedia:"ta"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","","","","","","",".",".","",""],day:["","","","","","",""],day_abbr:["","","","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:" .... ",return_to_title:" ",expand_timeline:" ",contract_timeline:" ",wikipedia:" , ",loading_content:" ...",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"sv",api:{wikipedia:"sv"},date:{month:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],month_abbr:["jan","febr","mars","april","maj","juni","juli","aug","sept","okt","nov","dec"],day:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],day_abbr:["sn","mn","tis","ons","tors","fre","lr"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm',' yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"H:MM",time_no_seconds_small_date:"H:MM'<br/><small>'d mmmm',' yyyy'</small>'",full_long:"d mmm',' yyyy 'vid' H:MM",full_long_small_date:"H:MM'<br/><small>d mmm',' yyyy'</small>'"},messages:{loading_timeline:"Laddar tidslinje... ",return_to_title:"Tillbaka till start",expand_timeline:"Frstora tidslinje",contract_timeline:"Frminska tidslinje",wikipedia:"Frn Wikipedia, den fria encyklopedin",loading_content:"Laddar innehll",loading:"Laddar"}}),"undefined"!=typeof d&&(d.Language={lang:"sr",api:{wikipedia:"sr"},date:{month:["januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],month_abbr:["Jan.","Feb.","Mart","Apr.","Maj","Jun","Jul","Avg.","Sep.","Okt.","Nov.","Dec."],day:["Nedelja","Ponedeljak","Utorak","Sreda","etvratk","Petak","Subota"],day_abbr:["Ned.","Pon.","Uto.","Sre.","et.","Pet.","Sub."]},dateformats:{year:"yyyy.",month_short:"mmm",month:"mmmm yyyy.",full_short:"d. mmm",full:"d. mmmm yyyy.",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d. mmmm yyyy.'</small>'",full_long:"d. mmm yyyy. 'u' HH:MM",full_long_small_date:"HH:MM'<br/><small>d. mmm yyyy.'</small>'"},messages:{loading_timeline:"Uitavanje... ",return_to_title:"Poetak",expand_timeline:"Uveaj",contract_timeline:"Umanji",wikipedia:"Iz Vikipedije, slobodne enciklopedije",loading_content:"Sadraj se uitava",loading:"Uitava se"}}),"undefined"!=typeof d&&(d.Language={lang:"",api:{wikipedia:""},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","",".","","","",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy.",month_short:"mmm",month:"mmmm yyyy.",full_short:"d. mmm",full:"d. mmmm yyyy.",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d. mmmm yyyy.'</small>'",full_long:"d. mmm yyyy. 'u' HH:MM",full_long_small_date:"HH:MM'<br/><small>d. mmm yyyy.'</small>'"},messages:{loading_timeline:"... ",return_to_title:"",expand_timeline:"",contract_timeline:"",wikipedia:" ,  ",loading_content:"  ",loading:" "}}),"undefined"!=typeof d&&(d.Language={lang:"sl",api:{wikipedia:"sl"},date:{month:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"],month_abbr:["jan.","feb.","marec","april","maj","junij","july","avg.","sept.","okt.","nov.","dec."],day:["nedelja","ponedeljek","torek","sreda","ertek","petek","sobota"],day_abbr:["ned.","pon.","tor.","sre.","et.","pet.","sob."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM",time_no_seconds_small_date:"h:MM' 'd mmmm' 'yyyy",full_long:"d mmm yyyy 'ob' hh:MM",full_long_small_date:"hh:MM' d mmm yyyy"},messages:{loading_timeline:"Nalagam asovni trak... ",return_to_title:"Nazaj na naslov",expand_timeline:"Raziri asovni trak",contract_timeline:"Pokri asovni trak",wikipedia:"Vir Wikipedija",loading_content:"Nalaganje vsebine",loading:"Nalaganje"}}),"undefined"!=typeof d&&(d.Language={lang:"sk",api:{wikipedia:"sk"},date:{month:["Janu&#225;r","Febru&#225;r","Marec","Apr&#237;l","M&#225;j","J&#250;n","J&#250;l","August","September","Okt&#243;ber","November","December"],month_abbr:["Jan.","Feb.","Marec","Apr&#237;l","M&#225;j","J&#250;n","J&#250;l","Aug.","Sept.","Okt.","Nov.","Dec."],day:["Nede&#318;a","Pondelok","Utorok","Streda","&#352;tvrtok","Piatok","Sobota"],day_abbr:["Ned.","Pon.","Uto.","Str.","&#352;tv.","Pia.","Sob."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"d. mmmm',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Na&#269;&#237;tam &#269;asov&#250; os... ",return_to_title:"Sp&#228;&#357; na &#250;vod",expand_timeline:"Zv&#228;&#269;&#353;i&#357; &#269;asov&#250; os",contract_timeline:"Zmen&#353;i&#357; &#269;asov&#250; os",wikipedia:"Z Wikipedie, encyklop&#233;die zadarmo",loading_content:"Na&#269;&#237;tam obsah",loading:"Na&#269;&#237;tanie"}}),"undefined"!=typeof d&&(d.Language={lang:"si",api:{wikipedia:"si"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","","","","","",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"   ... ",return_to_title:" ",expand_timeline:"  ",contract_timeline:"  ",wikipedia:",   ",loading_content:"  ",loading:" "}}),"undefined"!=typeof d&&(d.Language={lang:"ru",api:{wikipedia:"ru"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","",".","","","",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm',' yyyy",time_short:"H:MM:ss",time_no_seconds_short:"H:MM",time_no_seconds_small_date:"H:MM'<br/><small>'d mmmm',' yyyy'</small>'",full_long:"d mmm',' yyyy '' HH:MM",full_long_small_date:"HH:MM'<br/><small>d mmm',' yyyy'</small>'"},messages:{loading_timeline:"... ",return_to_title:"  ",expand_timeline:"",contract_timeline:"",wikipedia:" Wikipedia",loading_content:" ",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"ro",api:{wikipedia:"ro"},date:{month:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],month_abbr:["Ian.","Feb.","Mar.","Apr.","Mai","Iun.","Iul.","Aug.","Sep.","Oct.","Noi.","Dec."],day:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt"],day_abbr:["Dum.","Luni","Mar.","Mie.","Joi","Vin.","Sm."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'d mmmm',' yyyy'</small>'",full_long:"d mmm',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>d mmm',' yyyy'</small>'"},messages:{loading_timeline:"Se ncarc cronologia... ",return_to_title:"napoi la titlu",expand_timeline:"Extinde cronologia",contract_timeline:"Restrnge cronologia",wikipedia:"De pe Wikipedia, enciclopedia gratuit",loading_content:"Se ncarc coninutul",loading:"Se ncarc"}}),"undefined"!=typeof d&&(d.Language={lang:"rm",api:{wikipedia:"rm"},date:{month:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],month_abbr:["Schan.","Favr.","Mars","Avr.","Matg","Zercl.","Fan.","Avust","Sett.","Oct.","Nov.","Dec."],day:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"],day_abbr:["Du","Gli","Ma","Me","Gie","Ve","So"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d 'da' mmm",full:"d 'da' mmmm yyyy",time_short:"HH:M:s",time_no_seconds_short:"HH:M",time_no_seconds_small_date:"HH:M'<br/><small>'d 'da' mmmm yyyy'</small>'",
full_long:"d 'da' mmm yyyy', las' HH:M",full_long_small_date:"HH:M'<br/><small>d 'da' mmm yyyy'</small>'"},messages:{loading_timeline:"Chargiar la cronologia... ",return_to_title:"Turnar al titel",expand_timeline:"Expander la cronologia",contract_timeline:"Contract Timeline",wikipedia:"Da Vichipedia, l'enciclopedia libra",loading_content:"Chargiar il cuntegn",loading:"Chargiar"}}),"undefined"!=typeof d&&(d.Language={lang:"pt",api:{wikipedia:"pt"},date:{month:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_abbr:["Jan","Fev","Mar","Abr","Maio","Jun","Jul","Ago","Set","Out","Nov","Dez"],day:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sabado"],day_abbr:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"A carregar a timeline... ",return_to_title:"Voltar ao Ttulo",expand_timeline:"Expandir Timeline",contract_timeline:"Colapsar Timeline",wikipedia:"Wikipedia, A enciclopedia Livre.",loading_content:"A carregar o contedo",loading:"A carregar"}}),"undefined"!=typeof d&&(d.Language={lang:"pt-br",api:{wikipedia:"pt"},date:{month:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_abbr:["Jan.","Fev.","Mar.","Abr.","Mai.","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],day:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],day_abbr:["Dom.","Seg.","Ter.","Qua.","Qui.","Sex.","Sb."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm 'de' yyyy",full_short:"d 'de' mmm",full:"d 'de' mmmm',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"hh:MM TT",time_no_seconds_small_date:"hh:MM TT'<br/><small>'d 'de' mmmm',' yyyy'</small>'",full_long:"dddd',' d 'de' mmm',' yyyy 's' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' d 'de' mmm',' yyyy'</small>'"},messages:{loading_timeline:"Carregando Timeline... ",return_to_title:"Voltar para o ttulo",expand_timeline:"Expandir Timeline",contract_timeline:"Contrair Timeline",wikipedia:"Wikipedia, A enciclopdia livre",loading_content:"Carregando Contedo",loading:"Carregando"}}),"undefined"!=typeof d&&(d.Language={lang:"pl",api:{wikipedia:"pl"},date:{month:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernika","Listopada","Grudnia"],month_abbr:["Sty.","Lut.","Mar.","Kwi.","Maj.","Cze.","Lip.","Sie.","Wrz.","Pa.","Lis.","Gru."],day:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],day_abbr:["Nie.","Pon.","Wto.","ro.","Czw.","Pi.","Sob."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy 'um' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"adowanie Timeline... ",return_to_title:"Wr do tytuu",expand_timeline:"Powiksz Timeline",contract_timeline:"Zmniejsz Timeline",wikipedia:"Z Wikipedii, wolnej encyklopedii",loading_content:"adowanie zawartoci",loading:"adowanie"}}),"undefined"!=typeof d&&(d.Language={lang:"no",api:{wikipedia:"no"},date:{month:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_abbr:["Jan.","Feb.","Mars","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Des."],day:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_abbr:["Sn.","Man.","Tir.","Ons.","Tor.","Fre.","Lr."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d. mmm",full:"d. mmmm',' yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d. mmmm',' yyyy'</small>'",full_long:"dddd',' d. mmm',' yyyy 'kl.' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d. mmm',' yyyy'</small>'"},messages:{loading_timeline:"Laster tidslinje... ",return_to_title:"Tilbake til tittel",expand_timeline:"Utvid tidslinje",contract_timeline:"Krymp tidslinje",wikipedia:"Fra Wikipedia, den frie encyklopedi",loading_content:"Laster innhold",loading:"Laster"}}),"undefined"!=typeof d&&(d.Language={lang:"nl",api:{wikipedia:"nl"},date:{month:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],month_abbr:["jan","febr","maa","apr","mei","juni","juli","aug","sept","okt","nov","dec"],day:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],day_abbr:["zo","ma","di","wo","do","vr","za"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy 'om' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"Tijdlijn laden ... ",return_to_title:"Terug naar het begin",expand_timeline:"Tijdlijn uitzoomen",contract_timeline:"Tijdlijn inzoomen",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Inhoud laden",loading:"Laden"}}),"undefined"!=typeof d&&(d.Language={lang:"ne",api:{wikipedia:"ne"},date:{month:["","","","","","","","","","","",""],month_abbr:["","","","","","","","","","","",""],day:["","","","","","",""],day_abbr:["","","","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"  ... ",return_to_title:" ",expand_timeline:"  ",contract_timeline:"  ",wikipedia:"",loading_content:"  ",loading:" "}}),"undefined"!=typeof d&&(d.Language={lang:"ms",api:{wikipedia:"ms"},date:{month:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],month_abbr:["Jan.","Feb.","Mac","Apr","Mei","Jun","Jul","Ogos.","Sept.","Okt.","Nov.","Dis."],day:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],day_abbr:["Ahd.","Isn.","Sel.","Rab.","Kha.","Jum.","Sab."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'d mmmm yyyy'</small>'",full_long:"d mmm yyyy 'jam' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>d mmm yyyy'</small>'"},messages:{loading_timeline:"Memuat Garis Masa... ",return_to_title:"Kembali ke Tajuk",expand_timeline:"Besarkan Garis Masa",contract_timeline:"Kecilkan Garis Masa",wikipedia:"Daripada Wikipedia, ensiklopedia bebas.",loading_content:"Memuat Kandungan",loading:"Memuat"}}),"undefined"!=typeof d&&(d.Language={lang:"lv",api:{wikipedia:"lv"},date:{month:["Janvris","Februris","Marts","Aprlis","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],month_abbr:["Jan.","Feb.","Mar.","Apr.","Mai.","Jn.","Jl.","Aug.","Sep.","Okt.","Nov.","Dec."],day:["Svtdiena","Pirmdiena","Otrdiena","Trediena","Ceturtdiena","Piektdiena","Sestdiena"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"d. mmmm',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"HH:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Ieldjas grafiks... ",return_to_title:"Atgriezties uz skumu",expand_timeline:"Izvrst grafiku",contract_timeline:"Saaurint grafiku",wikipedia:"No Wikipedia, brvs enciklopdijas",loading_content:"Ieldjas saturs",loading:"Ieldjas"}}),"undefined"!=typeof d&&(d.Language={lang:"lt",api:{wikipedia:"lt"},date:{month:["Sausio","Vasario","Kovo","Balandio","Gegus","Birelio","Liepos","Rugpjio","Rugsjo","Spalio","Lapkriio","Gruodio"],month_abbr:["Saus.","Vas.","Kov.","Bal.","Geg.","Bir.","Liep.","Rugpj.","Rug.","Spal.","Lapkr.","Gruod."],day:["Sekmadienis","Pirmadienis","Antradienis","Treiadienis","Ketvirtadienis","Penktadienis","etadienis"],day_abbr:["Sek.","Pirm.","Antr.","Tre.","Ketv.","Penkt.","et."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Kraunama laiko juosta... ",return_to_title:"Grti  titulin",expand_timeline:"Iplsti laiko juost",contract_timeline:"Sutraukti laiko juost",wikipedia:"I Vikipedijos, laisvosios enciklopedijos",loading_content:"Kraunamas turinys... ",loading:"Kraunama"}}),"undefined"!=typeof d&&(d.Language={lang:"lb",api:{wikipedia:"lb"},date:{month:["Januar","Februar","Merz","Abrll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],month_abbr:["Jan.","Feb.","Me.","Abr.","Mee","Jun.","Jul","Aug.","Sept.","Okt.","Nov.","Dez."],day:["Sonndeg","Mindeg","Dnschdeg","Mttwoch","Donneschden","Freiden","Samschden"],day_abbr:["Son.","Mi.","D.","M.","Do.","Fr.","Sa."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"d'.' mmmm yyyy",time_short:"hh:MM:ss",time_no_seconds_short:"hh:MM",time_no_seconds_small_date:"h:MM TT'<br/><small>'d'.' mmmm yyyy'</small>'",full_long:"d'.' mmm yyyy 'um' hh:MM TT",full_long_small_date:"hh:MM'<br/><small>d'.' mmm yyyy'</small>'"},messages:{loading_timeline:"Timeline gtt gelueden... ",return_to_title:"Zerck zum Titel",expand_timeline:"Timeline vergrisseren",contract_timeline:"Timeline verklengeren",wikipedia:"Vu Wikipedia, der frier Enzyklopedie",loading_content:"Inhalt lued",loading:"Lued"}}),"undefined"!=typeof d&&(d.Language={lang:"ko",api:{wikipedia:"ko"},date:{month:["1","2","3","4","5","6","7","8","9","10","11","12"],month_abbr:["1","2","3","4","5","6","7","8","9","10","11","12"],day:["","","","","","",""],day_abbr:["","","","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"yyyy mmm",full_short:"mmm d",full:"yyyy mmm d ",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'yyyy mmm d'</small>'",full_long:"dddd',' d mmm yyyy 'um' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd','yyyy mmm d'</small>'"},messages:{loading_timeline:"  .... ",return_to_title:"",expand_timeline:" ",contract_timeline:" ",wikipedia:": ,   ",loading_content:"  .",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"ka",api:{wikipedia:"ka"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","","",".",".",".",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:" ... ",return_to_title:" ",expand_timeline:" ",contract_timeline:"Contract Timeline",wikipedia:"  Wikipedia-",loading_content:" ",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"ja",api:{wikipedia:"ja"},date:{month:["1","2","3","4","5","6","7","8","9","10","11","12"],month_abbr:["1","2","3","4","5","6","7","8","9","10","11","12"],day:["","","","","","",""],day_abbr:["","","","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"yyyy md (ddd)",full_short:"yyyymd",full:"yyyy md (ddd)",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'yyyymd'</small>'",full_long:"yyyymd HMs",full_long_small_date:"HH:MM:ss'<br/><small>'yyyymd'</small>'"},messages:{loading_timeline:"",return_to_title:"",expand_timeline:"",contract_timeline:"",wikipedia:"Wikipedia",loading_content:"",loading:""}}),a("Language code 'iw' for Hebrew is deprecated. Use 'he' instead."),"undefined"!=typeof d&&(d.Language={lang:"iw",right_to_left:!0,api:{wikipedia:"he"},date:{month:["","","","","","","","","","","",""],month_abbr:["","","","","","","","","","","",""],day:["","","","","","",""],day_abbr:[" '"," '"," '"," '"," '"," '",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm,' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"d' mmm,' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"   ... ",return_to_title:" ",expand_timeline:"   ",contract_timeline:"   ",wikipedia:",  ",loading_content:" ...",loading:"..."}}),"undefined"!=typeof d&&(d.Language={lang:"it",api:{wikipedia:"it"},date:{month:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_abbr:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],day_abbr:["Dom.","Lun.","Mar.","Mer.","Gio.","Ven.","Sab."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy 'alle' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"Caricamento Timeline... ",return_to_title:"Ritorna all'inizio",expand_timeline:"Espandi la Timeline",contract_timeline:"Contrai la Timeline",wikipedia:"Wikipedia, Lenciclopedia libera",loading_content:"Caricamento contenuti",loading:"Caricamento"}}),"undefined"!=typeof d&&(d.Language={lang:"is",api:{wikipedia:"is"},date:{month:["janar","febrar","mars","aprl","ma","jn","jl","gst","september","oktber","nvember","desember"],month_abbr:["jan.","feb.","mars","aprl","ma","jn","jl","gst","sept.","okt.","nv.","des."],day:["sunnudagur","mnudagur","rijudagur","mivikudagur","fimmtudagur","fstudagur","laugardagur"],day_abbr:["sun.","mn.","ri.","mi.","fim.","fs.","lau."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:SS TT",time_no_seconds_short:"hh:MM TT",time_no_seconds_small_date:"hh:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"dddd',' mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Raa upp tmalnu... ",return_to_title:"Til baka  forsu",expand_timeline:"Stkka tmalnu",contract_timeline:"Minnka tmalnu",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Raa",loading:"Raa"}}),"undefined"!=typeof d&&(d.Language={lang:"id",api:{wikipedia:"id"},date:{month:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_abbr:["Jan.","Feb.","Maret","April","Mei","Juni","July","Agus.","Sept.","Okt.","Nov.","Des."],day:["Ahad","Senin","Selasa","Rabu","Kamis","Jum'at","Sabtu"],day_abbr:["Ahad","Sen.","Sel.","Rabu","Kamis","Jum.","Sab."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy 'pukul' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"Memuat Timeline... ",return_to_title:"Kembali ke Judul",expand_timeline:"Kembangkan Timeline",contract_timeline:"Ciutkan Timeline",wikipedia:"dari Wikipedia, ensiklopedia bebas",loading_content:"Memuat Isi",loading:"Memuat"}}),"undefined"!=typeof d&&(d.Language={lang:"hy",api:{wikipedia:"hy"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","","","","","",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm',' yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"H:MM",time_no_seconds_small_date:"H:MM'<br/><small>'d mmmm',' yyyy'</small>'",full_long:"d mmm',' yyyy 'at' H:MM",full_long_small_date:"H:MM '<br/><small>d mmm',' yyyy'</small>'"},messages:{loading_timeline:"  ... ",return_to_title:" ",expand_timeline:" ",contract_timeline:" ",wikipedia:"   ",loading_content:"  ",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"hu",api:{wikipedia:"hu"},date:{month:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december"],month_abbr:["jan.","febr.","mrc.","pr.","mj.","jn.","jl.","aug.","szept.","okt.","nov.","dec."],day:["vasrnap","htf","kedd","szerda","cstrtk","pntek","szombat"],day_abbr:["vas.","htf","kedd","szer.","cst.","pn.","szom."]},dateformats:{year:"yyyy",month_short:"mmm",month:"yyyy. mmmm",full_short:"mmm d.",full:"yyyy. mmmm d.",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM '<br/><small>'yyyy. mmmm d.'</small>'",full_long:"yyyy. mmm d.',' HH:MM",full_long_small_date:"HH:MM '<br/><small>yyyy. mmm d.'</small>'"},messages:{loading_timeline:"Az idvonal betltse... ",return_to_title:"Vissza a cmhez",expand_timeline:"Nagyts",contract_timeline:"Kicsinyts",wikipedia:"A Wikipdibl, a szabad enciklopdibl",loading_content:"Tartalom betltse",loading:"Betlts"}}),"undefined"!=typeof d&&(d.Language={lang:"hr",api:{wikipedia:"hr"},date:{month:["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenog","prosinca"],month_abbr:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"],day:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],day_abbr:["ned","pon","uto","sri","et","pet","sub"]},dateformats:{year:"yyyy.",month_short:"mmm",month:"mmmm yyyy.",full_short:"dd. mmm",full:"dd. mmmm yyyy.",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'dd. mmmm yyyy.'</small>'",full_long:"dd. mmmm yyyy. 'u' HH:MM",full_long_small_date:"HH:MM'<br/><small>dd. mmm yyyy.'</small>'"},messages:{loading_timeline:"Uitavanje... ",return_to_title:"Poetak",expand_timeline:"Poveaj",contract_timeline:"Smanji",wikipedia:"Iz Vikipedije, slobodne enciklopedije",loading_content:"Sadraj se uitava",loading:"Uitava se"}}),"undefined"!=typeof d&&(d.Language={lang:"he",right_to_left:!0,api:{wikipedia:"he"},date:{month:["","","","","","","","","","","",""],month_abbr:["","","","","","","","","","","",""],day:["","","","","","",""],day_abbr:[" '"," '"," '"," '"," '"," '",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm,' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"d' mmm,' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"   ... ",return_to_title:" ",expand_timeline:"   ",contract_timeline:"   ",wikipedia:",  ",loading_content:" ...",loading:"..."}}),"undefined"!=typeof d&&(d.Language={lang:"gl",api:{wikipedia:"gl"},date:{month:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuo","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],month_abbr:["Xan.","Feb.","Mar.","Abr.","Mai.","Xu.","Xul.","Ago.","Set.","Out.","Nov.","Dec."],day:["Domingo","Luns","Martes","Mrcores","Xoves","Venres","Sbado"],day_abbr:["Dom.","Lun.","Mar.","Mr.","Xov.","Ven.","Sb."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy 'um' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"Cronoloxa esta cargando",return_to_title:"Volver ao ttulo",expand_timeline:"Alongar a cronoloxa",contract_timeline:"Acurtar a cronoloxa",wikipedia:"Dende Wikipedia, a enciclopedia libre",loading_content:"cargando",loading:"cargando"}}),"undefined"!=typeof d&&(d.Language={lang:"fr",api:{wikipedia:"fr"},date:{month:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],month_abbr:["janv.","fvr.","mars","avril","mai","juin","juil.","aot","sept.","oct.","nov.","dec."],day:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_abbr:["Dim.","Lu.","Ma.","Me.","Jeu.","Vend.","Sam."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy '' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"Chargement de la frise en cours... ",return_to_title:"Retour  la page d'accueil",expand_timeline:"Elargir la frise",contract_timeline:"Rduire la frise",wikipedia:"Extrait de Wikipedia, l'encyclopdie libre",loading_content:"Chargement",loading:"Chargement"}}),"undefined"!=typeof d&&(d.Language={lang:"fo",api:{wikipedia:"fo"},date:{month:["januar","februar","mars","aprl","mai","juni","juli","august","september","oktober","november","desember"],month_abbr:["jan.","febr.","mars","aprl","mai","juni","juli","aug.","sept.","okt.","nov.","des."],day:["sunnudagur","mnadagur","tsdagur","mikudagur","hsdagur","frggjadagur","leygardagur"],day_abbr:["sun.","mn.","ts.","mik.","hs.","fr.","ley."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d'.' mmm",full:"d'.' mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d'.' mmmm yyyy'</small>'",full_long:"d'.' mmmm yyyy 'klokkan' HH:MM",full_long_small_date:"HH:MM'<br/><small>'d'.' mmm yyyy'</small>'"},messages:{loading_timeline:"Lesur inn t&iacute;&eth;arr&aacute;s...",return_to_title:"V&iacute;&eth;ka t&iacute;&eth;arr&aacute;s...",expand_timeline:"Minka t&iacute;&eth;arr&aacute;s...",contract_timeline:"Minka t&iacute;&eth;arr&aacute;s",wikipedia:"Fr Wikipedia",loading_content:"Lesur inn tilfar",loading:"Lesur inn"}}),"undefined"!=typeof d&&(d.Language={lang:"fi",api:{wikipedia:"fi"},date:{month:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","keskuuta","heinkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],month_abbr:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu"],day:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauauntai"],day_abbr:["su","ma","ti","ke","to","pe","la"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d. mmm",full:"d. mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d. mmmm yyyy'</small>'",full_long:"mmm d yyyy 'klo' HH:MM",full_long_small_date:"HH:MM'<br/><small>d. mmm yyyy'</small>'"},messages:{loading_timeline:"Ladataan aikajanaa ",return_to_title:"Takaisin etusivulle",expand_timeline:"Laajenna aikajanaa",contract_timeline:"Tiivist aikajanaa",wikipedia:"Wikipediasta",loading_content:"Ladataan sislt",loading:"Ladataan"}}),"undefined"!=typeof d&&(d.Language={lang:"fa",right_to_left:!0,api:{wikipedia:"fa"},date:{month:["","","","","","","","","","","",""],month_abbr:["","","","","","","","","","","",""],day:["",""," ","","","",""],day_abbr:["",""," ","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_short:"h:MM TT",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"  ...",return_to_title:" ",expand_timeline:"",contract_timeline:"",wikipedia:"    ",loading_content:"",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"eu",api:{wikipedia:"eu"},date:{month:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],month_abbr:["Urt.","Ots.","Mar.","Api.","Mai.","Eka.","Uzt.","Abu.","Ira.","Urr.","Aza.","Abe."],day:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"],day_abbr:["Iga.","Asl.","Asr.","Asz.","Osg.","Osr.","Lar."]},dateformats:{year:"yyyy",month_short:"mmm",month:"yyyy'(e)ko' mmmm",full_short:"mmm'-'d",full:"yyyy'(e)ko' mmmm'k' d",time_short:"h:MM:SS TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br /><small>'yyyy'-'mmm'-'d'</small>",full_long:"yyyy'(e)ko' mmmm'ren' d'(e)an,' hh:MM TT'(r)etan'",full_long_small_date:"hh:MM TT'<br /><small>'yyyy'-'mmm'-'d'</small>"},messages:{loading_timeline:"Kronologia kargatzen...",return_to_title:"Titulura itzuli",expand_timeline:"Handiago ikusi",contract_timeline:"Txikiago ikusi",wikipedia:"Wikipedia entziklopedia libretik",loading_content:"Edukia kargatzen",loading:"Kargatzen"}}),"undefined"!=typeof d&&(d.Language={lang:"et",api:{wikipedia:"et"},date:{month:["jaanuar","veebruar","mrts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"],month_abbr:["jaan.","veebr.","mrts","apr.","mai","juuni","juuli","aug.","sept.","okt.","nov.","dets."],day:["phapev","esmaspev","teisipev","kolmapev","neljapev","reede","laupev"],day_abbr:["P","E","T","K","N","R","L"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Laadib ajajoont ",return_to_title:"Tagasi algusse",expand_timeline:"Vaata lhemalt",contract_timeline:"Vaata kaugemalt",wikipedia:"Wikipedia, vaba entsklopeedia",loading_content:"Laadib sisu",loading:"Laadib"}}),"undefined"!=typeof d&&(d.Language={lang:"es",api:{wikipedia:"es"},date:{month:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_abbr:["Ene.","Feb.","Mar.","Abr.","May.","Jun.","Jul.","Ago.","Sep.","Oct.","Nov.","Dic."],day:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],day_abbr:["Dom.","Lun.","Mar.","Mi.","Jue.","Vie.","Sb."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"'<small>'d mmmm yyyy'</small>' HH:MM",full_long:"dddd',' d mmm yyyy HH:MM",full_long_small_date:"HH:MM'<br/><small>d mmm yyyy'</small>'"},messages:{loading_timeline:"La cronologa esta cargando",return_to_title:"Volver al ttulo",expand_timeline:"Expandir la cronologa",contract_timeline:"Reducir la cronologa",wikipedia:"Desde Wikipedia, la enciclopedia libre",loading_content:"cargando",loading:"cargando"}}),"undefined"!=typeof d&&(d.Language={lang:"eo",api:{wikipedia:"eo"},date:{month:["januaro","februaro","marto","aprilo","majo","junio","julio","agusto","septembro","oktobro","novembro","decembro"],month_abbr:["jan.","feb.","mar.","apr.","maj.","jun.","jul.","ag.","sep.","okt.","nov.","dec."],day:["dimano","lundo","mardo","merkredo","ado","vendredo","sabato"],day_abbr:["dim.","lun.","mar.","mer.","a.","ven.","sab."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"dddd',' d mmm yyyy 'e' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d mmm yyyy'</small>'"},messages:{loading_timeline:"arante Kronologio... ",return_to_title:"Reveno al Titolo",expand_timeline:"Pliampleksigu Kronologio",contract_timeline:"Malpliampleksigu Kronologio",wikipedia:"El Vikipedio, la libera enciklopedio",loading_content:"arante enhavo",loading:"arante"}}),"undefined"!=typeof d&&(d.Language={lang:"en",api:{wikipedia:"en"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"
},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof d&&(d.Language={lang:"en",api:{wikipedia:"en"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM TT",time_no_seconds_small_date:"HH:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' HH:MM TT",full_long_small_date:"HH:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof d&&(d.Language={lang:"en",api:{wikipedia:"en"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".",".",".","",".",".",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:SS TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:" Timeline... ",return_to_title:"  ",expand_timeline:"",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:" ",loading:" "}}),"undefined"!=typeof d&&(d.Language={lang:"de",api:{wikipedia:"de"},date:{month:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],month_abbr:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],day:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],day_abbr:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d. mmm",full:"d. mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d. mmmm yyyy'</small>'",full_long:"dddd',' d. mmm yyyy 'um' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d. mmm yyyy'</small>'"},messages:{loading_timeline:"Chronologie wird geladen...",return_to_title:"Zurck zum Anfang",expand_timeline:"Chronologie vergrern",contract_timeline:"Chronologie verkleinern",wikipedia:"Wikipedia, Die freie Enzyklopdie",loading_content:"Loading",loading:"Loading"}}),"undefined"!=typeof d&&(d.Language={lang:"da",api:{wikipedia:"da"},date:{month:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],month_abbr:["jan.","feb.","mar.","apr.","maj.","jun.","jul.","aug.","sep.","okt.","nov.","dec."],day:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],day_abbr:["s.","ma.","ti.","on.","to.","fr.","l."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d. mmm",full:"d. mmmm',' yyyy",time_short:"HH:MM:ss",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d. mmmm',' yyyy'</small>'",full_long:"dddd',' d. mmm',' yyyy 'um' HH:MM",full_long_small_date:"HH:MM'<br/><small>'dddd',' d. mmm yyyy'</small>'"},messages:{loading_timeline:"Henter tidslinie...",return_to_title:"Tilbage til titel",expand_timeline:"Udvid tidslinien",contract_timeline:"Trk tidslinien sammen",wikipedia:"Fra Wikipedia",loading_content:"Henter indhold",loading:"Henter"}}),"undefined"!=typeof d&&(d.Language={lang:"cz",api:{wikipedia:"cs"},date:{month:["ledna","nora","bezna","dubna","kvtna","ervna","ervence","srpna","z","jna","listopadu","prosince"],month_abbr:["Led","no","Be","Dub","Kv","en","ec","Srp","Z","j","Lis","Pro"],day:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],day_abbr:["Ne","Po","t","St","t","P","So"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d. mmm ",full:"d. mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d. mmmm yyyy'</small>'",full_long:"dddd d. mmm yyyy 'v' HH:MM",full_long_small_date:"HH:MM'<br/><small>dddd d. mmm yyyy'</small>'"},messages:{loading_timeline:"Natm asovou osu... ",return_to_title:"Zpt na zatek",expand_timeline:"Rozbalit asovou osu",contract_timeline:"Sbalit asovou osu",wikipedia:"Zdroj: oteven encyklopedie Wikipedia",loading_content:"Nahrvm obsah",loading:"Nahrvm"}}),"undefined"!=typeof d&&(d.Language={lang:"ca",api:{wikipedia:"ca"},date:{month:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_abbr:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_abbr:["Dg.","Dl.","Dt.","Dc.","Dj.","Dv.","Ds."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"'<small>'d mmmm yyyy'</small>' HH:MM",full_long:"dddd',' d mmm yyyy HH:MM",full_long_small_date:"HH:MM'<br/><small>d mmm yyyy'</small>'"},messages:{loading_timeline:"Carregant cronologia...",return_to_title:"Tornar al ttol",expand_timeline:"Ampliar la cronologia",contract_timeline:"Reduir la cronologia",wikipedia:"Des de Wikipedia, l'enciclopdia lliure",loading_content:"Carregant contingut",loading:"Carregant"}}),"undefined"!=typeof d&&(d.Language={lang:"bg",api:{wikipedia:"bg"},date:{month:["","","","","","","","","","","",""],month_abbr:[".",".","",".","","","",".",".",".",".","."],day:["","","","","","",""],day_abbr:[".",".",".",".",".",".","."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"h:MM:SS TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'d mmmm yyyy'</small>'",full_long:"d mmm yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>d mmm yyyy'</small>'"},messages:{loading_timeline:"... ",return_to_title:" ",expand_timeline:"",contract_timeline:"",wikipedia:" ,  ",loading_content:"  ",loading:" "}}),"undefined"!=typeof d&&(d.Language={lang:"ar",right_to_left:!0,api:{wikipedia:"ar"},date:{month:[" ","","","","","","","",""," "," "," "],month_abbr:[" ","","","","","","","",""," "," "," "],day:["","","","","","",""],day_abbr:["","","","","","",""]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:SS TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:" ... ",return_to_title:"",expand_timeline:" ",contract_timeline:"",wikipedia:" ,  ",loading_content:" ",loading:""}}),"undefined"!=typeof d&&(d.Language={lang:"af",api:{wikipedia:"af"},date:{month:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],month_abbr:["Jan.","Feb.","Maart","April","Mei","Junei","Julie","Aug.","Sept.","Okt.","Nov.","Des."],day:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],day_abbr:["Son.","Maan.","Dins.","Woen.","Don.","Vry.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"d mmm",full:"d mmmm yyyy",time_short:"HH:MM:SS",time_no_seconds_short:"HH:MM",time_no_seconds_small_date:"HH:MM'<br/><small>'d mmmm yyyy'</small>'",full_long:"d mmm',' yyyy 'om' HH:MM",full_long_small_date:"HH:MM'<br/><small>d mmm yyyy'</small>'"},messages:{loading_timeline:"Die tydlyn laai... ",return_to_title:"Begin voor",expand_timeline:"Rek die tydlyn",contract_timeline:"Krimp die tydlyn",wikipedia:"Van Wikipedia, die gratis ensiklopedie",loading_content:"Die inhoud laai",loading:"Aan't laai"}}),function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i){function a(){!e&&this.init&&this.init.apply(this,arguments)}var n=this.prototype;e=!0;var r=new this;e=!1;for(var o in i)r[o]="function"==typeof i[o]&&"function"==typeof n[o]&&t.test(i[o])?function(e,t){return function(){var i=this._super;this._super=n[e];var a=t.apply(this,arguments);return this._super=i,a}}(o,i[o]):i[o];return a.prototype=r,a.prototype.constructor=a,a.extend=arguments.callee,a}}();var l=function(){return this||(0,eval)("this")}();if("undefined"==typeof d){var d=Class.extend({});d.debug=!0,d.master_config={init:function(){return this},sizes:{api:{width:0,height:0}},vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",api_keys_master:{flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"uQKadH1VMlCsp560gN2aOiMz4evWkl1s34yryl3F/9FJOsn+/948CbBUvKLN46U=",twitter:""},timers:{api:7e3},api:{pushques:[]},twitter:{active:!1,array:[],api_loaded:!1,que:[]},flickr:{active:!1,array:[],api_loaded:!1,que:[]},youtube:{active:!1,array:[],api_loaded:!1,que:[]},vimeo:{active:!1,array:[],api_loaded:!1,que:[]},vine:{active:!1,array:[],api_loaded:!1,que:[]},webthumb:{active:!1,array:[],api_loaded:!1,que:[]},googlemaps:{active:!1,map_active:!1,places_active:!1,array:[],api_loaded:!1,que:[]},googledocs:{active:!1,array:[],api_loaded:!1,que:[]},googleplus:{active:!1,array:[],api_loaded:!1,que:[]},wikipedia:{active:!1,array:[],api_loaded:!1,que:[],tries:0},soundcloud:{active:!1,array:[],api_loaded:!1,que:[]}}.init(),d.createElement=function(e,t,i,a,n){var r="";return null!=e&&""!=e&&(r+="<"+e,null!=i&&""!=i&&(r+=" class='"+i+"'"),null!=a&&""!=a&&(r+=" "+a),null!=n&&""!=n&&(r+=" style='"+n+"'"),r+=">",null!=t&&""!=t&&(r+=t),r=r+"</"+e+">"),r},d.createMediaElement=function(e,t,i){var a="";return a+="<div class='media'>",null!=e&&""!=e&&(valid=!0,a+="<img src='"+e+"'>",null!=i&&""!=i&&(a+=d.createElement("div",i,"credit")),null!=t&&""!=t&&(a+=d.createElement("div",t,"caption"))),a+="</div>"},d.hideUrlBar=function(){var t=e,i=t.document;if(!location.hash||!t.addEventListener){e.scrollTo(0,1);var a=1,n=setInterval(function(){i.body&&(clearInterval(n),a="scrollTop"in i.body?i.body.scrollTop:1,t.scrollTo(0,1===a?0:1))},15);t.addEventListener("load",function(){setTimeout(function(){t.scrollTo(0,1===a?0:1)},0)},!1)}}}Date.prototype.getWeek=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)};var m={Null:function(e){return null===e},Undefined:function(e){return e===t},nt:function(e){return null===e||e===t},Function:function(e){return"function"==typeof e?null!==e.constructor.toString().match(/Function/):!1},String:function(e){return"string"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/string/i):!1},Array:function(e){return"object"==typeof e?null!==e.constructor.toString().match(/array/i)||e.length!==t:!1},Boolean:function(e){return"boolean"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/boolean/i):!1},Date:function(e){return"date"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/date/i):!1},HTML:function(e){return"object"==typeof e?null!==e.constructor.toString().match(/html/i):!1},Number:function(e){return"number"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/Number/):!1},Object:function(e){return"object"==typeof e?null!==e.constructor.toString().match(/object/i):!1},RegExp:function(e){return"function"==typeof e?null!==e.constructor.toString().match(/regexp/i):!1}},c={of:function(e){for(var t in m)if(m[t](e))return t.toLowerCase()}};if("undefined"!=typeof d&&(d.smoothScrollTo=function(t,i,a){if("undefined"!=typeof jQuery){var n="easein",r=1e3;null!=i&&(r=1>i?1:Math.round(i)),null!=a&&""!=a&&(n=a),jQuery(e).scrollTop()!=d.Lib.offset(t).top&&d.Lib.animate("html,body",r,n,{scrollTop:d.Lib.offset(t).top})}},d.attachElement=function(e,t){"undefined"!=typeof jQuery&&jQuery(e).html(t)},d.appendElement=function(e,t){"undefined"!=typeof jQuery&&jQuery(e).append(t)},d.getHTML=function(e){var t;return"undefined"!=typeof jQuery?t=jQuery(e).html():void 0},d.getElement=function(e,t){var i;return"undefined"!=typeof jQuery?i=t?jQuery(e).parent().get(0):jQuery(e).get(0):void 0},d.bindEvent=function(e,t,i,a){var n="click",r={};null!=i&&""!=i&&(n=i),null!=r&&""!=r&&(r=a),"undefined"!=typeof jQuery&&jQuery(e).bind(n,r,t)},d.unbindEvent=function(e,t,i){var a="click";null!=i&&""!=i&&(a=i),"undefined"!=typeof jQuery&&jQuery(e).unbind(a,t)},d.fireEvent=function(e,t,i){var a="click",n=[];null!=t&&""!=t&&(a=t),null!=i&&""!=i&&(n=i),"undefined"!=typeof jQuery&&jQuery(e).trigger(a,n)},d.getJSON=function(t,i,n){if("undefined"!=typeof jQuery){if(jQuery.ajaxSetup({timeout:3e3}),"Explorer"==d.Browser.browser&&parseInt(d.Browser.version,10)>=7&&e.XDomainRequest){a("IE JSON");var r=t;return r.match("^http://")?jQuery.getJSON(r,i,n):r.match("^https://")?(r=r.replace("https://","http://"),jQuery.getJSON(r,i,n)):jQuery.getJSON(t,i,n)}return jQuery.getJSON(t,i,n)}},d.parseJSON=function(e){return"undefined"!=typeof jQuery?jQuery.parseJSON(e):void 0},d.appendAndGetElement=function(e,t,i,a){var n,r="<div>",o="",s="";return null!=t&&""!=t&&(r=t),null!=i&&""!=i&&(o=i),null!=a&&""!=a&&(s=a),"undefined"!=typeof jQuery&&(n=jQuery(t),n.addClass(o),n.html(s),jQuery(e).append(n)),n},d.Lib={init:function(){return this},hide:function(e,t){null!=t&&""!=t?"undefined"!=typeof jQuery&&jQuery(e).hide(t):"undefined"!=typeof jQuery&&jQuery(e).hide()},remove:function(e){"undefined"!=typeof jQuery&&jQuery(e).remove()},detach:function(e){"undefined"!=typeof jQuery&&jQuery(e).detach()},append:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).append(t)},prepend:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).prepend(t)},show:function(e,t){null!=t&&""!=t?"undefined"!=typeof jQuery&&jQuery(e).show(t):"undefined"!=typeof jQuery&&jQuery(e).show()},load:function(e,t,i){var a={elem:e};null!=a&&""!=a&&(a=i),"undefined"!=typeof jQuery&&jQuery(e).load(a,t)},addClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).addClass(t)},removeClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).removeClass(t)},attr:function(e,t,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(e).attr(t,i);else if("undefined"!=typeof jQuery)return jQuery(e).attr(t)},prop:function(e,t,i){"undefined"!=typeof jQuery&&/[1-9]\.[3-9].[1-9]/.test(jQuery.fn.jquery)?jQuery(e).prop(t,i):d.Lib.attribute(e,t,i)},attribute:function(e,t,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(e).attr(t,i);else if("undefined"!=typeof jQuery)return jQuery(e).attr(t)},visible:function(e,t){if(null!=t)"undefined"!=typeof jQuery&&(t?jQuery(e).show(0):jQuery(e).hide(0));else if("undefined"!=typeof jQuery)return!!jQuery(e).is(":visible")},css:function(e,t,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(e).css(t,i);else if("undefined"!=typeof jQuery)return jQuery(e).css(t)},cssmultiple:function(e,t){return"undefined"!=typeof jQuery?jQuery(e).css(t):void 0},offset:function(e){var t;return"undefined"!=typeof jQuery&&(t=jQuery(e).offset()),t},position:function(e){var t;return"undefined"!=typeof jQuery&&(t=jQuery(e).position()),t},width:function(e,t){if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).width(t);else if("undefined"!=typeof jQuery)return jQuery(e).width()},height:function(e,t){if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).height(t);else if("undefined"!=typeof jQuery)return jQuery(e).height()},toggleClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).toggleClass(t)},each:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).each(t)},html:function(e,t){var i;if("undefined"!=typeof jQuery)return i=jQuery(e).html();if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).html(t);else{var i;if("undefined"!=typeof jQuery)return i=jQuery(e).html()}},find:function(e,t){return"undefined"!=typeof jQuery?jQuery(e).find(t):void 0},stop:function(e){"undefined"!=typeof jQuery&&jQuery(e).stop()},delay_animate:function(e,t,i,a,n,r){if("mobile"==d.Browser.device||"tablet"==d.Browser.device){var o=Math.round(i/1500*10)/10,s=o+"s";d.Lib.css(t,"-webkit-transition","all "+s+" ease"),d.Lib.css(t,"-moz-transition","all "+s+" ease"),d.Lib.css(t,"-o-transition","all "+s+" ease"),d.Lib.css(t,"-ms-transition","all "+s+" ease"),d.Lib.css(t,"transition","all "+s+" ease"),d.Lib.cssmultiple(t,_att)}else"undefined"!=typeof jQuery&&jQuery(t).delay(e).animate(n,{duration:i,easing:a})},animate:function(e,t,i,n,r,o){var s="easein",l=!1,m=1e3,c={};if(null!=t&&(m=1>t?1:Math.round(t)),null!=i&&""!=i&&(s=i),null!=r&&""!=r&&(l=r),c=null!=n?n:{opacity:0},"mobile"==d.Browser.device||"tablet"==d.Browser.device){var u=Math.round(m/1500*10)/10,h=u+"s";s=" cubic-bezier(0.33, 0.66, 0.66, 1)";for(x in c)Object.prototype.hasOwnProperty.call(c,x)&&(a(x+" to "+c[x]),d.Lib.css(e,"-webkit-transition",x+" "+h+s),d.Lib.css(e,"-moz-transition",x+" "+h+s),d.Lib.css(e,"-o-transition",x+" "+h+s),d.Lib.css(e,"-ms-transition",x+" "+h+s),d.Lib.css(e,"transition",x+" "+h+s));d.Lib.cssmultiple(e,c)}else"undefined"!=typeof jQuery&&(null!=o&&""!=o?jQuery(e).animate(c,{queue:l,duration:m,easing:s,complete:o}):jQuery(e).animate(c,{queue:l,duration:m,easing:s}))}}),"undefined"!=typeof jQuery&&(!function(i){e.XDomainRequest&&i.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var a;return{send:function(n,r){function o(e,n,o,s){a.onload=a.onerror=a.ontimeout=i.noop,a=t,r(e,n,o,s)}a=new XDomainRequest,a.open(e.type,e.url),a.onload=function(){o(200,"OK",{text:a.responseText},"Content-Type: "+a.contentType)},a.onerror=function(){o(404,"Not Found")},e.xdrTimeout&&(a.ontimeout=function(){o(0,"timeout")},a.timeout=e.xdrTimeout),a.send(e.hasContent&&e.data||null)},abort:function(){a&&(a.onerror=i.noop(),a.abort())}}}})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,a,n){return jQuery.easing[jQuery.easing.def](e,t,i,a,n)},easeInExpo:function(e,t,i,a,n){return 0==t?i:a*Math.pow(2,10*(t/n-1))+i},easeOutExpo:function(e,t,i,a,n){return t==n?i+a:a*(-Math.pow(2,-10*t/n)+1)+i},easeInOutExpo:function(e,t,i,a,n){return 0==t?i:t==n?i+a:(t/=n/2)<1?a/2*Math.pow(2,10*(t-1))+i:a/2*(-Math.pow(2,-10*--t)+2)+i},easeInQuad:function(e,t,i,a,n){return a*(t/=n)*t+i},easeOutQuad:function(e,t,i,a,n){return-a*(t/=n)*(t-2)+i},easeInOutQuad:function(e,t,i,a,n){return(t/=n/2)<1?a/2*t*t+i:-a/2*(--t*(t-2)-1)+i}})),"undefined"!=typeof d&&"undefined"==typeof d.Browser&&(d.Browser={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS",this.device=this.searchDevice(navigator.userAgent),this.orientation=this.searchOrientation(e.orientation)},searchOrientation:function(e){var t="";return t=0==e||180==e?"portrait":90==e||-90==e?"landscape":"normal"},searchDevice:function(e){var t="";return t=e.match(/Android/i)||e.match(/iPhone|iPod/i)?"mobile":e.match(/iPad/i)?"tablet":e.match(/BlackBerry/i)||e.match(/IEMobile/i)?"other mobile":"desktop"},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string,a=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!=i.indexOf(e[t].subString))return e[t].identity}else if(a)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},d.Browser.init()),"undefined"!=typeof d&&"undefined"==typeof d.FileExtention&&(d.FileExtention={googleDocType:function(e){var t=e.replace(/\s\s*$/,""),i="",a=["DOC","DOCX","XLS","XLSX","PPT","PPTX","PDF","PAGES","AI","PSD","TIFF","DXF","SVG","EPS","PS","TTF","XPS","ZIP","RAR"],n=!1;i=t.substr(t.length-5,5);for(var r=0;r<a.length;r++)(i.toLowerCase().match(a[r].toString().toLowerCase())||t.match("docs.google.com"))&&(n=!0);return n}}),"undefined"!=typeof d&&"undefined"==typeof d.Date){d.Date={init:function(){return this},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:["am"],bc_format:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"dddd', 'h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"dddd',' mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' mmm d',' yyyy'</small>'"},setLanguage:function(e){a("SET DATE LANGUAGE"),d.Date.dateformats=e.dateformats,d.Date.month=e.date.month,d.Date.month_abbr=e.date.month_abbr,d.Date.day=e.date.day,d.Date.day_abbr=e.date.day_abbr,u.i18n.dayNames=e.date.day_abbr.concat(e.date.day),u.i18n.monthNames=e.date.month_abbr.concat(e.date.month)},parse:function(e,t){var i,n,r,o,s={year:!1,month:!1,day:!1,hour:!1,minute:!1,second:!1,millisecond:!1};if("date"==c.of(e))a("DEBUG THIS, ITs A DATE"),i=e;else if(i=new Date(0,0,1,0,0,0,0),e.match(/,/gi)){n=e.split(",");for(var l=0;l<n.length;l++)n[l]=parseInt(n[l],10);n[0]&&(i.setFullYear(n[0]),s.year=!0),n[1]&&(i.setMonth(n[1]-1),s.month=!0),n[2]&&(i.setDate(n[2]),s.day=!0),n[3]&&(i.setHours(n[3]),s.hour=!0),n[4]&&(i.setMinutes(n[4]),s.minute=!0),n[5]&&(i.setSeconds(n[5]),n[5]>=1&&(s.second=!0)),n[6]&&(i.setMilliseconds(n[6]),n[6]>=1&&(s.millisecond=!0))}else if(e.match("/"))e.match(" ")?(o=e.split(" "),e.match(":")&&(r=o[1].split(":"),r[0]>=0&&(i.setHours(r[0]),s.hour=!0),r[1]>=0&&(i.setMinutes(r[1]),s.minute=!0),r[2]>=0&&(i.setSeconds(r[2]),s.second=!0),r[3]>=0&&(i.setMilliseconds(r[3]),s.millisecond=!0)),n=o[0].split("/")):n=e.split("/"),n[2]&&(i.setFullYear(n[2]),s.year=!0),n[0]>=0&&(i.setMonth(n[0]-1),s.month=!0),n[1]>=0&&(n[1].length>2?(i.setFullYear(n[1]),s.year=!0):(i.setDate(n[1]),s.day=!0));else if(e.match("now")){var d=new Date;i.setFullYear(d.getFullYear()),s.year=!0,i.setMonth(d.getMonth()),s.month=!0,i.setDate(d.getDate()),s.day=!0,e.match("hours")&&(i.setHours(d.getHours()),s.hour=!0),e.match("minutes")&&(i.setHours(d.getHours()),i.setMinutes(d.getMinutes()),s.hour=!0,s.minute=!0),e.match("seconds")&&(i.setHours(d.getHours()),i.setMinutes(d.getMinutes()),i.setSeconds(d.getSeconds()),s.hour=!0,s.minute=!0,s.second=!0),e.match("milliseconds")&&(i.setHours(d.getHours()),i.setMinutes(d.getMinutes()),i.setSeconds(d.getSeconds()),i.setMilliseconds(d.getMilliseconds()),s.hour=!0,s.minute=!0,s.second=!0,s.millisecond=!0)}else e.length<=8?(s.year=!0,i.setFullYear(parseInt(e,10)),i.setMonth(0),i.setDate(1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):e.match("T")?navigator.userAgent.match(/MSIE\s(?!9.0)/)?(o=e.split("T"),e.match(":")&&(r=o[1].split(":"),r[0]>=1&&(i.setHours(r[0]),s.hour=!0),r[1]>=1&&(i.setMinutes(r[1]),s.minute=!0),r[2]>=1&&(i.setSeconds(r[2]),r[2]>=1&&(s.second=!0)),r[3]>=1&&(i.setMilliseconds(r[3]),r[3]>=1&&(s.millisecond=!0))),n=o[0].split("-"),n[0]&&(i.setFullYear(n[0]),s.year=!0),n[1]>=0&&(i.setMonth(n[1]-1),s.month=!0),n[2]>=0&&(i.setDate(n[2]),s.day=!0)):(i=new Date(Date.parse(e)),s.year=!0,s.month=!0,s.day=!0,s.hour=!0,s.minute=!0,i.getSeconds()>=1&&(s.second=!0),i.getMilliseconds()>=1&&(s.millisecond=!0)):(i=new Date(parseInt(e.slice(0,4),10),parseInt(e.slice(4,6),10)-1,parseInt(e.slice(6,8),10),parseInt(e.slice(8,10),10),parseInt(e.slice(10,12),10)),s.year=!0,s.month=!0,s.day=!0,s.hour=!0,s.minute=!0,i.getSeconds()>=1&&(s.second=!0),i.getMilliseconds()>=1&&(s.millisecond=!0));return null!=t&&""!=t?{date:i,precision:s}:i},prettyDate:function(e,t,i,n){var r,o,s,l,m,h,p,g=!1;if(null!=n&&""!=n&&"undefined"!=typeof n&&(g=!0,a("D2 "+n)),"date"==c.of(e)){s="object"==c.of(i)?i.millisecond||i.second&&e.getSeconds()>=1?t?d.Date.dateformats.time_short:d.Date.dateformats.time_short:i.minute?t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.time_no_seconds_small_date:i.hour?t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.time_no_seconds_small_date:i.day?t?d.Date.dateformats.full_short:d.Date.dateformats.full:i.month?t?d.Date.dateformats.month_short:d.Date.dateformats.month:i.year?d.Date.dateformats.year:d.Date.dateformats.year:0===e.getMonth()&&1==e.getDate()&&0===e.getHours()&&0===e.getMinutes()?d.Date.dateformats.year:e.getDate()<=1&&0===e.getHours()&&0===e.getMinutes()?t?d.Date.dateformats.month_short:d.Date.dateformats.month:0===e.getHours()&&0===e.getMinutes()?t?d.Date.dateformats.full_short:d.Date.dateformats.full:0===e.getMinutes()?t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.time_no_seconds_small_date:t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.full_long,r=u(e,s,!1),l=r.split(" ");for(var f=0;f<l.length;f++)parseInt(l[f],10)<0&&(a("YEAR IS BC"),m=l[f],h=Math.abs(parseInt(l[f],10)),p=h.toString()+" B.C.",r=r.replace(m,p));if(g){o=u(n,s,!1),l=o.split(" ");for(var y=0;y<l.length;y++)parseInt(l[y],10)<0&&(a("YEAR IS BC"),m=l[y],h=Math.abs(parseInt(l[y],10)),p=h.toString()+" B.C.",o=o.replace(m,p))}}else a("NOT A VALID DATE?"),a(e);return g?r+" &mdash; "+o:r}}.init();var u=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(o,s,l){var d=u;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(s=o,o=t),isNaN(o)&&a("invalid date "+o),s=String(d.masks[s]||s||d.masks["default"]),"UTC:"==s.slice(0,4)&&(s=s.slice(4),l=!0);var m=l?"getUTC":"get",c=o[m+"Date"](),h=o[m+"Day"](),p=o[m+"Month"](),g=o[m+"FullYear"](),f=o[m+"Hours"](),y=o[m+"Minutes"](),v=o[m+"Seconds"](),b=o[m+"Milliseconds"](),_=l?0:o.getTimezoneOffset(),w={d:c,dd:r(c),ddd:d.i18n.dayNames[h],dddd:d.i18n.dayNames[h+7],m:p+1,mm:r(p+1),mmm:d.i18n.monthNames[p],mmmm:d.i18n.monthNames[p+12],yy:String(g).slice(2),yyyy:g,h:f%12||12,hh:r(f%12||12),H:f,HH:r(f),M:y,MM:r(y),s:v,ss:r(v),l:r(b,3),L:r(b>99?Math.round(b/10):b),t:12>f?"a":"p",tt:12>f?"am":"pm",T:12>f?"A":"P",TT:12>f?"AM":"PM",Z:l?"UTC":(String(o).match(i)||[""]).pop().replace(n,""),o:(_>0?"-":"+")+r(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return s.replace(e,function(e){return e in w?w[e]:e.slice(1,e.length-1)})}}();u.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return u(this,e,t)}}"undefined"!=typeof d&&"undefined"==typeof d.Util&&(d.Util={init:function(){return this},removeRange:function(e,t,i){var a=e.slice((i||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,a)},correctProtocol:function(t){var i=e.parent.location.protocol.toString(),a="",n=t.split("://",2);return a=i.match("http")?i:"https",a+"://"+n[1]},mergeConfig:function(e,t){var i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},getObjectAttributeByIndex:function(e,t){if("undefined"!=typeof e){var i=0;for(var a in e){if(t===i)return e[a];i++}return""}return""},ordinal:function(e){return["th","st","nd","rd"][!(e%10>3||1==Math.floor(e%100/10))*(e%10)]},randomBetween:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},average:function(e){for(var t,i={mean:0,variance:0,deviation:0},a=e.length,n=0,r=a;r--;n+=e[r]);for(t=i.mean=n/a,r=a,n=0;r--;n+=Math.pow(e[r]-t,2));return i.deviation=Math.sqrt(i.variance=n/a),i},customSort:function(e,t){var i=e,a=t;return i==a?0:i>a?1:-1},deDupeArray:function(e){var t,i=e.length,a=[],n={};for(t=0;i>t;t++)n[e[t]]=0;for(t in n)a.push(t);return a},number2money:function(e,t,i){var t=null!==t?t:!0,i=null!==i?i:!1,a=d.Math2.floatPrecision(e,2),n=this.niceNumber(a);return!n.split(/\./g)[1]&&i&&(n+=".00"),
t&&(n="$"+n),n},wordCount:function(e){var t=e+" ",i=/^[^A-Za-z0-9\'\-]+/gi,a=t.replace(i,""),n=/[^A-Za-z0-9\'\-]+/gi,r=a.replace(n," "),o=r.split(" "),s=o.length-1;return t.length<2&&(s=0),s},ratio:{fit:function(e,t,i,n){var r={width:0,height:0};return r.width=e,r.height=Math.round(e/i*n),r.height>t&&(r.height=t,r.width=Math.round(t/n*i),r.width>e&&a("FIT: DIDN'T FIT!!! ")),r},r16_9:function(e,t){return null!==e&&""!==e?Math.round(t/16*9):null!==t&&""!==t?Math.round(e/9*16):void 0},r4_3:function(e,t){return null!==e&&""!==e?Math.round(t/4*3):null!==t&&""!==t?Math.round(e/3*4):void 0}},doubledigit:function(e){return(10>e?"0":"")+e},truncateWords:function(e,t,i){t||(t=30),i||(i=t);var a=/^[^A-Za-z0-9\'\-]+/gi,n=e.replace(a,""),r=n.split(" "),o=[];t=Math.min(r.length,t),i=Math.min(r.length,i);for(var s=0;t>s;s++)o.push(r[s]);for(;i>s;s++){var l=r[s];if(o.push(l),"."==l.charAt(l.length-1))break}return o.join(" ")},linkify:function(e,t,i){var a=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,r=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return e.replace(a,"<a target='_blank' href='$&' onclick='void(0)'>$&</a>").replace(n,"$1<a target='_blank' onclick='void(0)' href='http://$2'>$2</a>").replace(r,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>")},linkify_with_twitter:function(e,t,i){var a=/(\()((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\))|(\[)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\])|(\{)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\})|(<|&(?:lt|#60|#x3c);)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(>|&(?:gt|#62|#x3e);)|((?:^|[^=\s'"\]])\s*['"]?|[^=\s]\s+)(\b(?:ht|f)tps?:\/\/[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]+(?:(?!&(?:gt|#0*62|#x0*3e);|&(?:amp|apos|quot|#0*3[49]|#x0*2[27]);[.!&',:?;]?(?:[^a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]|$))&[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]*)*[a-z0-9\-_~$()*+=\/#[\]@%])/gim,n='$1$4$7$10$13<a href="$2$5$8$11$14" target="_blank" class="hyphenate">$2$5$8$11$14</a>$3$6$9$12',r=/(^|[^\/])(www\.[\S]+(\b|$))/gim,o=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,s=/\B@([\w-]+)/gm;return e.replace(a,n).replace(r,"$1<a target='_blank' class='hyphenate' onclick='void(0)' href='http://$2'>$2</a>").replace(o,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>").replace(s,"<a href='http://twitter.com/$1' target='_blank' onclick='void(0)'>@$1</a>")},linkify_wikipedia:function(e){var t=/<i[^>]*>(.*?)<\/i>/gim;return e.replace(t,"<a target='_blank' href='http://en.wikipedia.org/wiki/$&' onclick='void(0)'>$&</a>").replace(/<i\b[^>]*>/gim,"").replace(/<\/i>/gim,"").replace(/<b\b[^>]*>/gim,"").replace(/<\/b>/gim,"")},unlinkify:function(e){return e?(e=e.replace(/<a\b[^>]*>/i,""),e=e.replace(/<\/a>/i,"")):e},untagify:function(e){return e?e=e.replace(/<\s*\w.*?>/g,""):e},nl2br:function(e){return e.replace(/(\r\n|[\r\n]|\\n|\\r)/g,"<br/>")},unique_ID:function(e){var t=function(e){return Math.floor(Math.random()*e)},i=function(){var e="abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";return e.substr(t(62),1)},a=function(e){for(var t="",a=0;e>a;a++)t+=i();return t};return a(e)},isEven:function(e){return e%2===0},getUrlVars:function(e){var t=e.toString();t.match("&#038;")?t=t.replace("&#038;","&"):t.match("&#38;")?t=t.replace("&#38;","&"):t.match("&amp;")&&(t=t.replace("&amp;","&"));for(var i,a=[],n=t.slice(t.indexOf("?")+1).split("&"),r=0;r<n.length;r++)i=n[r].split("="),a.push(i[0]),a[i[0]]=i[1];return a},toHTML:function(e){return e=this.nl2br(e),e=this.linkify(e),e.replace(/\s\s/g,"&nbsp;&nbsp;")},toCamelCase:function(e,t){t!==!1&&(t=!0);for(var i=(t?e.toLowerCase():e).split(" "),a=0;a<i.length;a++)i[a]=i[a].substr(0,1).toUpperCase()+i[a].substr(1);return i.join(" ")},properQuotes:function(e){return e.replace(/\"([^\"]*)\"/gi,"&#8220;$1&#8221;")},niceNumber:function(e){e+="",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2},toTitleCase:function(e){if("Explorer"==d.Browser.browser&&parseInt(d.Browser.version,10)>=7)return e.replace("_","%20");var t={__smallWords:["a","an","and","as","at","but","by","en","for","if","in","of","on","or","the","to","v[.]?","via","vs[.]?"],init:function(){this.__smallRE=this.__smallWords.join("|"),this.__lowerCaseWordsRE=new RegExp("\\b("+this.__smallRE+")\\b","gi"),this.__firstWordRE=new RegExp("^([^a-zA-Z0-9 \\r\\n\\t]*)("+this.__smallRE+")\\b","gi"),this.__lastWordRE=new RegExp("\\b("+this.__smallRE+")([^a-zA-Z0-9 \\r\\n\\t]*)$","gi")},toTitleCase:function(e){for(var t="",i=e.split(/([:.;?!][ ]|(?:[ ]|^)["])/),a=0;a<i.length;++a){var n=i[a];n=n.replace(/\b([a-zA-Z][a-z.']*)\b/g,this.__titleCaseDottedWordReplacer),n=n.replace(this.__lowerCaseWordsRE,this.__lowerReplacer),n=n.replace(this.__firstWordRE,this.__firstToUpperCase),n=n.replace(this.__lastWordRE,this.__firstToUpperCase),t+=n}return t=t.replace(/ V(s?)\. /g," v$1. "),t=t.replace(/(['])S\b/g,"$1s"),t=t.replace(/\b(AT&T|Q&A)\b/gi,this.__upperReplacer)},__titleCaseDottedWordReplacer:function(e){return e.match(/[a-zA-Z][.][a-zA-Z]/)?e:t.__firstToUpperCase(e)},__lowerReplacer:function(e){return e.toLowerCase()},__upperReplacer:function(e){return e.toUpperCase()},__firstToUpperCase:function(e){var t=e.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);return t[1]&&(t[1]=t[1].toUpperCase()),t.join("")}};return t.init(),e=e.replace(/_/g," "),e=t.toTitleCase(e)}}.init()),LazyLoad=function(e){function t(t,i){var a,n=e.createElement(t);for(a in i)i.hasOwnProperty(a)&&n.setAttribute(a,i[a]);return n}function i(e){var t,i,a=d[e];a&&(t=a.callback,i=a.urls,i.shift(),m=0,i.length||(t&&t.call(a.context,a.obj),d[e]=null,c[e].length&&n(e)))}function a(){var t=navigator.userAgent;s={async:e.createElement("script").async===!0},(s.webkit=/AppleWebKit\//.test(t))||(s.ie=/MSIE/.test(t))||(s.opera=/Opera/.test(t))||(s.gecko=/Gecko\//.test(t))||(s.unknown=!0)}function n(n,m,u,h,p){var g,f,y,v,b,_,w=function(){i(n)},M="css"===n,T=[];if(s||a(),m)if(m="string"==typeof m?[m]:m.concat(),M||s.async||s.gecko||s.opera)c[n].push({urls:m,callback:u,obj:h,context:p});else for(g=0,f=m.length;f>g;++g)c[n].push({urls:[m[g]],callback:g===f-1?u:null,obj:h,context:p});if(!d[n]&&(v=d[n]=c[n].shift())){for(l||(l=e.head||e.getElementsByTagName("head")[0]),b=v.urls,g=0,f=b.length;f>g;++g)_=b[g],M?y=s.gecko?t("style"):t("link",{href:_,rel:"stylesheet"}):(y=t("script",{src:_}),y.async=!1),y.className="lazyload",y.setAttribute("charset","utf-8"),s.ie&&!M?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&(y.onreadystatechange=null,w())}:M&&(s.gecko||s.webkit)?s.webkit?(v.urls[g]=y.href,o()):(y.innerHTML='@import "'+_+'";',r(y)):y.onload=y.onerror=w,T.push(y);for(g=0,f=T.length;f>g;++g)l.appendChild(T[g])}}function r(e){var t;try{t=!!e.sheet.cssRules}catch(a){return m+=1,void(200>m?setTimeout(function(){r(e)},50):t&&i("css"))}i("css")}function o(){var e,t=d.css;if(t){for(e=u.length;--e>=0;)if(u[e].href===t.urls[0]){i("css");break}m+=1,t&&(200>m?setTimeout(o,50):i("css"))}}var s,l,d={},m=0,c={css:[],js:[]},u=e.styleSheets;return{css:function(e,t,i,a){n("css",e,t,i,a)},js:function(e,t,i,a){n("js",e,t,i,a)}}}(this.document),LoadLib=function(e){function t(e){var t=0,a=!1;for(t=0;t<i.length;t++)i[t]==e&&(a=!0);return a?!0:(i.push(e),!1)}var i=[];return{css:function(e,i,a,n){t(e)||LazyLoad.css(e,i,a,n)},js:function(e,i,a,n){t(e)||LazyLoad.js(e,i,a,n)}}}(this.document),"undefined"!=typeof d&&"undefined"==typeof d.Language&&(d.Language={lang:"en",api:{wikipedia:"en"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof d&&"undefined"==typeof d.ExternalAPI&&(d.ExternalAPI={keys:{google:"",flickr:"",twitter:""},keys_master:{vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"jwNGnYw4hE9lmAez4ll0QD+jo6SKBJFknkopLS4FrSAuGfIwyj57AusuR0s8dAo=",twitter:""},init:function(){return this},setKeys:function(e){d.ExternalAPI.keys=e},pushQues:function(){d.master_config.googlemaps.active&&d.ExternalAPI.googlemaps.pushQue(),d.master_config.youtube.active&&d.ExternalAPI.youtube.pushQue(),d.master_config.soundcloud.active&&d.ExternalAPI.soundcloud.pushQue(),d.master_config.googledocs.active&&d.ExternalAPI.googledocs.pushQue(),d.master_config.googleplus.active&&d.ExternalAPI.googleplus.pushQue(),d.master_config.wikipedia.active&&d.ExternalAPI.wikipedia.pushQue(),d.master_config.vimeo.active&&d.ExternalAPI.vimeo.pushQue(),d.master_config.vine.active&&d.ExternalAPI.vine.pushQue(),d.master_config.twitter.active&&d.ExternalAPI.twitter.pushQue(),d.master_config.flickr.active&&d.ExternalAPI.flickr.pushQue(),d.master_config.webthumb.active&&d.ExternalAPI.webthumb.pushQue()},twitter:{tweetArray:[],get:function(e){var t={mid:e.id,id:e.uid};d.master_config.twitter.que.push(t),d.master_config.twitter.active=!0},create:function(e,t){e.mid.toString(),{twitterid:e.mid},"//api.twitter.com/1/statuses/show.json?id="+e.mid+"&include_entities=true&callback=?";d.ExternalAPI.twitter.getOEmbed(e,t)},errorTimeOut:function(e){a("TWITTER JSON ERROR TIMEOUT "+e.mid),d.attachElement("#"+e.id.toString(),d.MediaElement.loadingmessage("Still waiting on Twitter: "+e.mid)),d.getJSON("//api.twitter.com/1/account/rate_limit_status.json",function(t){a("REMAINING TWITTER API CALLS "+t.remaining_hits),a("TWITTER RATE LIMIT WILL RESET AT "+t.reset_time);var i="";0==t.remaining_hits?(i="<p>You've reached the maximum number of tweets you can load in an hour.</p>",i+="<p>You can view tweets again starting at: <br/>"+t.reset_time+"</p>"):i="<p>Still waiting on Twitter. "+e.mid+"</p>",d.attachElement("#"+e.id.toString(),d.MediaElement.loadingmessage(i))})},errorTimeOutOembed:function(e){a("TWITTER JSON ERROR TIMEOUT "+e.mid),d.attachElement("#"+e.id.toString(),d.MediaElement.loadingmessage("Still waiting on Twitter: "+e.mid))},pushQue:function(){d.master_config.twitter.que.length>0&&(d.ExternalAPI.twitter.create(d.master_config.twitter.que[0],d.ExternalAPI.twitter.pushQue),d.Util.removeRange(d.master_config.twitter.que,0))},getOEmbed:function(e,t){var i="//api.twitter.com/1/statuses/oembed.json?id="+e.mid+"&omit_script=true&include_entities=true&callback=?",n=setTimeout(d.ExternalAPI.twitter.errorTimeOutOembed,d.master_config.timers.api,e);d.getJSON(i,function(t){var i="",a="";i+=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",a=t.author_url.split("twitter.com/")[1],i+="<div class='vcard author'>",i+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",i+="<span class='avatar'></span>",i+="<span class='fn'>"+t.author_name+"</span>",i+="<span class='nickname'>@"+a+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",d.attachElement("#"+e.id.toString(),i),d.attachElement("#text_thumb_"+e.id.toString(),t.html),d.attachElement("#marker_content_"+e.id.toString(),t.html)}).error(function(t,i,r){a("TWITTER error"),a("TWITTER ERROR: "+i+" "+t.responseText),clearTimeout(n),d.attachElement("#"+e.id,d.MediaElement.loadingmessage("ERROR LOADING TWEET "+e.mid))}).success(function(e){clearTimeout(n),t()})},getHTML:function(e){var t="//api.twitter.com/1/statuses/oembed.json?id="+e+"&omit_script=true&include_entities=true&callback=?";d.getJSON(t,d.ExternalAPI.twitter.onJSONLoaded)},onJSONLoaded:function(e){a("TWITTER JSON LOADED");var t=e.id;d.attachElement("#"+t,d.Util.linkify_with_twitter(e.html))},parseTwitterDate:function(e){var t=new Date(Date.parse(e));return t},prettyParseTwitterDate:function(e){var t=new Date(Date.parse(e));return d.Date.prettyDate(t,!0)},getTweets:function(e){for(var t=[],i=e.length,n=0;n<e.length;n++){var r="";r=e[n].tweet.match("status/")?e[n].tweet.split("status/")[1]:e[n].tweet.match("statuses/")?e[n].tweet.split("statuses/")[1]:"";var o="//api.twitter.com/1/statuses/show.json?id="+r+"&include_entities=true&callback=?";d.getJSON(o,function(e){var a={},n="<div class='twitter'><blockquote><p>",r=d.Util.linkify_with_twitter(e.text,"_blank");if(n+=r,n+="</p>",n+=" "+e.user.name+" (<a href='https://twitter.com/"+e.user.screen_name+"'>@"+e.user.screen_name+"</a>) <a href='https://twitter.com/"+e.user.screen_name+"/status/"+e.id+"'>"+d.ExternalAPI.twitter.prettyParseTwitterDate(e.created_at)+" </a></blockquote></div>",a.content=n,a.raw=e,t.push(a),t.length==i){var o={tweetdata:t};d.fireEvent(l,"TWEETSLOADED",o)}}).success(function(){a("second success")}).error(function(){a("error")}).complete(function(){a("complete")})}},getTweetSearch:function(e,t){var i=40;null!=t&&""!=t&&(i=t);var a="//search.twitter.com/search.json?q="+e+"&rpp="+i+"&include_entities=true&result_type=mixed",n=[];d.getJSON(a,function(e){for(var t=0;t<e.results.length;t++){var i={},a="<div class='twitter'><blockquote><p>",r=d.Util.linkify_with_twitter(e.results[t].text,"_blank");a+=r,a+="</p>",a+=" "+e.results[t].from_user_name+" (<a href='https://twitter.com/"+e.results[t].from_user+"'>@"+e.results[t].from_user+"</a>) <a href='https://twitter.com/"+e.results[t].from_user+"/status/"+e.id+"'>"+d.ExternalAPI.twitter.prettyParseTwitterDate(e.results[t].created_at)+" </a></blockquote></div>",i.content=a,i.raw=e.results[t],n.push(i)}var o={tweetdata:n};d.fireEvent(l,"TWEETSLOADED",o)})},prettyHTML:function(e,t){var e=e.toString(),i="//api.twitter.com/1/statuses/show.json?id="+e+"&include_entities=true&callback=?",n=setTimeout(d.ExternalAPI.twitter.errorTimeOut,d.master_config.timers.api,e);d.getJSON(i,d.ExternalAPI.twitter.formatJSON).error(function(t,i,n){a("TWITTER error"),a("TWITTER ERROR: "+i+" "+t.responseText),d.attachElement("#twitter_"+e,"<p>ERROR LOADING TWEET "+e+"</p>")}).success(function(e){clearTimeout(n),t&&d.ExternalAPI.twitter.secondaryMedia(e)})},formatJSON:function(e){var t=e.id_str,i="<blockquote><p>",a=d.Util.linkify_with_twitter(e.text,"_blank");i+=a,i+="</p></blockquote>",i+="<div class='vcard author'>",i+="<a class='screen-name url' href='https://twitter.com/"+e.user.screen_name+"' data-screen-name='"+e.user.screen_name+"' target='_blank'>",i+="<span class='avatar'><img src=' "+e.user.profile_image_url+"'  alt=''></span>",i+="<span class='fn'>"+e.user.name+"</span>",i+="<span class='nickname'>@"+e.user.screen_name+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>","undefined"!=typeof e.entities.media&&"photo"==e.entities.media[0].type&&(i+="<img src=' "+e.entities.media[0].media_url+"'  alt=''>"),d.attachElement("#twitter_"+t.toString(),i),d.attachElement("#text_thumb_"+t.toString(),e.text)}},googlemaps:{maptype:"TERRAIN",setMapType:function(e){""!=e&&(d.ExternalAPI.googlemaps.maptype=e)},get:function(e){var t,i;e.vars=d.Util.getUrlVars(e.id),t=""!=d.ExternalAPI.keys.google?d.ExternalAPI.keys.google:h.Ctr.decrypt(d.ExternalAPI.keys_master.google,d.ExternalAPI.keys_master.vp,256),i="//maps.googleapis.com/maps/api/js?key="+t+"&v=3.9&libraries=places&sensor=false&callback=VMM.ExternalAPI.googlemaps.onMapAPIReady",d.master_config.googlemaps.active?d.master_config.googlemaps.que.push(e):(d.master_config.googlemaps.que.push(e),d.master_config.googlemaps.api_loaded||LoadLib.js(i,function(){a("Google Maps API Library Loaded")}))},create:function(e){d.ExternalAPI.googlemaps.createAPIMap(e)},createiFrameMap:function(e){var t=e.id+"&output=embed",i="",a=e.uid.toString()+"_gmap";i+="<div class='google-map' id='"+a+"' style='width=100%;height=100%;'>",i+="<iframe width='100%' height='100%' frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='"+t+"'></iframe>",i+="</div>",d.attachElement("#"+e.uid,i)},createAPIMap:function(e){function t(e){return e in d.ExternalAPI.googlemaps.map_providers?(u=d.ExternalAPI.googlemaps.map_attribution[d.ExternalAPI.googlemaps.map_providers[e].attribution],d.ExternalAPI.googlemaps.map_providers[e]):d.ExternalAPI.googlemaps.defaultType(e)?(a("GOOGLE MAP DEFAULT TYPE"),google.maps.MapTypeId[e.toUpperCase()]):void a("Not a maptype: "+e)}function i(){var t,i=new google.maps.Geocoder,r=d.Util.getUrlVars(e.id).q;if(r.match("loc:")){var o=r.split(":")[1].split("+");g=new google.maps.LatLng(parseFloat(o[0]),parseFloat(o[1])),y=!0}i.geocode({address:r},function(e,i){i==google.maps.GeocoderStatus.OK?(t=new google.maps.Marker({map:s,position:e[0].geometry.location}),"undefined"!=typeof e[0].geometry.viewport?s.fitBounds(e[0].geometry.viewport):"undefined"!=typeof e[0].geometry.bounds?s.fitBounds(e[0].geometry.bounds):s.setCenter(e[0].geometry.location),y&&s.panTo(g),v&&s.setZoom(f)):(a("Geocode for "+r+" was not successful for the following reason: "+i),a("TRYING PLACES SEARCH"),y&&s.panTo(g),v&&s.setZoom(f),n())})}function n(){function t(t,n){if(n==google.maps.places.PlacesServiceStatus.OK){for(var r=0;r<t.length;r++);y?s.panTo(g):t.length>=1&&(s.panTo(t[0].geometry.location),v&&s.setZoom(f))}else a("Place search for "+i.query+" was not successful for the following reason: "+n),a("YOU MAY NEED A GOOGLE MAPS API KEY IN ORDER TO USE THIS FEATURE OF TIMELINEJS"),a("FIND OUT HOW TO GET YOUR KEY HERE: https://developers.google.com/places/documentation/#Authentication"),y?(s.panTo(g),v&&s.setZoom(f)):(a("USING SIMPLE IFRAME MAP EMBED"),e.id[0].match("https")&&(e.id=e.url[0].replace("https","http")),d.ExternalAPI.googlemaps.createiFrameMap(e))}var i,n,r,o,l;place_search=new google.maps.places.PlacesService(s),n=new google.maps.InfoWindow,i={query:"",types:["country","neighborhood","political","locality","geocode"]},"string"==c.of(d.Util.getUrlVars(e.id).q)&&(i.query=d.Util.getUrlVars(e.id).q),y?(i.location=g,i.radius="15000"):(o=new google.maps.LatLng(-89.999999,-179.999999),l=new google.maps.LatLng(89.999999,179.999999),r=new google.maps.LatLngBounds(o,l)),place_search.textSearch(i,t)}function r(){var t,i,a,n;t=e.id+"&output=kml",t=t.replace("&output=embed",""),i=new google.maps.KmlLayer(t,{preserveViewport:!0}),a=new google.maps.InfoWindow,i.setMap(s),google.maps.event.addListenerOnce(i,"defaultviewport_changed",function(){y?s.panTo(g):s.fitBounds(i.getDefaultViewport()),v&&s.setZoom(f)}),google.maps.event.addListener(i,"click",function(e){function t(e){a.setContent(e),a.open(s)}n=e.featureData.description,t(n)})}var o,s,l,m,u="",h=e.uid.toString()+"_gmap",p="",g=new google.maps.LatLng(41.875696,-87.624207),f=11,y=!1,v=!1;google.maps.VeriteMapType=function(e){if(d.ExternalAPI.googlemaps.defaultType(e))return google.maps.MapTypeId[e.toUpperCase()];var i=t(e);return google.maps.ImageMapType.call(this,{getTileUrl:function(e,t){var a=(t+e.x+e.y)%d.ExternalAPI.googlemaps.map_subdomains.length,n=i.url.replace("{S}",d.ExternalAPI.googlemaps.map_subdomains[a]).replace("{Z}",t).replace("{X}",e.x).replace("{Y}",e.y).replace("{z}",t).replace("{x}",e.x).replace("{y}",e.y);return n},tileSize:new google.maps.Size(256,256),name:e,minZoom:i.minZoom,maxZoom:i.maxZoom})},google.maps.VeriteMapType.prototype=new google.maps.ImageMapType("_"),o=""!=d.ExternalAPI.googlemaps.maptype?d.ExternalAPI.googlemaps.defaultType(d.ExternalAPI.googlemaps.maptype)?google.maps.MapTypeId[d.ExternalAPI.googlemaps.maptype.toUpperCase()]:d.ExternalAPI.googlemaps.maptype:google.maps.MapTypeId.TERRAIN,"string"==c.of(d.Util.getUrlVars(e.id).ll)?(y=!0,m=d.Util.getUrlVars(e.id).ll.split(","),g=new google.maps.LatLng(parseFloat(m[0]),parseFloat(m[1]))):"string"==c.of(d.Util.getUrlVars(e.id).sll)&&(m=d.Util.getUrlVars(e.id).sll.split(","),g=new google.maps.LatLng(parseFloat(m[0]),parseFloat(m[1]))),"string"==c.of(d.Util.getUrlVars(e.id).z)&&(v=!0,f=parseFloat(d.Util.getUrlVars(e.id).z)),l={zoom:f,draggable:!1,disableDefaultUI:!0,mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},center:g,mapTypeId:o,mapTypeControlOptions:{mapTypeIds:[o]}},d.attachElement("#"+e.uid,"<div class='google-map' id='"+h+"' style='width=100%;height=100%;'></div>"),s=new google.maps.Map(document.getElementById(h),l),d.ExternalAPI.googlemaps.defaultType(d.ExternalAPI.googlemaps.maptype)||(s.mapTypes.set(o,new google.maps.VeriteMapType(o)),p="<div class='map-attribution'><div class='attribution-text'>"+u+"</div></div>",d.appendElement("#"+h,p)),"string"==c.of(d.Util.getUrlVars(e.id).msid)?r():"string"==c.of(d.Util.getUrlVars(e.id).q)&&i()},pushQue:function(){for(var e=0;e<d.master_config.googlemaps.que.length;e++)d.ExternalAPI.googlemaps.create(d.master_config.googlemaps.que[e]);d.master_config.googlemaps.que=[]},onMapAPIReady:function(){d.master_config.googlemaps.map_active=!0,d.master_config.googlemaps.places_active=!0,d.ExternalAPI.googlemaps.onAPIReady()},onPlacesAPIReady:function(){d.master_config.googlemaps.places_active=!0,d.ExternalAPI.googlemaps.onAPIReady()},onAPIReady:function(){d.master_config.googlemaps.active||d.master_config.googlemaps.map_active&&d.master_config.googlemaps.places_active&&(d.master_config.googlemaps.active=!0,d.ExternalAPI.googlemaps.pushQue())},defaultType:function(e){return"satellite"==e.toLowerCase()||"hybrid"==e.toLowerCase()||"terrain"==e.toLowerCase()||"roadmap"==e.toLowerCase()},map_subdomains:["","a.","b.","c.","d."],map_attribution:{stamen:"Map tiles by <a href='http://stamen.com'>Stamen Design</a>, under <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a>. Data by <a href='http://openstreetmap.org'>OpenStreetMap</a>, under <a href='http://creativecommons.org/licenses/by-sa/3.0'>CC BY SA</a>.",apple:"Map data &copy; 2012  Apple, Imagery &copy; 2012 Apple",osm:"&copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"},map_providers:{toner:{url:"//{S}tile.stamen.com/toner/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-lines":{url:"//{S}tile.stamen.com/toner-lines/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-labels":{url:"//{S}tile.stamen.com/toner-labels/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},sterrain:{url:"//{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.jpg",minZoom:4,maxZoom:20,attribution:"stamen"},apple:{url:"//gsp2.apple.com/tile?api=1&style=slideshow&layers=default&lang=en_US&z={z}&x={x}&y={y}&v=9",minZoom:4,maxZoom:14,attribution:"apple"},watercolor:{url:"//{S}tile.stamen.com/watercolor/{Z}/{X}/{Y}.jpg",minZoom:3,maxZoom:16,attribution:"stamen"},osm:{url:"//tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:3,maxZoom:18,attribution:"osm"}}},googleplus:{get:function(e){var t={user:e.user,activity:e.id,id:e.uid};d.master_config.googleplus.que.push(t),d.master_config.googleplus.active=!0},create:function(e,t){var i,n,r="",o="",s="",l="",m="";googleplus_timeout=setTimeout(d.ExternalAPI.googleplus.errorTimeOut,d.master_config.timers.api,e),callback_timeout=setTimeout(t,d.master_config.timers.api,e),o=""!=d.master_config.Timeline.api_keys.google?d.master_config.Timeline.api_keys.google:h.Ctr.decrypt(d.master_config.api_keys_master.google,d.master_config.vp,256),i="https://www.googleapis.com/plus/v1/people/"+e.user+"/activities/public?alt=json&maxResults=100&fields=items(id,url)&key="+o,r="GOOGLE PLUS API CALL",d.getJSON(i,function(t){for(var i=0;i<t.items.length;i++)if(a("loop"),t.items[i].url.split("posts/")[1]==e.activity){a("FOUND IT!!"),s=t.items[i].id,n="https://www.googleapis.com/plus/v1/activities/"+s+"?alt=json&key="+o,d.getJSON(n,function(t){if(a(t),"undefined"!=typeof t.annotation?(l+="<div class='googleplus-annotation'>'"+t.annotation+"</div>",l+=t.object.content):l+=t.object.content,"undefined"!=typeof t.object.attachments){for(var i=0;i<t.object.attachments.length;i++)"photo"==t.object.attachments[i].objectType?m="<a href='"+t.object.url+"' target='_blank'><img src='"+t.object.attachments[i].image.url+"' class='article-thumb'></a>"+m:"video"==t.object.attachments[i].objectType?(m="<img src='"+t.object.attachments[i].image.url+"' class='article-thumb'>"+m,m+="<div>",m+="<a href='"+t.object.attachments[i].url+"' target='_blank'>",m+="<h5>"+t.object.attachments[i].displayName+"</h5>",m+="</a>",m+="</div>"):"article"==t.object.attachments[i].objectType&&(m+="<div>",m+="<a href='"+t.object.attachments[i].url+"' target='_blank'>",m+="<h5>"+t.object.attachments[i].displayName+"</h5>",m+="<p>"+t.object.attachments[i].content+"</p>",m+="</a>",m+="</div>"),a(t.object.attachments[i]);m="<div class='googleplus-attachments'>"+m+"</div>"}r="<div class='googleplus-content'>"+l+m+"</div>",r+="<div class='vcard author'><a class='screen-name url' href='"+t.url+"' target='_blank'>",r+="<span class='avatar'><img src='"+t.actor.image.url+"' style='max-width: 32px; max-height: 32px;'></span>",r+="<span class='fn'>"+t.actor.displayName+"</span>",r+="<span class='nickname'><span class='thumbnail-inline'></span></span>",r+="</a></div>",d.attachElement("#googleplus_"+e.activity,r)});break}}).error(function(t,i,n){var r=d.parseJSON(t.responseText);a(r.error.message),d.attachElement("#googleplus_"+e.activity,d.MediaElement.loadingmessage("<p>ERROR LOADING GOOGLE+ </p><p>"+r.error.message+"</p>"))}).success(function(e){clearTimeout(googleplus_timeout),clearTimeout(callback_timeout),t()})},pushQue:function(){d.master_config.googleplus.que.length>0&&(d.ExternalAPI.googleplus.create(d.master_config.googleplus.que[0],d.ExternalAPI.googleplus.pushQue),d.Util.removeRange(d.master_config.googleplus.que,0))},errorTimeOut:function(e){a("GOOGLE+ JSON ERROR TIMEOUT "+e.activity),d.attachElement("#googleplus_"+e.activity,d.MediaElement.loadingmessage("<p>Still waiting on GOOGLE+ </p><p>"+e.activity+"</p>"))}},googledocs:{get:function(e){d.master_config.googledocs.que.push(e),d.master_config.googledocs.active=!0},create:function(e){var t="";t=e.id.match(/docs.google.com/i)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e.id+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+e.id+"&amp;embedded=true'></iframe>",d.attachElement("#"+e.uid,t)},pushQue:function(){for(var e=0;e<d.master_config.googledocs.que.length;e++)d.ExternalAPI.googledocs.create(d.master_config.googledocs.que[e]);d.master_config.googledocs.que=[]}},flickr:{get:function(e){d.master_config.flickr.que.push(e),d.master_config.flickr.active=!0},create:function(e,t){var i,n=setTimeout(t,d.master_config.timers.api,e);i="undefined"!=typeof d.master_config.Timeline&&""!=d.master_config.Timeline.api_keys.flickr?d.master_config.Timeline.api_keys.flickr:h.Ctr.decrypt(d.master_config.api_keys_master.flickr,d.master_config.vp,256);var r="//api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+i+"&photo_id="+e.id+"&format=json&jsoncallback=?";d.getJSON(r,function(t){var i,a,n=(d.ExternalAPI.flickr.getFlickrIdFromUrl(t.sizes.size[0].url),"#"+e.uid),r="#"+e.uid+"_thumb",o=!1,s="Large";s=d.ExternalAPI.flickr.sizes(d.master_config.sizes.api.height);for(var l=0;l<t.sizes.size.length;l++)t.sizes.size[l].label==s&&(o=!0,i=t.sizes.size[l].source);o||(i=t.sizes.size[t.sizes.size.length-2].source),a=t.sizes.size[0].source,d.Lib.attr(n,"src",i),d.attachElement(r,"<img src='"+a+"'>")}).error(function(e,t,i){a("FLICKR error"),a("FLICKR ERROR: "+t+" "+e.responseText)}).success(function(e){clearTimeout(n),t()})},pushQue:function(){d.master_config.flickr.que.length>0&&(d.ExternalAPI.flickr.create(d.master_config.flickr.que[0],d.ExternalAPI.flickr.pushQue),d.Util.removeRange(d.master_config.flickr.que,0))},sizes:function(e){var t="";return t=75>=e?"Thumbnail":180>=e?"Small":240>=e?"Small 320":375>=e?"Medium":480>=e?"Medium 640":"Large"},getFlickrIdFromUrl:function(e){var t=e.indexOf("flickr.com/photos/");if(-1==t)return null;var i=t+"flickr.com/photos/".length,a=e.substr(i);return-1==a.indexOf("/")?null:(0==a.indexOf("/")&&(a=a.substr(1)),a.split("/")[1])}},instagram:{get:function(e,t){return t?"//instagr.am/p/"+e.id+"/media/?size=t":"//instagr.am/p/"+e.id+"/media/?size="+d.ExternalAPI.instagram.sizes(d.master_config.sizes.api.height)},sizes:function(e){var t="";return t=150>=e?"t":306>=e?"m":"l"},isInstagramUrl:function(e){return e.match("instagr.am/p/")||e.match("instagram.com/p/")},getInstagramIdFromUrl:function(e){try{return e.split("/p/")[1].split("/")[0]}catch(t){return a("Invalid Instagram url: "+e),null}}},soundcloud:{get:function(e){d.master_config.soundcloud.que.push(e),d.master_config.soundcloud.active=!0},create:function(e,t){var i="//soundcloud.com/oembed?url="+e.id+"&format=js&callback=?";d.getJSON(i,function(i){d.attachElement("#"+e.uid,i.html),t()})},pushQue:function(){d.master_config.soundcloud.que.length>0&&(d.ExternalAPI.soundcloud.create(d.master_config.soundcloud.que[0],d.ExternalAPI.soundcloud.pushQue),d.Util.removeRange(d.master_config.soundcloud.que,0))}},wikipedia:{get:function(e){d.master_config.wikipedia.que.push(e),d.master_config.wikipedia.active=!0},create:function(t,i){var n="//"+t.lang+".wikipedia.org/w/api.php?action=query&prop=extracts&redirects=&titles="+t.id+"&exintro=1&format=json&callback=?";if(callback_timeout=setTimeout(i,d.master_config.timers.api,t),"Explorer"==d.Browser.browser&&parseInt(d.Browser.version,10)>=7&&e.XDomainRequest){var r="<h4><a href='http://"+d.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+t.id+"' target='_blank'>"+t.url+"</a></h4>";r+="<span class='wiki-source'>"+d.master_config.language.messages.wikipedia+"</span>",r+="<p>Wikipedia entry unable to load using Internet Explorer 8 or below.</p>",d.attachElement("#"+t.uid,r)}d.getJSON(n,function(e){if(e.query){var i,a,n="",r="",o=1,s=[];i=d.Util.getObjectAttributeByIndex(e.query.pages,0).extract,a=d.Util.getObjectAttributeByIndex(e.query.pages,0).title,i.match("<p>")?s=i.split("<p>"):s.push(i);for(var l=0;l<s.length;l++)o>=l+1&&l+1<s.length&&(r+="<p>"+s[l+1]);n="<h4><a href='http://"+d.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+a+"' target='_blank'>"+a+"</a></h4>",n+="<span class='wiki-source'>"+d.master_config.language.messages.wikipedia+"</span>",n+=d.Util.linkify_wikipedia(r),i.match("REDIRECT")||d.attachElement("#"+t.uid,n)}}).error(function(e,n,r){a("WIKIPEDIA error"),a("WIKIPEDIA ERROR: "+n+" "+e.responseText),a(r),d.attachElement("#"+t.uid,d.MediaElement.loadingmessage("<p>Wikipedia is not responding</p>")),clearTimeout(callback_timeout),d.master_config.wikipedia.tries<4?(a("WIKIPEDIA ATTEMPT "+d.master_config.wikipedia.tries),a(t),d.master_config.wikipedia.tries++,d.ExternalAPI.wikipedia.create(t,i)):i()}).success(function(e){d.master_config.wikipedia.tries=0,clearTimeout(callback_timeout),i()})},pushQue:function(){d.master_config.wikipedia.que.length>0&&(a("WIKIPEDIA PUSH QUE "+d.master_config.wikipedia.que.length),d.ExternalAPI.wikipedia.create(d.master_config.wikipedia.que[0],d.ExternalAPI.wikipedia.pushQue),d.Util.removeRange(d.master_config.wikipedia.que,0))}},youtube:{get:function(e){var t="//gdata.youtube.com/feeds/api/videos/"+e.id+"?v=2&alt=jsonc&callback=?";d.master_config.youtube.que.push(e),d.master_config.youtube.active||d.master_config.youtube.api_loaded||LoadLib.js("//www.youtube.com/player_api",function(){a("YouTube API Library Loaded")}),d.getJSON(t,function(t){d.ExternalAPI.youtube.createThumb(t,e)})},create:function(e){if("undefined"!=typeof e.start){var t=e.start.toString(),i=0,a=0;
t.match("m")?(i=parseInt(t.split("m")[0],10),a=parseInt(t.split("m")[1].split("s")[0],10),e.start=60*i+a):e.start=0}else e.start=0;var n={active:!1,player:{},name:e.uid,playing:!1,hd:!1};"undefined"!=typeof e.hd&&(n.hd=!0),n.player[e.id]=new YT.Player(e.uid,{height:"390",width:"640",playerVars:{enablejsapi:1,color:"white",showinfo:0,theme:"light",start:e.start,rel:0},videoId:e.id,events:{onReady:d.ExternalAPI.youtube.onPlayerReady,onStateChange:d.ExternalAPI.youtube.onStateChange}}),d.master_config.youtube.array.push(n)},createThumb:function(e,t){if(a("CREATE THUMB"),a(e),a(t),"undefined"!=typeof e.data){var i="#"+t.uid+"_thumb";d.attachElement(i,"<img src='"+e.data.thumbnail.sqDefault+"'>")}},pushQue:function(){for(var e=0;e<d.master_config.youtube.que.length;e++)d.ExternalAPI.youtube.create(d.master_config.youtube.que[e]);d.master_config.youtube.que=[]},onAPIReady:function(){d.master_config.youtube.active=!0,d.ExternalAPI.youtube.pushQue()},stopPlayers:function(){for(var e=0;e<d.master_config.youtube.array.length;e++)d.master_config.youtube.array[e].playing&&"undefined"!=typeof d.master_config.youtube.array[e].player.the_name&&d.master_config.youtube.array[e].player.the_name.stopVideo()},onStateChange:function(e){for(var t=0;t<d.master_config.youtube.array.length;t++){for(var i in d.master_config.youtube.array[t].player)d.master_config.youtube.array[t].player[i]==e.target&&(d.master_config.youtube.array[t].player.the_name=d.master_config.youtube.array[t].player[i]);d.master_config.youtube.array[t].player.the_name==e.target&&e.data==YT.PlayerState.PLAYING&&(d.master_config.youtube.array[t].playing=!0,d.master_config.youtube.array[t].hd===!1&&(d.master_config.youtube.array[t].hd=!0,d.master_config.youtube.array[t].player.the_name.setPlaybackQuality("hd720")))}},onPlayerReady:function(e){}},vimeo:{get:function(e){d.master_config.vimeo.que.push(e),d.master_config.vimeo.active=!0},create:function(e,t){a("VIMEO CREATE");var i="//vimeo.com/api/v2/video/"+e.id+".json",n="//player.vimeo.com/video/"+e.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff";d.getJSON(i,function(i){d.ExternalAPI.vimeo.createThumb(i,e),t()}),d.attachElement("#"+e.uid,"<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+n+"'></iframe>")},createThumb:function(e,t){a("VIMEO CREATE THUMB");var i="#"+t.uid+"_thumb";d.attachElement(i,"<img src='"+e[0].thumbnail_small+"'>")},pushQue:function(){d.master_config.vimeo.que.length>0&&(d.ExternalAPI.vimeo.create(d.master_config.vimeo.que[0],d.ExternalAPI.vimeo.pushQue),d.Util.removeRange(d.master_config.vimeo.que,0))}},vine:{get:function(e){d.master_config.vine.que.push(e),d.master_config.vine.active=!0},create:function(e,t){a("VINE CREATE");var i="https://vine.co/v/"+e.id+"/embed/simple";d.attachElement("#"+e.uid,"<iframe frameborder='0' width='100%' height='100%' src='"+i+"'></iframe><script async src='http://platform.vine.co/static/scripts/embed.js' charset='utf-8'></script>")},pushQue:function(){d.master_config.vine.que.length>0&&(d.ExternalAPI.vine.create(d.master_config.vine.que[0],d.ExternalAPI.vine.pushQue),d.Util.removeRange(d.master_config.vine.que,0))}},webthumb:{get:function(e,t){d.master_config.webthumb.que.push(e),d.master_config.webthumb.active=!0},sizes:function(e){var t="";return t=150>=e?"t":306>=e?"m":"l"},create:function(e){a("WEB THUMB CREATE");var t="//api.pagepeeker.com/v2/thumbs.php?";url=e.id.replace("http://",""),d.attachElement("#"+e.uid,"<a href='"+e.id+"' target='_blank'><img src='"+t+"size=x&url="+url+"'></a>"),d.attachElement("#"+e.uid+"_thumb","<img src='"+t+"size=t&url="+url+"'>")},pushQue:function(){for(var e=0;e<d.master_config.webthumb.que.length;e++)d.ExternalAPI.webthumb.create(d.master_config.webthumb.que[e]);d.master_config.webthumb.que=[]}}}.init()),"undefined"!=typeof d&&"undefined"==typeof d.MediaElement&&(d.MediaElement={init:function(){return this},loadingmessage:function(e){return"<div class='vco-loading'><div class='vco-loading-container'><div class='vco-loading-icon'></div><div class='vco-message'><p>"+e+"</p></div></div></div>"},thumbnail:function(e,t,i,n){var r=16,o=24,s="";if(null!=t&&""!=t&&(r=t),null!=i&&""!=i&&(o=i),null!=n&&""!=n&&(s=n),null!=e.thumbnail&&""!=e.thumbnail)return a("CUSTOM THUMB"),l="<div class='thumbnail thumb-custom' id='"+n+"_custom_thumb'><img src='"+e.thumbnail+"'></div>";if(null!=e.media&&""!=e.media){var l="",m=d.MediaType(e.media);return l="image"==m.type?"<div class='thumbnail thumb-photo'></div>":"flickr"==m.type?"<div class='thumbnail thumb-photo' id='"+n+"_thumb'></div>":"instagram"==m.type?"<div class='thumbnail thumb-instagram' id='"+n+"_thumb'><img src='"+d.ExternalAPI.instagram.get(m,!0)+"'></div>":"youtube"==m.type?"<div class='thumbnail thumb-youtube' id='"+n+"_thumb'></div>":"googledoc"==m.type?"<div class='thumbnail thumb-document'></div>":"vimeo"==m.type?"<div class='thumbnail thumb-vimeo' id='"+n+"_thumb'></div>":"vine"==m.type?"<div class='thumbnail thumb-vine'></div>":"dailymotion"==m.type?"<div class='thumbnail thumb-video'></div>":"twitter"==m.type?"<div class='thumbnail thumb-twitter'></div>":"twitter-ready"==m.type?"<div class='thumbnail thumb-twitter'></div>":"soundcloud"==m.type?"<div class='thumbnail thumb-audio'></div>":"google-map"==m.type?"<div class='thumbnail thumb-map'></div>":"googleplus"==m.type?"<div class='thumbnail thumb-googleplus'></div>":"wikipedia"==m.type?"<div class='thumbnail thumb-wikipedia'></div>":"storify"==m.type?"<div class='thumbnail thumb-storify'></div>":"quote"==m.type?"<div class='thumbnail thumb-quote'></div>":"iframe"==m.type?"<div class='thumbnail thumb-video'></div>":"unknown"==m.type?m.id.match("blockquote")?"<div class='thumbnail thumb-quote'></div>":"<div class='thumbnail thumb-plaintext'></div>":"website"==m.type?"<div class='thumbnail thumb-website' id='"+n+"_thumb'></div>":"<div class='thumbnail thumb-plaintext'></div>"}},create:function(e,t){var i=!1,n=d.MediaElement.loadingmessage(d.master_config.language.messages.loading+"...");if(null!=e.media&&""!=e.media){var r,o="",s="",l="",m="",c=!1;return r=d.MediaType(e.media),r.uid=t,i=!0,null!=e.credit&&""!=e.credit&&(l="<div class='credit'>"+d.Util.linkify_with_twitter(e.credit,"_blank")+"</div>"),null!=e.caption&&""!=e.caption&&(s="<div class='caption'>"+d.Util.linkify_with_twitter(e.caption,"_blank")+"</div>"),"image"==r.type?(r.id.match("https://")&&(r.id=r.id.replace("https://","http://")),o="<div class='media-image media-shadow'><img src='"+r.id+"' class='media-image'></div>"):"flickr"==r.type?(o="<div class='media-image media-shadow'><a href='"+r.link+"' target='_blank'><img id='"+t+"'></a></div>",d.ExternalAPI.flickr.get(r)):"instagram"==r.type?o="<div class='media-image media-shadow'><a href='"+r.link+"' target='_blank'><img src='"+d.ExternalAPI.instagram.get(r)+"'></a></div>":"googledoc"==r.type?(o="<div class='media-frame media-shadow doc' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.googledocs.get(r)):"youtube"==r.type?(o="<div class='media-shadow'><div class='media-frame video youtube' id='"+r.uid+"'>"+n+"</div></div>",d.ExternalAPI.youtube.get(r)):"vimeo"==r.type?(o="<div class='media-shadow media-frame video vimeo' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.vimeo.get(r)):"dailymotion"==r.type?o="<div class='media-shadow'><iframe class='media-frame video dailymotion' autostart='false' frameborder='0' width='100%' height='100%' src='http://www.dailymotion.com/embed/video/"+r.id+"'></iframe></div>":"vine"==r.type?(o="<div class='media-shadow media-frame video vine' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.vine.get(r)):"twitter"==r.type?(o="<div class='twitter' id='"+r.uid+"'>"+n+"</div>",c=!0,d.ExternalAPI.twitter.get(r)):"twitter-ready"==r.type?(c=!0,o=r.id):"soundcloud"==r.type?(o="<div class='media-frame media-shadow soundcloud' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.soundcloud.get(r)):"google-map"==r.type?(o="<div class='media-frame media-shadow map' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.googlemaps.get(r)):"googleplus"==r.type?(m="googleplus_"+r.id,o="<div class='googleplus' id='"+m+"'>"+n+"</div>",c=!0,d.ExternalAPI.googleplus.get(r)):"wikipedia"==r.type?(o="<div class='wikipedia' id='"+r.uid+"'>"+n+"</div>",c=!0,d.ExternalAPI.wikipedia.get(r)):"storify"==r.type?(c=!0,o="<div class='plain-text-quote'>"+r.id+"</div>"):"iframe"==r.type?(c=!0,o="<div class='media-shadow'><iframe class='media-frame video' autostart='false' frameborder='0' width='100%' height='100%' src='"+r.id+"'></iframe></div>"):"quote"==r.type?(c=!0,o="<div class='plain-text-quote'>"+r.id+"</div>"):"unknown"==r.type?(a("NO KNOWN MEDIA TYPE FOUND TRYING TO JUST PLACE THE HTML"),c=!0,o="<div class='plain-text'><div class='container'>"+d.Util.properQuotes(r.id)+"</div></div>"):"website"==r.type?(o="<div class='media-shadow website' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.webthumb.get(r)):(a("NO KNOWN MEDIA TYPE FOUND"),a(r.type)),o="<div class='media-container' >"+o+l+s+"</div>",c?"<div class='text-media'><div class='media-wrapper'>"+o+"</div></div>":"<div class='media-wrapper'>"+o+"</div>"}}}.init()),"undefined"!=typeof d&&"undefined"==typeof d.MediaType&&(d.MediaType=function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),i=!1,n={type:"unknown",id:"",start:0,hd:!1,link:"",lang:d.Language.lang,uniqueid:d.Util.unique_ID(6)};if(t.match("div class='twitter'"))n.type="twitter-ready",n.id=t,i=!0;else if(t.match("<blockquote"))n.type="quote",n.id=t,i=!0;else if(t.match("<iframe"))n.type="iframe",a("IFRAME"),regex=/src=['"](\S+?)['"]\s/,group=t.match(regex),group&&(n.id=group[1]),a("iframe url: "+n.id),i=Boolean(n.id);else if(t.match("(www.)?youtube|youtu.be"))t.match("v=")?n.id=d.Util.getUrlVars(t).v:t.match("/embed/")?n.id=t.split("embed/")[1].split(/[?&]/)[0]:t.match(/v\/|v=|youtu\.be\//)?n.id=t.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:a("YOUTUBE IN URL BUT NOT A VALID VIDEO"),n.start=d.Util.getUrlVars(t).t,n.hd=d.Util.getUrlVars(t).hd,n.type="youtube",i=!0;else if(t.match("(player.)?vimeo.com"))n.type="vimeo",n.id=t.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0],i=!0;else if(t.match("(www.)?dailymotion.com"))n.id=t.split(/video\/|\/\/dailymotion\.com\//)[1],n.type="dailymotion",i=!0;else if(t.match("(www.)?vine.co"))a("VINE"),t.match("vine.co/v/")&&(n.id=t.split("vine.co/v/")[1],a(n.id)),a(t),n.type="vine",i=!0;else if(t.match("(player.)?soundcloud.com"))n.type="soundcloud",n.id=t,i=!0;else if(t.match("(www.)?twitter.com")&&t.match("status"))t.match("status/")?n.id=t.split("status/")[1]:t.match("statuses/")?n.id=t.split("statuses/")[1]:n.id="",n.type="twitter",i=!0;else if(t.match("maps.google")&&!t.match("staticmap"))n.type="google-map",n.id=t.split(/src=['|"][^'|"]*?['|"]/gi),i=!0;else if(t.match("plus.google"))n.type="googleplus",n.id=t.split("/posts/")[1],t.split("/posts/")[0].match("u/0/")?n.user=t.split("u/0/")[1].split("/posts")[0]:n.user=t.split("google.com/")[1].split("/posts/")[0],i=!0;else if(t.match("flickr.com/photos/"))n.type="flickr",n.id=d.ExternalAPI.flickr.getFlickrIdFromUrl(t),n.link=t,i=Boolean(n.id);else if(d.ExternalAPI.instagram.isInstagramUrl(t))n.type="instagram",n.link=t,n.id=d.ExternalAPI.instagram.getInstagramIdFromUrl(t),i=Boolean(n.id);else if(t.match(/jpg|jpeg|png|gif|svg/i)||t.match("staticmap")||t.match("yfrog.com")||t.match("twitpic.com"))n.type="image",n.id=t,i=!0;else if(d.FileExtention.googleDocType(t))n.type="googledoc",n.id=t,i=!0;else if(t.match("(www.)?wikipedia.org")){n.type="wikipedia";var r=t.split("wiki/")[1].split("#")[0].replace("_"," ");n.id=r.replace(" ","%20"),n.lang=t.split("//")[1].split(".wikipedia")[0],i=!0}else 0==t.indexOf("http://")?(n.type="website",n.id=t,i=!0):t.match("storify")?(n.type="storify",n.id=t,i=!0):(a("unknown media"),n.type="unknown",n.id=t,i=!0);return i?n:(a("No valid media id detected"),a(t),!1)}),"undefined"!=typeof d&&"undefined"==typeof d.TextElement&&(d.TextElement={init:function(){return this},create:function(e){return e}}.init()),"undefined"!=typeof d&&"undefined"==typeof d.DragSlider&&(d.DragSlider=function(){function e(e,a){d.bindEvent(e,i,h.down,{element:a,delement:e}),d.bindEvent(e,n,h.up,{element:a,delement:e}),d.bindEvent(e,t,h.leave,{element:a,delement:e})}function t(e){return d.unbindEvent(e.data.delement,r,h.move),u.touch||e.preventDefault(),e.stopPropagation(),u.sliding?(u.sliding=!1,s(e.data.element,e.data.delement,e),!1):!0}function i(e){return o(e.data.element,e.data.delement,e),u.touch||e.preventDefault(),!0}function n(e){return u.touch||e.preventDefault(),u.sliding?(u.sliding=!1,s(e.data.element,e.data.delement,e),!1):!0}function r(e){l(e.data.element,e)}function o(e,t,i){u.touch?(a("IS TOUCH"),d.Lib.css(e,"-webkit-transition-duration","0"),u.pagex.start=i.originalEvent.touches[0].screenX,u.pagey.start=i.originalEvent.touches[0].screenY):(u.pagex.start=i.pageX,u.pagey.start=i.pageY),u.left.start=c(e),u.time.start=(new Date).getTime(),d.Lib.stop(e),d.bindEvent(t,r,h.move,{element:e})}function s(e,t,i){d.unbindEvent(t,r,h.move),m(e,i)}function l(e,t){var i;u.sliding=!0,u.touch?(u.pagex.end=t.originalEvent.touches[0].screenX,u.pagey.end=t.originalEvent.touches[0].screenY):(u.pagex.end=t.pageX,u.pagey.end=t.pageY),u.left.end=c(e),i=-(u.pagex.start-u.pagex.end-u.left.start),Math.abs(u.pagey.start)-Math.abs(u.pagey.end)>10&&(a("SCROLLING Y"),a(Math.abs(u.pagey.start)-Math.abs(u.pagey.end))),Math.abs(i-u.left.start)>10&&(d.Lib.css(e,"left",i),t.preventDefault(),t.stopPropagation())}function m(e,t){var i={left:u.left.end,left_adjust:0,change:{x:0},time:10*((new Date).getTime()-u.time.start),time_adjust:10*((new Date).getTime()-u.time.start)},a=3e3;u.touch&&(a=6e3),i.change.x=a*(Math.abs(u.pagex.end)-Math.abs(u.pagex.start)),i.left_adjust=Math.round(i.change.x/i.time),i.left=Math.min(i.left+i.left_adjust),u.constraint&&(i.left>u.constraint.left?(i.left=u.constraint.left,i.time>5e3&&(i.time=5e3)):i.left<u.constraint.right&&(i.left=u.constraint.right,i.time>5e3&&(i.time=5e3))),d.fireEvent(f,"DRAGUPDATE",[i]),y||i.time>0&&(u.touch?d.Lib.animate(e,i.time,"easeOutCirc",{left:i.left}):d.Lib.animate(e,i.time,u.ease,{left:i.left}))}function c(e){return parseInt(d.Lib.css(e,"left").substring(0,d.Lib.css(e,"left").length-2),10)}var u={element:"",element_move:"",constraint:"",sliding:!1,pagex:{start:0,end:0},pagey:{start:0,end:0},left:{start:0,end:0},time:{start:0,end:0},touch:!1,ease:"easeOutExpo"},h={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},p={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},g={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},f=this,y=!1;this.createPanel=function(t,i,n,r,o){u.element=t,u.element_move=i,null!=o&&""!=o&&(y=o),null!=n&&""!=n?u.constraint=n:u.constraint=!1,r?u.touch=r:u.touch=!1,a("TOUCH"+u.touch),h=u.touch?g:p,e(u.element,u.element_move)},this.updateConstraint=function(e){a("updateConstraint"),u.constraint=e},this.cancelSlide=function(e){return d.unbindEvent(u.element,r,h.move),!0}}),"undefined"!=typeof d&&"undefined"==typeof d.Slider&&(d.Slider=function(t,i){function n(e,t){var i=!0,a=!1;null!=e&&(i=e),null!=t&&(a=t),H=T.slider.width,T.slider.nav.height=d.Lib.height(R.prevBtnContainer),"mobile"==d.Browser.device||640>=H?T.slider.content.padding=10:T.slider.content.padding=T.slider.content.padding_default,T.slider.content.width=H-2*T.slider.content.padding,d.Lib.width(j,I.length*T.slider.content.width),a&&d.Lib.css(L,"left",I[C].leftpos()),g(),f(),d.Lib.css(R.nextBtn,"left",H-T.slider.nav.width),d.Lib.height(R.prevBtn,T.slider.height),d.Lib.height(R.nextBtn,T.slider.height),d.Lib.css(R.nextBtnContainer,"top",T.slider.height/2-T.slider.nav.height/2+10),d.Lib.css(R.prevBtnContainer,"top",T.slider.height/2-T.slider.nav.height/2+10),d.Lib.height(E,T.slider.height),d.Lib.width(E,H),i&&y(C,"linear",1),0==C&&d.Lib.visible(R.prevBtn,!1)}function r(e,t){a("DRAG FINISH"),a(t.left_adjust),a(T.slider.width/2),t.left_adjust<0?Math.abs(t.left_adjust)>T.slider.width/2?C==I.length-1?v():(y(C+1,"easeOutExpo"),c()):v():Math.abs(t.left_adjust)>T.slider.width/2?0==C?v():(y(C-1,"easeOutExpo"),c()):v()}function o(e){C==I.length-1?v():(y(C+1),c())}function s(e){0==C?v():(y(C-1),c())}function l(e){switch(e.keyCode){case 39:o(e);break;case 37:s(e)}}function m(e){_()}function c(){T.current_slide=C,d.fireEvent(N,"UPDATE")}function u(e){var t=0;for(d.attachElement(j,""),I=[],t=0;t<e.length;t++){var i=new d.Slider.Slide(e[t],j);I.push(i)}}function h(e){var t=0;if(e)p();else{for(t=0;t<I.length;t++)I[t].clearTimers();x=setTimeout(p,T.duration)}}function p(){var e=0;for(e=0;e<I.length;e++)I[e].enqueue=!0;for(e=0;e<T.preload;e++)C+e>I.length-1||(I[C+e].show(),I[C+e].enqueue=!1),0>C-e||(I[C-e].show(),I[C-e].enqueue=!1);if(I.length>50)for(e=0;e<I.length;e++)I[e].enqueue&&I[e].hide();g()}function g(){var e=0,t=".slider-item .layout-text-media .media .media-container ",i=".slider-item .layout-media .media .media-container ",a=".slider-item .media .media-container",n=!1,r={text_media:{width:T.slider.content.width/100*60,height:T.slider.height-60,video:{width:0,height:0},text:{width:T.slider.content.width/100*40-30,height:T.slider.height}},media:{width:T.slider.content.width,height:T.slider.height-110,video:{width:0,height:0}}};for(("mobile"==d.Browser.device||641>H)&&(n=!0),d.master_config.sizes.api.width=r.media.width,d.master_config.sizes.api.height=r.media.height,r.text_media.video=d.Util.ratio.fit(r.text_media.width,r.text_media.height,16,9),r.media.video=d.Util.ratio.fit(r.media.width,r.media.height,16,9),d.Lib.css(".slider-item","width",T.slider.content.width),d.Lib.height(".slider-item",T.slider.height),n?(r.text_media.width=T.slider.content.width-2*T.slider.content.padding,r.media.width=T.slider.content.width-2*T.slider.content.padding,r.text_media.height=T.slider.height/100*50-50,r.media.height=T.slider.height/100*70-40,r.text_media.video=d.Util.ratio.fit(r.text_media.width,r.text_media.height,16,9),r.media.video=d.Util.ratio.fit(r.media.width,r.media.height,16,9),d.Lib.css(".slider-item .layout-text-media .text","width","100%"),d.Lib.css(".slider-item .layout-text-media .text","display","block"),d.Lib.css(".slider-item .layout-text-media .text .container","display","block"),d.Lib.css(".slider-item .layout-text-media .text .container","width",r.media.width),d.Lib.css(".slider-item .layout-text-media .text .container .start","width","auto"),d.Lib.css(".slider-item .layout-text-media .media","float","none"),d.Lib.addClass(".slider-item .content-container","pad-top"),d.Lib.css(".slider-item .media blockquote p","line-height","18px"),d.Lib.css(".slider-item .media blockquote p","font-size","16px"),d.Lib.css(".slider-item","overflow-y","auto")):(d.Lib.css(".slider-item .layout-text-media .text","width","40%"),d.Lib.css(".slider-item .layout-text-media .text","display","table-cell"),d.Lib.css(".slider-item .layout-text-media .text .container","display","table-cell"),d.Lib.css(".slider-item .layout-text-media .text .container","width","auto"),d.Lib.css(".slider-item .layout-text-media .text .container .start","width",r.text_media.text.width),d.Lib.removeClass(".slider-item .content-container","pad-top"),d.Lib.css(".slider-item .layout-text-media .media","float","left"),d.Lib.css(".slider-item .layout-text-media","display","table"),d.Lib.css(".slider-item .media blockquote p","line-height","36px"),d.Lib.css(".slider-item .media blockquote p","font-size","28px"),d.Lib.css(".slider-item","display","table"),d.Lib.css(".slider-item","overflow-y","auto")),d.Lib.css(t+".media-frame","max-width",r.text_media.width),d.Lib.height(t+".media-frame",r.text_media.height),d.Lib.width(t+".media-frame",r.text_media.width),d.Lib.css(t+"img","max-height",r.text_media.height),d.Lib.css(i+"img","max-height",r.media.height),d.Lib.css(t+"img","max-width",r.text_media.width),d.Lib.css(t+".avatar img","max-width",32),d.Lib.css(t+".avatar img","max-height",32),d.Lib.css(i+".avatar img","max-width",32),d.Lib.css(i+".avatar img","max-height",32),d.Lib.css(t+".article-thumb","max-width","50%"),d.Lib.css(i+".article-thumb","max-width",200),d.Lib.width(t+".media-frame",r.text_media.video.width),d.Lib.height(t+".media-frame",r.text_media.video.height),d.Lib.width(i+".media-frame",r.media.video.width),d.Lib.height(i+".media-frame",r.media.video.height),d.Lib.css(i+".media-frame","max-height",r.media.video.height),d.Lib.css(i+".media-frame","max-width",r.media.video.width),d.Lib.height(i+".soundcloud",168),d.Lib.height(t+".soundcloud",168),d.Lib.width(i+".soundcloud",r.media.width),d.Lib.width(t+".soundcloud",r.text_media.width),d.Lib.css(a+".soundcloud","max-height",168),d.Lib.height(t+".map",r.text_media.height),d.Lib.width(t+".map",r.text_media.width),d.Lib.css(i+".map","max-height",r.media.height),d.Lib.width(i+".map",r.media.width),d.Lib.height(t+".doc",r.text_media.height),d.Lib.width(t+".doc",r.text_media.width),d.Lib.height(i+".doc",r.media.height),d.Lib.width(i+".doc",r.media.width),d.Lib.width(i+".wikipedia",r.media.width),d.Lib.width(i+".twitter",r.media.width),d.Lib.width(i+".plain-text-quote",r.media.width),d.Lib.width(i+".plain-text",r.media.width),d.Lib.css(a,"max-width",r.media.width),d.Lib.css(t+".caption","max-width",r.text_media.video.width),d.Lib.css(i+".caption","max-width",r.media.video.width),e=0;e<I.length;e++)I[e].layout(n),I[e].content_height()>T.slider.height+20?I[e].css("display","block"):I[e].css("display","table")}function f(){var e=0,t=0;for(t=0;t<I.length;t++)e=t*(T.slider.width+T.spacing),I[t].leftpos(e)}function y(e,t,i,a,n){var r,o=T.ease,s=T.duration,l=!1,m=!1,c="";if(d.ExternalAPI.youtube.stopPlayers(),C=e,r=I[C].leftpos(),0==C&&(m=!0),C+1>=I.length&&(l=!0),null!=t&&""!=t&&(o=t),null!=i&&""!=i&&(s=i),"mobile"==d.Browser.device?(d.Lib.visible(R.prevBtn,!1),d.Lib.visible(R.nextBtn,!1)):(m?d.Lib.visible(R.prevBtn,!1):(d.Lib.visible(R.prevBtn,!0),c=d.Util.unlinkify(S[C-1].title),"timeline"==T.type?"undefined"==typeof S[C-1].date?(d.attachElement(R.prevDate,c),d.attachElement(R.prevTitle,"")):(d.attachElement(R.prevDate,d.Date.prettyDate(S[C-1].startdate,!1,S[C-1].precisiondate)),d.attachElement(R.prevTitle,c)):d.attachElement(R.prevTitle,c)),l?d.Lib.visible(R.nextBtn,!1):(d.Lib.visible(R.nextBtn,!0),c=d.Util.unlinkify(S[C+1].title),"timeline"==T.type?"undefined"==typeof S[C+1].date?(d.attachElement(R.nextDate,c),d.attachElement(R.nextTitle,"")):(d.attachElement(R.nextDate,d.Date.prettyDate(S[C+1].startdate,!1,S[C+1].precisiondate)),d.attachElement(R.nextTitle,c)):d.attachElement(R.nextTitle,c))),a?d.Lib.css(L,"left",-(r-T.slider.content.padding)):(d.Lib.stop(L),d.Lib.animate(L,s,o,{left:-(r-T.slider.content.padding)})),n&&d.fireEvent(N,"LOADED"),I[C].height()>T.slider_height)d.Lib.css(".slider","overflow-y","scroll");else{d.Lib.css(N,"overflow-y","hidden");var u=0;try{u=d.Lib.prop(N,"scrollHeight"),d.Lib.animate(N,s,o,{scrollTop:u-d.Lib.height(N)})}catch(p){u=d.Lib.height(N)}}h(),d.fireEvent(k,"MESSAGE","TEST")}function v(){d.Lib.stop(L),d.Lib.animate(L,T.duration,"easeOutExpo",{left:-I[C].leftpos()+T.slider.content.padding})}function b(e,t,i){a("showMessege "+t),d.attachElement(D,"<div class='vco-explainer'><div class='vco-explainer-container'><div class='vco-bezel'><div class='vco-gesture-icon'></div><div class='vco-message'><p>"+t+"</p></div></div></div></div>")}function _(){d.Lib.detach(D)}function w(){var t="<div class='icon'>&nbsp;</div>";R.nextBtn=d.appendAndGetElement(k,"<div>","nav-next"),R.prevBtn=d.appendAndGetElement(k,"<div>","nav-previous"),R.nextBtnContainer=d.appendAndGetElement(R.nextBtn,"<div>","nav-container",t),R.prevBtnContainer=d.appendAndGetElement(R.prevBtn,"<div>","nav-container",t),"timeline"==T.type&&(R.nextDate=d.appendAndGetElement(R.nextBtnContainer,"<div>","date",""),R.prevDate=d.appendAndGetElement(R.prevBtnContainer,"<div>","date","")),R.nextTitle=d.appendAndGetElement(R.nextBtnContainer,"<div>","title",""),R.prevTitle=d.appendAndGetElement(R.prevBtnContainer,"<div>","title",""),d.bindEvent(".nav-next",o),d.bindEvent(".nav-previous",s),d.bindEvent(e,l,"keydown")}function M(){var e=3e3;d.attachElement(N,""),k=d.getElement(N),E=d.appendAndGetElement(k,"<div>","slider-container-mask"),L=d.appendAndGetElement(E,"<div>","slider-container"),j=d.appendAndGetElement(L,"<div>","slider-item-container"),w(),u(S),"tablet"!=d.Browser.device&&"mobile"!=d.Browser.device||(T.duration=500,e=1e3,A=new d.DragSlider,A.createPanel(k,L,"",T.touch,!0),d.bindEvent(A,r,"DRAGUPDATE"),D=d.appendAndGetElement(E,"<div>","vco-feedback",""),b(null,"Swipe to Navigate"),d.Lib.height(D,T.slider.height),d.bindEvent(D,m),d.bindEvent(D,m,"touchend")),n(!1,!0),d.Lib.visible(R.prevBtn,!1),y(T.current_slide,"easeOutExpo",e,!0,!0),P=!0}var T,x,k,E,L,j,A,D,S=[],I=[],O=[],C=0,H=960,P=!1,N=t,R={nextBtn:"",prevBtn:"",nextDate:"",prevDate:"",nextTitle:"",prevTitle:""};T="undefined"!=typeof i?i:{preload:4,current_slide:0,interval:10,something:0,width:720,height:400,ease:"easeInOutExpo",duration:1e3,timeline:!1,spacing:15,slider:{width:720,height:400,content:{width:720,height:400,padding:120,padding_default:120},nav:{width:100,height:200}}},this.ver="0.6",T.slider.width=T.width,T.slider.height=T.height,this.init=function(e){I=[],O=[],"undefined"!=typeof e?this.setData(e):a("WAITING ON DATA")},this.width=function(e){return null==e||""==e?T.slider.width:(T.slider.width=e,void n())},this.height=function(e){return null==e||""==e?T.slider.height:(T.slider.height=e,void n())},this.setData=function(e){"undefined"!=typeof e?(S=e,M()):a("NO DATA")},this.getData=function(){return S},this.setConfig=function(e){"undefined"!=typeof e?T=e:a("NO CONFIG DATA")},this.getConfig=function(){return T},this.setSize=function(e,t){null!=e&&(T.slider.width=e),null!=t&&(T.slider.height=t),P&&n()},this.active=function(){return P},this.getCurrentNumber=function(){return C},this.setSlide=function(e){y(e)}}),"undefined"!=typeof d.Slider&&(d.Slider.Slide=function(e,t){var i,n,r,o,s,l,m=e,s="",u=!1,h=!1,p=!1,g=!0,f=!1,y="slide_",v={pushque:"",render:"",relayout:"",remove:"",skinny:!1},b={pushque:500,render:100,relayout:100,remove:3e4};y+=m.uniqueid,this.enqueue=g,this.id=y,s=d.appendAndGetElement(t,"<div>","slider-item"),"undefined"!=typeof m.classname?(a("HAS CLASSNAME"),d.Lib.addClass(s,m.classname)):(a("NO CLASSNAME"),a(m)),l={slide:"",text:"",media:"",media_element:"",layout:"content-container layout",has:{headline:!1,text:!1,media:!1}},this.show=function(e){g=!1,v.skinny=e,f=!1,clearTimeout(v.remove),u||(h?(clearTimeout(v.relayout),v.relayout=setTimeout(M,b.relayout)):_(e))},this.hide=function(){u&&!f&&(f=!0,clearTimeout(v.remove),v.remove=setTimeout(w,b.remove))},this.clearTimers=function(){clearTimeout(v.relayout),clearTimeout(v.pushque),clearTimeout(v.render)},this.layout=function(e){u&&h&&T(e)},this.elem=function(){return s},this.position=function(){return d.Lib.position(s)},this.leftpos=function(e){return"undefined"==typeof e?d.Lib.position(s).left:void d.Lib.css(s,"left",e)},this.animate=function(e,t,i){d.Lib.animate(s,e,t,i)},this.css=function(e,t){d.Lib.css(s,e,t)},this.opacity=function(e){d.Lib.css(s,"opacity",e)},this.width=function(){return d.Lib.width(s)},this.height=function(){return d.Lib.height(s)},this.content_height=function(){var e=d.Lib.find(s,".content")[0];return"undefined"!=e&&null!=e?d.Lib.height(e):0};var _=function(e){a("RENDER "+y),u=!0,h=!0,v.skinny=e,x(),clearTimeout(v.pushque),clearTimeout(v.render),v.pushque=setTimeout(d.ExternalAPI.pushQues,b.pushque)},w=function(){a("REMOVE SLIDE TIMER FINISHED"),u=!1,d.Lib.detach(n),d.Lib.detach(i)},M=function(){u=!0,T(v.skinny,!0)},T=function(e,t){l.has.text?e?p&&!t||(d.Lib.removeClass(r,"pad-left"),d.Lib.detach(n),d.Lib.detach(i),d.Lib.append(r,n),d.Lib.append(r,i),p=!0):(p||t)&&(d.Lib.addClass(r,"pad-left"),d.Lib.detach(n),d.Lib.detach(i),d.Lib.append(r,i),d.Lib.append(r,n),p=!1):t&&(l.has.headline&&(d.Lib.detach(n),d.Lib.append(r,n)),d.Lib.detach(i),d.Lib.append(r,i))},x=function(){if(a("BUILDSLIDE"),o=d.appendAndGetElement(s,"<div>","content"),r=d.appendAndGetElement(o,"<div>"),null!=m.startdate&&""!=m.startdate&&"date"==c.of(m.startdate)&&"start"!=m.type){var e=d.Date.prettyDate(m.startdate,!1,m.precisiondate),t=d.Date.prettyDate(m.enddate,!1,m.precisiondate),u="";null!=m.tag&&""!=m.tag&&(u=d.createElement("span",m.tag,"slide-tag")),e!=t?l.text+=d.createElement("h2",e+" &mdash; "+t+u,"date"):l.text+=d.createElement("h2",e+u,"date")}null!=m.headline&&""!=m.headline&&(l.has.headline=!0,"start"==m.type?l.text+=d.createElement("h2",d.Util.linkify_with_twitter(m.headline,"_blank"),"start"):l.text+=d.createElement("h3",d.Util.linkify_with_twitter(m.headline,"_blank"))),null!=m.text&&""!=m.text&&(l.has.text=!0,l.text+=d.createElement("p",d.Util.linkify_with_twitter(m.text,"_blank"))),(l.has.text||l.has.headline)&&(l.text=d.createElement("div",l.text,"container"),n=d.appendAndGetElement(r,"<div>","text",d.TextElement.create(l.text))),m.needs_slug,null!=m.asset&&""!=m.asset&&null!=m.asset.media&&""!=m.asset.media&&(l.has.media=!0,i=d.appendAndGetElement(r,"<div>","media",d.MediaElement.create(m.asset,m.uniqueid))),l.has.text&&(l.layout+="-text"),l.has.media&&(l.layout+="-media"),l.has.text?v.skinny?(d.Lib.addClass(r,l.layout),p=!0):(d.Lib.addClass(r,l.layout),d.Lib.addClass(r,"pad-left"),d.Lib.detach(n),d.Lib.append(r,n)):d.Lib.addClass(r,l.layout)}});var h={};h.cipher=function(e,t){for(var i=4,a=t.length/i-1,n=[[],[],[],[]],r=0;4*i>r;r++)n[r%4][Math.floor(r/4)]=e[r];n=h.addRoundKey(n,t,0,i);for(var o=1;a>o;o++)n=h.subBytes(n,i),n=h.shiftRows(n,i),n=h.mixColumns(n,i),n=h.addRoundKey(n,t,o,i);n=h.subBytes(n,i),n=h.shiftRows(n,i),n=h.addRoundKey(n,t,a,i);for(var s=new Array(4*i),r=0;4*i>r;r++)s[r]=n[r%4][Math.floor(r/4)];return s},h.keyExpansion=function(e){for(var t=4,i=e.length/4,a=i+6,n=new Array(t*(a+1)),r=new Array(4),o=0;i>o;o++){var s=[e[4*o],e[4*o+1],e[4*o+2],e[4*o+3]];n[o]=s}for(var o=i;t*(a+1)>o;o++){n[o]=new Array(4);for(var l=0;4>l;l++)r[l]=n[o-1][l];if(o%i==0){r=h.subWord(h.rotWord(r));for(var l=0;4>l;l++)r[l]^=h.rCon[o/i][l]}else i>6&&o%i==4&&(r=h.subWord(r));for(var l=0;4>l;l++)n[o][l]=n[o-i][l]^r[l]}return n},h.subBytes=function(e,t){for(var i=0;4>i;i++)for(var a=0;t>a;a++)e[i][a]=h.sBox[e[i][a]];return e},h.shiftRows=function(e,t){for(var i=new Array(4),a=1;4>a;a++){for(var n=0;4>n;n++)i[n]=e[a][(n+a)%t];for(var n=0;4>n;n++)e[a][n]=i[n]}return e},h.mixColumns=function(e,t){for(var i=0;4>i;i++){for(var a=new Array(4),n=new Array(4),r=0;4>r;r++)a[r]=e[r][i],n[r]=128&e[r][i]?e[r][i]<<1^283:e[r][i]<<1;e[0][i]=n[0]^a[1]^n[1]^a[2]^a[3],e[1][i]=a[0]^n[1]^a[2]^n[2]^a[3],e[2][i]=a[0]^a[1]^n[2]^a[3]^n[3],e[3][i]=a[0]^n[0]^a[1]^a[2]^n[3]}return e},h.addRoundKey=function(e,t,i,a){for(var n=0;4>n;n++)for(var r=0;a>r;r++)e[n][r]^=t[4*i+r][n];return e},h.subWord=function(e){for(var t=0;4>t;t++)e[t]=h.sBox[e[t]];return e},h.rotWord=function(e){for(var t=e[0],i=0;3>i;i++)e[i]=e[i+1];return e[3]=t,e},h.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],h.Ctr={},h.Ctr.encrypt=function(e,t,i){var a=16;if(128!=i&&192!=i&&256!=i)return"";
e=g.encode(e),t=g.encode(t);for(var n=i/8,r=new Array(n),o=0;n>o;o++)r[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var s=h.cipher(r,h.keyExpansion(r));s=s.concat(s.slice(0,n-16));for(var l=new Array(a),d=(new Date).getTime(),m=d%1e3,c=Math.floor(d/1e3),u=Math.floor(65535*Math.random()),o=0;2>o;o++)l[o]=m>>>8*o&255;for(var o=0;2>o;o++)l[o+2]=u>>>8*o&255;for(var o=0;4>o;o++)l[o+4]=c>>>8*o&255;for(var f="",o=0;8>o;o++)f+=String.fromCharCode(l[o]);for(var y=h.keyExpansion(s),v=Math.ceil(e.length/a),b=new Array(v),_=0;v>_;_++){for(var w=0;4>w;w++)l[15-w]=_>>>8*w&255;for(var w=0;4>w;w++)l[15-w-4]=_/4294967296>>>8*w;for(var M=h.cipher(l,y),T=v-1>_?a:(e.length-1)%a+1,x=new Array(T),o=0;T>o;o++)x[o]=M[o]^e.charCodeAt(_*a+o),x[o]=String.fromCharCode(x[o]);b[_]=x.join("")}var k=f+b.join("");return k=p.encode(k)},h.Ctr.decrypt=function(e,t,i){var a=16;if(128!=i&&192!=i&&256!=i)return"";e=p.decode(e),t=g.encode(t);for(var n=i/8,r=new Array(n),o=0;n>o;o++)r[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var s=h.cipher(r,h.keyExpansion(r));s=s.concat(s.slice(0,n-16));var l=new Array(8);ctrTxt=e.slice(0,8);for(var o=0;8>o;o++)l[o]=ctrTxt.charCodeAt(o);for(var d=h.keyExpansion(s),m=Math.ceil((e.length-8)/a),c=new Array(m),u=0;m>u;u++)c[u]=e.slice(8+u*a,8+u*a+a);e=c;for(var f=new Array(e.length),u=0;m>u;u++){for(var y=0;4>y;y++)l[15-y]=u>>>8*y&255;for(var y=0;4>y;y++)l[15-y-4]=(u+1)/4294967296-1>>>8*y&255;for(var v=h.cipher(l,d),b=new Array(e[u].length),o=0;o<e[u].length;o++)b[o]=v[o]^e[u].charCodeAt(o),b[o]=String.fromCharCode(b[o]);f[u]=b.join("")}var _=f.join("");return _=g.decode(_)};var p={};p.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p.encode=function(e,t){t="undefined"==typeof t?!1:t;var i,a,n,r,o,s,l,d,m,c,u,h=[],g="",f=p.code;if(c=t?e.encodeUTF8():e,m=c.length%3,m>0)for(;m++<3;)g+="=",c+="\x00";for(m=0;m<c.length;m+=3)i=c.charCodeAt(m),a=c.charCodeAt(m+1),n=c.charCodeAt(m+2),r=i<<16|a<<8|n,o=r>>18&63,s=r>>12&63,l=r>>6&63,d=63&r,h[m/3]=f.charAt(o)+f.charAt(s)+f.charAt(l)+f.charAt(d);return u=h.join(""),u=u.slice(0,u.length-g.length)+g},p.decode=function(e,t){t="undefined"==typeof t?!1:t;var i,a,n,r,o,s,l,d,m,c,u=[],h=p.code;c=t?e.decodeUTF8():e;for(var g=0;g<c.length;g+=4)r=h.indexOf(c.charAt(g)),o=h.indexOf(c.charAt(g+1)),s=h.indexOf(c.charAt(g+2)),l=h.indexOf(c.charAt(g+3)),d=r<<18|o<<12|s<<6|l,i=d>>>16&255,a=d>>>8&255,n=255&d,u[g/4]=String.fromCharCode(i,a,n),64==l&&(u[g/4]=String.fromCharCode(i,a)),64==s&&(u[g/4]=String.fromCharCode(i));return m=u.join(""),t?m.decodeUTF8():m};var g={};g.encode=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},g.decode=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})},!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,a){var n,r;this.type=t,this.$element=e(i),this.options=this.getOptions(a),this.enabled=!0,"manual"!=this.options.trigger&&(n="hover"==this.options.trigger?"mouseenter":"focus",r="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(n,this.options.selector,e.proxy(this.enter,this)),this.$element.on(r,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.show?(i.hoverState="in",setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.hide?(i.hoverState="out",setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},show:function(){var e,t,i,a,n,r,o;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(r),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),i=this.getPosition(t),a=e[0].offsetWidth,n=e[0].offsetHeight,t?r.split(" ")[1]:r){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-a/2};break;case"top":o={top:i.top-n,left:i.left+i.width/2-a/2};break;case"left":o={top:i.top+i.height/2-n/2,left:i.left-a};break;case"right":o={top:i.top+i.height/2-n/2,left:i.left+i.width}}e.css(o).addClass(r).addClass("in")}},setContent:function(){var e=this.tip();e.find(".timeline-tooltip-inner").html(this.getTitle()),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){i.off(e.support.transition.end).remove()},500);i.one(e.support.transition.end,function(){clearTimeout(t),i.remove()})}var i=this.tip();i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():i.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title),e=e.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(i){return this.each(function(){var a=e(this),n=a.data("tooltip"),r="object"==typeof i&&i;n||a.data("tooltip",n=new t(this,r)),"string"==typeof i&&n[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="timeline-tooltip"><div class="timeline-tooltip-arrow"></div><div class="timeline-tooltip-inner"></div></div>'}}(e.jQuery),"undefined"!=typeof d&&"undefined"==typeof d.StoryJS&&(d.StoryJS=function(){this.init=function(e){}}),"undefined"!=typeof d&&"undefined"==typeof d.Timeline&&(d.Timeline=function(t,i,n){function r(e){"object"==typeof embed_config&&(timeline_config=embed_config),"object"==typeof timeline_config?(a("HAS TIMELINE CONFIG"),F=d.Util.mergeConfig(F,timeline_config)):"object"==typeof e&&(F=d.Util.mergeConfig(F,e)),"mobile"!=d.Browser.device&&"tablet"!=d.Browser.device||(F.touch=!0),F.nav.width=F.width,F.nav.height=200,F.feature.width=F.width,F.feature.height=F.height-F.nav.height,F.nav.zoom.adjust=parseInt(F.start_zoom_adjust,10),d.Timeline.Config=F,d.master_config.Timeline=d.Timeline.Config,this.events=F.events,""!=F.gmap_key&&(F.api_keys.google=F.gmap_key),a("VERSION "+F.version),N=F.version}function o(){A=d.getElement(R),d.Lib.addClass(A,"vco-timeline"),d.Lib.addClass(A,"vco-storyjs"),D=d.appendAndGetElement(A,"<div>","vco-container vco-main"),S=d.appendAndGetElement(D,"<div>","vco-feature"),O=d.appendAndGetElement(S,"<div>","vco-slider"),C=d.appendAndGetElement(D,"<div>","vco-navigation"),I=d.appendAndGetElement(A,"<div>","vco-feedback",""),"undefined"!=typeof F.language.right_to_left&&d.Lib.addClass(A,"vco-right-to-left"),H=new d.Slider(O,F),P=new d.Timeline.TimeNav(C),Q?d.Lib.width(A,F.width):F.width=d.Lib.width(A),q?d.Lib.height(A,F.height):F.height=d.Lib.height(A),F.touch?d.Lib.addClass(A,"vco-touch"):d.Lib.addClass(A,"vco-notouch")}function s(e,t){a("onDataReady"),U=t.timeline,"array"!=c.of(U.era)&&(U.era=[]),j()}function m(){E()}function u(){L(),H.setSize(F.feature.width,F.feature.height),P.setSize(F.width,F.height),M()&&_()}function h(e){F.loaded.slider=!0,p()}function p(e){F.loaded.percentloaded=F.loaded.percentloaded+25,F.loaded.slider&&F.loaded.timenav&&x()}function g(e){F.loaded.timenav=!0,p()}function f(e){G=!0,F.current_slide=H.getCurrentNumber(),b(F.current_slide),P.setMarker(F.current_slide,F.ease,F.duration)}function y(e){G=!0,F.current_slide=P.getCurrentNumber(),b(F.current_slide),H.setSlide(F.current_slide)}function v(e){e<=z.length-1&&e>=0&&(F.current_slide=e,H.setSlide(F.current_slide),P.setMarker(F.current_slide,F.ease,F.duration))}function b(t){F.hash_bookmark&&(e.location.hash="#"+t.toString())}function _(){var t="",i=w(e.orientation);"mobile"==d.Browser.device?t="portrait"==i?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"landscape"==i?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"width=device-width, initial-scale=1, maximum-scale=1.0":"tablet"==d.Browser.device,document.getElementById("viewport")}function w(e){var t="";return t=0==e||180==e?"portrait":90==e||-90==e?"landscape":"normal"}function M(){var t=w(e.orientation);return t==F.orientation?!1:(F.orientation=t,!0)}function T(e,t,i){a("showMessege "+t),i?d.attachElement(I,t):d.attachElement(I,d.MediaElement.loadingmessage(t))}function x(){d.Lib.animate(I,F.duration,4*F.ease,{opacity:0},k)}function k(){d.Lib.detach(I)}function E(){parseInt(F.start_at_slide)>0&&0==F.current_slide&&(F.current_slide=parseInt(F.start_at_slide)),F.start_at_end&&0==F.current_slide&&(F.current_slide=z.length-1),$?($=!0,d.fireEvent(l,F.events.messege,"Internet Explorer "+d.Browser.version+" is not supported by TimelineJS. Please update your browser to version 8 or higher. If you are using a recent version of Internet Explorer you may need to disable compatibility mode in your browser.")):(k(),u(),d.bindEvent(O,h,"LOADED"),d.bindEvent(C,g,"LOADED"),d.bindEvent(O,f,"UPDATE"),d.bindEvent(C,y,"UPDATE"),H.init(z),P.init(z,U.era),d.bindEvent(l,u,F.events.resize))}function L(){a("UPDATE SIZE"),F.width=d.Lib.width(A),F.height=d.Lib.height(A),F.nav.width=F.width,F.feature.width=F.width,F.feature.height=F.height-F.nav.height-3,"mobile"==d.Browser.device,F.width<641?d.Lib.addClass(A,"vco-skinny"):d.Lib.removeClass(A,"vco-skinny")}function j(){z=[],d.fireEvent(l,F.events.messege,"Building Dates"),L();for(var e=0;e<U.date.length;e++)if(null!=U.date[e].startDate&&""!=U.date[e].startDate){var t={},i=d.Date.parse(U.date[e].startDate,!0);t.startdate=i.date,t.precisiondate=i.precision,isNaN(t.startdate)||(null!=U.date[e].endDate&&""!=U.date[e].endDate?t.enddate=d.Date.parse(U.date[e].endDate):t.enddate=t.startdate,t.needs_slug=!1,""==U.date[e].headline&&null!=U.date[e].slug&&""!=U.date[e].slug&&(t.needs_slug=!0),t.title=U.date[e].headline,t.headline=U.date[e].headline,t.type=U.date[e].type,t.date=d.Date.prettyDate(t.startdate,!1,t.precisiondate),t.asset=U.date[e].asset,t.fulldate=t.startdate.getTime(),t.text=U.date[e].text,t.content="",t.tag=U.date[e].tag,t.slug=U.date[e].slug,t.uniqueid=d.Util.unique_ID(7),t.classname=U.date[e].classname,z.push(t))}if("storify"!=U.type&&z.sort(function(e,t){return e.fulldate-t.fulldate}),null!=U.headline&&""!=U.headline&&null!=U.text&&""!=U.text){var n,i,r,t={};"undefined"!=typeof U.startDate?(i=d.Date.parse(U.startDate,!0),n=i.date):n=!1,a("HAS STARTPAGE"),a(n),n&&n<z[0].startdate?t.startdate=new Date(n):(r=z[0].startdate,t.startdate=new Date(z[0].startdate),0===r.getMonth()&&1==r.getDate()&&0===r.getHours()&&0===r.getMinutes()?t.startdate.setFullYear(r.getFullYear()-1):r.getDate()<=1&&0===r.getHours()&&0===r.getMinutes()?t.startdate.setMonth(r.getMonth()-1):0===r.getHours()&&0===r.getMinutes()?t.startdate.setDate(r.getDate()-1):0===r.getMinutes()?t.startdate.setHours(r.getHours()-1):t.startdate.setMinutes(r.getMinutes()-1)),t.uniqueid=d.Util.unique_ID(7),t.enddate=t.startdate,t.precisiondate=i.precision,t.title=U.headline,t.headline=U.headline,t.text=U.text,t.type="start",t.date=d.Date.prettyDate(U.startDate,!1,t.precisiondate),t.asset=U.asset,t.slug=!1,t.needs_slug=!1,t.fulldate=t.startdate.getTime(),F.embed&&d.fireEvent(l,F.events.headline,t.headline),z.unshift(t)}"storify"!=U.type&&z.sort(function(e,t){return e.fulldate-t.fulldate}),m()}var A,D,S,I,O,C,H,P,N="2.x",R="#timelinejs",U={},z=[],F={},Q=!1,q=!1,$=!1,G=!1;if(R="string"==c.of(t)?t.match("#")?t:"#"+t:"#timelinejs",F={embed:!1,events:{data_ready:"DATAREADY",messege:"MESSEGE",headline:"HEADLINE",slide_change:"SLIDE_CHANGE",resize:"resize"},id:R,source:"nothing",type:"timeline",touch:!1,orientation:"normal",maptype:"",version:"2.x",preload:4,current_slide:0,hash_bookmark:!1,start_at_end:!1,start_at_slide:0,start_zoom_adjust:0,start_page:!1,api_keys:{google:"",flickr:"",twitter:""},interval:10,something:0,width:960,height:540,spacing:15,loaded:{slider:!1,timenav:!1,percentloaded:0},nav:{start_page:!1,interval_width:200,density:4,minor_width:0,minor_left:0,constraint:{left:0,right:0,right_min:0,right_max:0},zoom:{adjust:0},multiplier:{current:6,min:.1,max:50},rows:[1,1,1],width:960,height:200,marker:{width:150,height:50}},feature:{width:960,height:540},slider:{width:720,height:400,content:{width:720,height:400,padding:130,padding_default:130},nav:{width:100,height:200}},ease:"easeInOutExpo",duration:1e3,gmap_key:"",language:d.Language},null!=i&&""!=i&&(F.width=i,Q=!0),null!=n&&""!=n&&(F.height=n,q=!0),e.location.hash){var J=e.location.hash.substring(1);isNaN(J)||(F.current_slide=parseInt(J))}e.onhashchange=function(){var t=e.location.hash.substring(1);F.hash_bookmark?G?v(parseInt(t)):G=!1:v(parseInt(t))},this.init=function(e,t){a("INIT"),_(),r(e),o(),"string"==c.of(t)&&(F.source=t),d.Date.setLanguage(F.language),d.master_config.language=F.language,d.ExternalAPI.setKeys(F.api_keys),d.ExternalAPI.googlemaps.setMapType(F.maptype),d.bindEvent(l,s,F.events.data_ready),d.bindEvent(l,T,F.events.messege),d.fireEvent(l,F.events.messege,F.language.messages.loading_timeline),"Explorer"!=d.Browser.browser&&"MSIE"!=d.Browser.browser||parseInt(d.Browser.version,10)<=7&&($=!0),"string"==c.of(F.source)||"object"==c.of(F.source)?d.Timeline.DataObj.getData(F.source):d.fireEvent(l,F.events.messege,"No data source provided")},this.iframeLoaded=function(){a("iframeLoaded")},this.reload=function(e){a("Load new timeline data"+e),d.fireEvent(l,F.events.messege,F.language.messages.loading_timeline),U={},d.Timeline.DataObj.getData(e),F.current_slide=0,H.setSlide(0),P.setMarker(0,F.ease,F.duration)}},d.Timeline.Config={}),"undefined"!=typeof d.Timeline&&"undefined"==typeof d.Timeline.TimeNav&&(d.Timeline.TimeNav=function(t,n,r){function o(e){Y.nav.constraint.left=Y.width/2,Y.nav.constraint.right=Y.nav.constraint.right_min-Y.width/2,J.updateConstraint(Y.nav.constraint),d.Lib.css(z,"left",Math.round(Y.width/2)+2),d.Lib.css(F,"left",Math.round(Y.width/2)-8),y(Y.current_slide,Y.ease,Y.duration,!0,e)}function s(){d.fireEvent(Z,"UPDATE")}function l(){J.cancelSlide(),Y.nav.multiplier.current>Y.nav.multiplier.min&&(Y.nav.multiplier.current<=1?Y.nav.multiplier.current=Y.nav.multiplier.current-.25:Y.nav.multiplier.current>5?Y.nav.multiplier.current>16?Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current-10):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current-4):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current-1),Y.nav.multiplier.current<=0&&(Y.nav.multiplier.current=Y.nav.multiplier.min),p())}function m(){J.cancelSlide(),Y.nav.multiplier.current<Y.nav.multiplier.max&&(Y.nav.multiplier.current>4?Y.nav.multiplier.current>16?Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current+10):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current+4):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current+1),Y.nav.multiplier.current>=Y.nav.multiplier.max&&(Y.nav.multiplier.current=Y.nav.multiplier.max),p())}function u(e){J.cancelSlide(),y(0),s()}function h(t){var i=0,a=0;t||(t=e.event),t.originalEvent&&(t=t.originalEvent),"undefined"!=typeof t.wheelDeltaX&&(i=t.wheelDeltaY/6,i=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX/6:0),i&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1),a=d.Lib.position(I).left+i,a>Y.nav.constraint.left?a=Y.width/2:a<Y.nav.constraint.right&&(a=Y.nav.constraint.right),d.Lib.css(I,"left",a)}function p(){a("config.nav.multiplier "+Y.nav.multiplier.current),x(!0),k(!0),E(P,te,!0,!0),E(N,ie,!0),Y.nav.constraint.left=Y.width/2,Y.nav.constraint.right=Y.nav.constraint.right_min-Y.width/2,J.updateConstraint(Y.nav.constraint)}function g(e){J.cancelSlide(),y(e.data.number),s()}function f(e){d.Lib.toggleClass(e.data.elem,"zFront")}function y(e,t,i,n,r){a("GO TO MARKER");var o=Y.ease,s=Y.duration,l=!1,m=!1;ne=e,oe.left=Y.width/2-ee[ne].pos_left,oe.visible.left=Math.abs(oe.left)-100,oe.visible.right=Math.abs(oe.left)+Y.width+100,0==ne&&(m=!0),ne+1==ee.length&&(l=!0),null!=t&&""!=t&&(o=t),null!=i&&""!=i&&(s=i);for(var c=0;c<ee.length;c++)d.Lib.removeClass(ee[c].marker,"active");Y.start_page&&"start"==ee[0].type&&(d.Lib.visible(ee[0].marker,!1),d.Lib.addClass(ee[0].marker,"start")),d.Lib.addClass(ee[ne].marker,"active"),d.Lib.stop(I),d.Lib.animate(I,s,o,{left:oe.left})}function v(){var e=0,t=0,i=0,a=[],n=0;for(n=0;n<ee.length;n++)if("start"==K[n].type);else{var r=T(de,ee[n].relative_pos),e=t;t=r.begin,i=t-e,a.push(i)}return d.Util.average(a).mean}function b(){var e=Y.nav.multiplier.current,t=0;for(t=0;e>t;t++)v()<75&&Y.nav.multiplier.current>1&&(Y.nav.multiplier.current=Y.nav.multiplier.current-1)}function _(){var e=w(K[0].startdate),t=w(K[K.length-1].enddate);ue.eon.type="eon",ue.eon.first=e.eons,ue.eon.base=Math.floor(e.eons),ue.eon.last=t.eons,ue.eon.number=V.eons,ue.eon.multiplier=se.eons,ue.eon.minor=se.eons,ue.era.type="era",ue.era.first=e.eras,ue.era.base=Math.floor(e.eras),ue.era.last=t.eras,ue.era.number=V.eras,ue.era.multiplier=se.eras,ue.era.minor=se.eras,ue.epoch.type="epoch",ue.epoch.first=e.epochs,ue.epoch.base=Math.floor(e.epochs),ue.epoch.last=t.epochs,ue.epoch.number=V.epochs,ue.epoch.multiplier=se.epochs,ue.epoch.minor=se.epochs,ue.age.type="age",ue.age.first=e.ages,ue.age.base=Math.floor(e.ages),ue.age.last=t.ages,ue.age.number=V.ages,ue.age.multiplier=se.ages,ue.age.minor=se.ages,ue.millenium.type="millenium",ue.millenium.first=e.milleniums,ue.millenium.base=Math.floor(e.milleniums),ue.millenium.last=t.milleniums,ue.millenium.number=V.milleniums,ue.millenium.multiplier=se.millenium,ue.millenium.minor=se.millenium,ue.century.type="century",ue.century.first=e.centuries,ue.century.base=Math.floor(e.centuries),ue.century.last=t.centuries,ue.century.number=V.centuries,ue.century.multiplier=se.century,ue.century.minor=se.century,ue.decade.type="decade",ue.decade.first=e.decades,ue.decade.base=Math.floor(e.decades),ue.decade.last=t.decades,ue.decade.number=V.decades,ue.decade.multiplier=se.decade,ue.decade.minor=se.decade,ue.year.type="year",ue.year.first=e.years,ue.year.base=Math.floor(e.years),ue.year.last=t.years,ue.year.number=V.years,ue.year.multiplier=1,ue.year.minor=se.month,ue.month.type="month",ue.month.first=e.months,ue.month.base=Math.floor(e.months),ue.month.last=t.months,ue.month.number=V.months,ue.month.multiplier=1,ue.month.minor=Math.round(se.week),ue.week.type="week",ue.week.first=e.weeks,ue.week.base=Math.floor(e.weeks),ue.week.last=t.weeks,ue.week.number=V.weeks,ue.week.multiplier=1,ue.week.minor=7,ue.day.type="day",ue.day.first=e.days,ue.day.base=Math.floor(e.days),ue.day.last=t.days,ue.day.number=V.days,ue.day.multiplier=1,ue.day.minor=24,ue.hour.type="hour",ue.hour.first=e.hours,ue.hour.base=Math.floor(e.hours),ue.hour.last=t.hours,ue.hour.number=V.hours,ue.hour.multiplier=1,ue.hour.minor=60,ue.minute.type="minute",ue.minute.first=e.minutes,ue.minute.base=Math.floor(e.minutes),ue.minute.last=t.minutes,ue.minute.number=V.minutes,ue.minute.multiplier=1,ue.minute.minor=60,ue.second.type="decade",ue.second.first=e.seconds,ue.second.base=Math.floor(e.seconds),ue.second.last=t.seconds,ue.second.number=V.seconds,ue.second.multiplier=1,ue.second.minor=10}function w(e,t){var i={};return i.days=e/le.day,i.weeks=i.days/le.week,i.months=i.days/le.month,i.years=i.months/le.year,i.hours=i.days*le.hour,i.minutes=i.days*le.minute,i.seconds=i.days*le.second,i.decades=i.years/le.decade,i.centuries=i.years/le.century,i.milleniums=i.years/le.millenium,i.ages=i.years/le.age,i.epochs=i.years/le.epoch,i.eras=i.years/le.era,i.eons=i.years/le.eon,i}function M(e,t,i){var a,n,r=e.type,o={start:"",end:"",type:r};return a=w(t),o.start=t.months,"eon"==r?o.start=a.eons:"era"==r?o.start=a.eras:"epoch"==r?o.start=a.epochs:"age"==r?o.start=a.ages:"millenium"==r?o.start=t.milleniums:"century"==r?o.start=a.centuries:"decade"==r?o.start=a.decades:"year"==r?o.start=a.years:"month"==r?o.start=a.months:"week"==r?o.start=a.weeks:"day"==r?o.start=a.days:"hour"==r?o.start=a.hours:"minute"==r&&(o.start=a.minutes),"date"==c.of(i)?(n=w(i),o.end=i.months,"eon"==r?o.end=n.eons:"era"==r?o.end=n.eras:"epoch"==r?o.end=n.epochs:"age"==r?o.end=n.ages:"millenium"==r?o.end=i.milleniums:"century"==r?o.end=n.centuries:"decade"==r?o.end=n.decades:"year"==r?o.end=n.years:"month"==r?o.end=n.months:"week"==r?o.end=n.weeks:"day"==r?o.end=n.days:"hour"==r?o.end=n.hours:"minute"==r&&(o.end=n.minutes)):o.end=o.start,o}function T(e,t){return{begin:(t.start-de.base)*(Y.nav.interval_width/Y.nav.multiplier.current),end:(t.end-de.base)*(Y.nav.interval_width/Y.nav.multiplier.current)}}function x(e){var t=2,i=0,n=-2,r=0,o=150,s=6,l=0,m=Y.width,c=[],u=6,h={left:oe.visible.left-m,right:oe.visible.right+m},p=0,g=0;for(Y.nav.minor_width=Y.width,d.Lib.removeClass(".flag","row1"),d.Lib.removeClass(".flag","row2"),d.Lib.removeClass(".flag","row3"),p=0;p<ee.length;p++){var f,y=ee[p],v=T(de,ee[p].relative_pos),b=0,_=!1,w={id:p,pos:0,row:0};if(v.begin=Math.round(v.begin+n),v.end=Math.round(v.end+n),f=Math.round(v.end-v.begin),y.pos_left=v.begin,ne==p&&(oe.left=Y.width/2-v,oe.visible.left=Math.abs(oe.left),oe.visible.right=Math.abs(oe.left)+Y.width,h.left=oe.visible.left-m,h.right=oe.visible.right+m),Math.abs(v.begin)>=h.left&&Math.abs(v.begin)<=h.right&&(_=!0),e?(d.Lib.stop(y.marker),d.Lib.animate(y.marker,Y.duration/2,Y.ease,{left:v.begin})):(d.Lib.stop(y.marker),d.Lib.css(y.marker,"left",v.begin)),p==ne&&(l=v.begin),f>5&&(d.Lib.css(y.lineevent,"height",s),d.Lib.css(y.lineevent,"top",o),e?d.Lib.animate(y.lineevent,Y.duration/2,Y.ease,{width:f}):d.Lib.css(y.lineevent,"width",f)),ae.length>0){for(g=0;g<ae.length;g++)g<Y.nav.rows.current.length&&y.tag==ae[g]&&(t=g,g==Y.nav.rows.current.length-1&&(a("ON LAST ROW"),d.Lib.addClass(y.flag,"flag-small-last")));b=Y.nav.rows.current[t]}else v.begin-i.begin<Y.nav.marker.width+Y.spacing?t<Y.nav.rows.current.length-1?t++:(t=0,r++):(r=1,t=1),b=Y.nav.rows.current[t];i=v,w.pos=v,w.row=t,c.push(w),c.length>u&&d.Util.removeRange(c,0),e?(d.Lib.stop(y.flag),d.Lib.animate(y.flag,Y.duration,Y.ease,{top:b})):(d.Lib.stop(y.flag),d.Lib.css(y.flag,"top",b)),Y.start_page&&"start"==ee[p].type&&d.Lib.visible(y.marker,!1),v>Y.nav.minor_width&&(Y.nav.minor_width=v),v<Y.nav.minor_left&&(Y.nav.minor_left=v)}e&&(d.Lib.stop(I),d.Lib.animate(I,Y.duration/2,Y.ease,{left:Y.width/2-l}))}function k(e){var t=0,i=0;for(t=0;t<X.length;t++){var a=X[t],n=T(de,a.relative_pos),r=0,o=0,s=Y.nav.marker.height*Y.nav.rows.full.length,l=n.end-n.begin;if(""!=a.tag){for(s=Y.nav.marker.height*Y.nav.rows.full.length/Y.nav.rows.current.length,i=0;i<ae.length;i++)i<Y.nav.rows.current.length&&a.tag==ae[i]&&(o=i);r=Y.nav.rows.current[o]}else r=-1;e?(d.Lib.stop(a.content),d.Lib.stop(a.text_content),d.Lib.animate(a.content,Y.duration/2,Y.ease,{top:r,left:n.begin,width:l,height:s}),d.Lib.animate(a.text_content,Y.duration/2,Y.ease,{left:n.begin})):(d.Lib.stop(a.content),d.Lib.stop(a.text_content),d.Lib.css(a.content,"left",n.begin),d.Lib.css(a.content,"width",l),d.Lib.css(a.content,"height",s),d.Lib.css(a.content,"top",r),d.Lib.css(a.text_content,"left",n.begin))}}function E(e,t,n,r){var o=0,s=Y.width,l={left:oe.visible.left-s,right:oe.visible.right+s};for(not_too_many=!0,i=0,Y.nav.minor_left=0,t.length>100&&(not_too_many=!1,a("TOO MANY "+t.length)),i=0;i<t.length;i++){var m=t[i].element,c=(t[i].date,t[i].visible),u=T(de,t[i].relative_pos),h=u.begin,p=t[i].animation,g=!0,f=!1;p.pos=h,p.animate=!1,Math.abs(h)>=l.left&&Math.abs(h)<=l.right&&(f=!0),Y.nav.multiplier.current>16&&r?g=!1:65>h-o&&(35>h-o?i%4==0?0==h&&(g=!1):g=!1:d.Util.isEven(i)||(g=!1)),g?t[i].is_detached&&(d.Lib.append(e,m),t[i].is_detached=!1):(t[i].is_detached=!0,d.Lib.detach(m)),c?g?(p.opacity="100",n&&f&&(p.animate=!0)):(p.opacity="0",n&&not_too_many&&(p.animate=!0),t[i].interval_visible=!1):(p.opacity="100",g?(n&&not_too_many?p.animate=!0:n&&f&&(p.animate=!0),t[i].interval_visible=!0):n&&not_too_many&&(p.animate=!0)),o=h,h>Y.nav.minor_width&&(Y.nav.minor_width=h),h<Y.nav.minor_left&&(Y.nav.minor_left=h),p.animate?d.Lib.animate(m,Y.duration/2,Y.ease,{opacity:p.opacity,left:p.pos}):(d.Lib.css(m,"opacity",p.opacity),d.Lib.css(m,"left",h))}Y.nav.constraint.right_min=-Y.nav.minor_width+Y.width,Y.nav.constraint.right=Y.nav.constraint.right_min+Y.width/2,d.Lib.css(Q,"left",Y.nav.minor_left-Y.width/2),d.Lib.width(Q,Y.nav.minor_width+Y.width+Math.abs(Y.nav.minor_left))}function L(e,t,i){var n,r,o=0,s=!0,l=0,m=0,c=Math.ceil(e.number)+2,u={flag:!1,offset:0},h=0;for(d.attachElement(i,""),e.date=new Date(K[0].startdate.getFullYear(),0,1,0,0,0),n=e.date.getTimezoneOffset(),h=0;c>h;h++){a(e.type);var p=!1,g={element:d.appendAndGetElement(i,"<div>",e.classname),date:new Date(K[0].startdate.getFullYear(),0,1,0,0,0),visible:!1,date_string:"",type:e.interval_type,relative_pos:0,is_detached:!1,animation:{animate:!1,pos:"",opacity:"100"}};"eon"==e.type?(s&&(r=5e8*Math.floor(K[0].startdate.getFullYear()/5e8)),g.date.setFullYear(r+5e8*o),p=!0):"era"==e.type?(s&&(r=1e8*Math.floor(K[0].startdate.getFullYear()/1e8)),g.date.setFullYear(r+1e8*o),p=!0):"epoch"==e.type?(s&&(r=1e7*Math.floor(K[0].startdate.getFullYear()/1e7)),g.date.setFullYear(r+1e7*o),p=!0):"age"==e.type?(s&&(r=1e6*Math.floor(K[0].startdate.getFullYear()/1e6)),g.date.setFullYear(r+1e6*o),p=!0):"millenium"==e.type?(s&&(r=1e3*Math.floor(K[0].startdate.getFullYear()/1e3)),g.date.setFullYear(r+1e3*o),p=!0):"century"==e.type?(s&&(r=100*Math.floor(K[0].startdate.getFullYear()/100)),g.date.setFullYear(r+100*o),p=!0):"decade"==e.type?(s&&(r=10*Math.floor(K[0].startdate.getFullYear()/10)),g.date.setFullYear(r+10*o),p=!0):"year"==e.type?(s&&(r=K[0].startdate.getFullYear()),g.date.setFullYear(r+o),p=!0):"month"==e.type?(s&&(r=K[0].startdate.getMonth()),g.date.setMonth(r+o)):"week"==e.type?(s&&(r=K[0].startdate.getMonth()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(r+7*o)):"day"==e.type?(s&&(r=K[0].startdate.getDate()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(r+o)):"hour"==e.type?(s&&(r=K[0].startdate.getHours()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(r+o)):"minute"==e.type?(s&&(r=K[0].startdate.getMinutes()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(K[0].startdate.getHours()),g.date.setMinutes(r+o)):"second"==e.type?(s&&(r=K[0].startdate.getSeconds()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(K[0].startdate.getHours()),g.date.setMinutes(K[0].startdate.getMinutes()),g.date.setSeconds(r+o)):"millisecond"==e.type&&(s&&(r=K[0].startdate.getMilliseconds()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(K[0].startdate.getHours()),g.date.setMinutes(K[0].startdate.getMinutes()),g.date.setSeconds(K[0].startdate.getSeconds()),g.date.setMilliseconds(r+o)),"Firefox"==d.Browser.browser&&("1970"==g.date.getFullYear()&&g.date.getTimezoneOffset()!=n?(a("FIREFOX 1970 TIMEZONE OFFSET "+g.date.getTimezoneOffset()+" SHOULD BE "+n),a(e.type+" "+e.date),u.offset=g.date.getTimezoneOffset()/60,u.flag=!0,g.date.setHours(g.date.getHours()+u.offset)):u.flag&&(u.flag=!1,g.date.setHours(g.date.getHours()+u.offset),p&&(u.flag=!0))),p?g.date.getFullYear()<0?g.date_string=Math.abs(g.date.getFullYear()).toString()+" B.C.":g.date_string=g.date.getFullYear():g.date_string=d.Date.prettyDate(g.date,!0),o+=1,s=!1,g.relative_pos=M(de,g.date),l=g.relative_pos.begin,g.relative_pos.begin>m&&(m=g.relative_pos.begin),d.appendElement(g.element,g.date_string),d.Lib.css(g.element,"text-indent",-(d.Lib.width(g.element)/2)),d.Lib.css(g.element,"opacity","0"),t.push(g)}d.Lib.width(Q,m),E(i,t)}function j(){var e=0,t=0;if(d.attachElement(Z,""),I=d.appendAndGetElement(Z,"<div>","timenav"),O=d.appendAndGetElement(I,"<div>","content"),C=d.appendAndGetElement(I,"<div>","time"),H=d.appendAndGetElement(C,"<div>","time-interval-minor"),Q=d.appendAndGetElement(H,"<div>","minor"),N=d.appendAndGetElement(C,"<div>","time-interval-major"),P=d.appendAndGetElement(C,"<div>","time-interval"),R=d.appendAndGetElement(Z,"<div>","timenav-background"),z=d.appendAndGetElement(R,"<div>","timenav-line"),F=d.appendAndGetElement(R,"<div>","timenav-indicator"),U=d.appendAndGetElement(R,"<div>","timenav-interval-background","<div class='top-highlight'></div>"),q=d.appendAndGetElement(Z,"<div>","vco-toolbar"),A(),D(),S(),b(),x(!1),k(),E(P,te,!1,!0),E(N,ie),Y.start_page&&($backhome=d.appendAndGetElement(q,"<div>","back-home","<div class='icon'></div>"),d.bindEvent(".back-home",u,"click"),d.Lib.attribute($backhome,"title",d.master_config.language.messages.return_to_title),d.Lib.attribute($backhome,"rel","timeline-tooltip")),J=new d.DragSlider,J.createPanel(Z,I,Y.nav.constraint,Y.touch),Y.touch&&Y.start_page?(d.Lib.addClass(q,"touch"),d.Lib.css(q,"top",55),d.Lib.css(q,"left",10)):(Y.start_page&&d.Lib.css(q,"top",27),$=d.appendAndGetElement(q,"<div>","zoom-in","<div class='icon'></div>"),G=d.appendAndGetElement(q,"<div>","zoom-out","<div class='icon'></div>"),d.bindEvent($,l,"click"),d.bindEvent(G,m,"click"),d.Lib.attribute($,"title",d.master_config.language.messages.expand_timeline),d.Lib.attribute($,"rel","timeline-tooltip"),d.Lib.attribute(G,"title",d.master_config.language.messages.contract_timeline),d.Lib.attribute(G,"rel","timeline-tooltip"),q.tooltip({selector:"div[rel=timeline-tooltip]",placement:"right"}),d.bindEvent(Z,h,"DOMMouseScroll"),d.bindEvent(Z,h,"mousewheel")),0!=Y.nav.zoom.adjust)if(Y.nav.zoom.adjust<0)for(e=0;e<Math.abs(Y.nav.zoom.adjust);e++)m();else for(t=0;t<Y.nav.zoom.adjust;t++)l();re=!0,o(!0),d.fireEvent(Z,"LOADED")}function A(){var e=0,t=0;for(V=w(K[K.length-1].enddate-K[0].startdate,!0),a(V),_(),V.centuries>K.length/Y.nav.density?(de=ue.century,me=ue.millenium,ce=ue.decade):V.decades>K.length/Y.nav.density?(de=ue.decade,me=ue.century,ce=ue.year):V.years>K.length/Y.nav.density?(de=ue.year,me=ue.decade,ce=ue.month):V.months>K.length/Y.nav.density?(de=ue.month,me=ue.year,ce=ue.day):V.days>K.length/Y.nav.density?(de=ue.day,me=ue.month,ce=ue.hour):V.hours>K.length/Y.nav.density?(de=ue.hour,me=ue.day,ce=ue.minute):V.minutes>K.length/Y.nav.density?(de=ue.minute,me=ue.hour,ce=ue.second):V.seconds>K.length/Y.nav.density?(de=ue.second,me=ue.minute,ce=ue.second):(a("NO IDEA WHAT THE TYPE SHOULD BE"),de=ue.day,me=ue.month,ce=ue.hour),a("INTERVAL TYPE: "+de.type),a("INTERVAL MAJOR TYPE: "+me.type),L(de,te,P),L(me,ie,N),e=0;e<te.length;e++)for(t=0;t<ie.length;t++)te[e].date_string==ie[t].date_string&&d.attachElement(te[e].element,"")}function D(){var e=0,t=0,i=0;for(ee=[],X=[],e=0;e<K.length;e++){
var n,r,o,s,l,m,c,u="",h=!1;if(n=d.appendAndGetElement(O,"<div>","marker"),r=d.appendAndGetElement(n,"<div>","flag"),o=d.appendAndGetElement(r,"<div>","flag-content"),s=d.appendAndGetElement(n,"<div>","dot"),l=d.appendAndGetElement(n,"<div>","line"),m=d.appendAndGetElement(l,"<div>","event-line"),_marker_relative_pos=M(de,K[e].startdate,K[e].enddate),_marker_thumb="",null!=K[e].asset&&""!=K[e].asset?d.appendElement(o,d.MediaElement.thumbnail(K[e].asset,24,24,K[e].uniqueid)):d.appendElement(o,"<div style='margin-right:7px;height:50px;width:2px;float:left;'></div>"),""==K[e].title||" "==K[e].title)if(a("TITLE NOTHING"),"undefined"!=typeof K[e].slug&&""!=K[e].slug)a("SLUG"),u=d.Util.untagify(K[e].slug),h=!0;else{var p=d.MediaType(K[e].asset.media);"quote"==p.type||"unknown"==p.type?(u=d.Util.untagify(p.id),h=!0):h=!1}else""!=K[e].title||" "!=K[e].title?(a(K[e].title),u=d.Util.untagify(K[e].title),h=!0):a("TITLE SLUG NOT FOUND "+K[e].slug);h?d.appendElement(o,"<h3>"+u+"</h3>"):(d.appendElement(o,"<h3>"+u+"</h3>"),d.appendElement(o,"<h3 id='marker_content_"+K[e].uniqueid+"'>"+u+"</h3>")),d.Lib.attr(n,"id",("marker_"+K[e].uniqueid).toString()),d.bindEvent(r,g,"",{number:e}),d.bindEvent(r,f,"mouseenter mouseleave",{number:e,elem:r}),c={marker:n,flag:r,lineevent:m,type:"marker",full:!0,relative_pos:_marker_relative_pos,tag:K[e].tag,pos_left:0},"start"==K[e].type&&(a("BUILD MARKER HAS START PAGE"),Y.start_page=!0,c.type="start"),"storify"==K[e].type&&(c.type="storify"),K[e].tag&&ae.push(K[e].tag),ee.push(c)}for(ae=d.Util.deDupeArray(ae),ae.length>3?Y.nav.rows.current=Y.nav.rows.half:Y.nav.rows.current=Y.nav.rows.full,t=0;t<ae.length;t++)if(t<Y.nav.rows.current.length){var y=d.appendAndGetElement(R,"<div>","timenav-tag");d.Lib.addClass(y,"timenav-tag-row-"+(t+1)),ae.length>3?d.Lib.addClass(y,"timenav-tag-size-half"):d.Lib.addClass(y,"timenav-tag-size-full"),d.appendElement(y,"<div><h3>"+ae[t]+"</h3></div>")}if(ae.length>3)for(i=0;i<ee.length;i++)d.Lib.addClass(ee[i].flag,"flag-small"),ee[i].full=!1}function S(){var e=6,t=0,i=0;for(i=0;i<W.length;i++){var a={content:d.appendAndGetElement(O,"<div>","era"),text_content:d.appendAndGetElement(P,"<div>","era"),startdate:d.Date.parse(W[i].startDate),enddate:d.Date.parse(W[i].endDate),title:W[i].headline,uniqueid:d.Util.unique_ID(6),tag:"",relative_pos:""},n=(d.Date.prettyDate(a.startdate),d.Date.prettyDate(a.enddate),"<div>&nbsp;</div>");"undefined"!=typeof W[i].tag&&(a.tag=W[i].tag),a.relative_pos=M(de,a.startdate,a.enddate),d.Lib.attr(a.content,"id",a.uniqueid),d.Lib.attr(a.text_content,"id",a.uniqueid+"_text"),d.Lib.addClass(a.content,"era"+(t+1)),d.Lib.addClass(a.text_content,"era"+(t+1)),e>t?t++:t=0,d.appendElement(a.content,n),d.appendElement(a.text_content,d.Util.unlinkify(a.title)),X.push(a)}}a("VMM.Timeline.TimeNav");var I,O,C,H,P,N,R,U,z,F,Q,q,$,G,J,B,W,Y=d.Timeline.Config,V={},Z=t,K=[],X=[],ee=[],te=[],ie=[],ae=[],ne=0,re=!1,oe={left:"",visible:{left:"",right:""}},se={day:24,month:12,year:10,hour:60,minute:60,second:1e3,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8,week:4.34812141,days_in_month:30.4368499,days_in_week:7,weeks_in_month:4.34812141,weeks_in_year:52.177457,days_in_year:365.242199,hours_in_day:24},le={day:864e5,week:7,month:30.4166666667,year:12,hour:24,minute:1440,second:86400,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8},de={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_idd",interval_type:"interval"},me={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"major",interval_type:"interval major"},ce={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_dd_minor",interval_type:"interval minor"},ue={day:{},month:{},year:{},hour:{},minute:{},second:{},decade:{},century:{},millenium:{},week:{},age:{},epoch:{},era:{},eon:{}};B=Y.nav.marker.height/2,Y.nav.rows={full:[1,2*B,4*B],half:[1,B,2*B,3*B,4*B,5*B],current:[]},null!=n&&""!=n&&(Y.nav.width=n),null!=r&&""!=r&&(Y.nav.height=r),this.init=function(e,t){a("VMM.Timeline.TimeNav init"),"undefined"!=typeof e?this.setData(e,t):a("WAITING ON DATA")},this.setData=function(e,t){"undefined"!=typeof e?(K={},K=e,W=t,j()):a("NO DATA")},this.setSize=function(e,t){null!=e&&(Y.width=e),null!=t&&(Y.height=t),re&&o()},this.setMarker=function(e,t,i,a){y(e,t,i)},this.getCurrentNumber=function(){return ne}}),"undefined"!=typeof d.Timeline&&"undefined"==typeof d.Timeline.DataObj&&(d.Timeline.DataObj={data_obj:{},model_array:[],getData:function(e){if(d.Timeline.DataObj.data_obj={},d.fireEvent(l,d.Timeline.Config.events.messege,d.Timeline.Config.language.messages.loading_timeline),"object"==c.of(e))a("DATA SOURCE: JSON OBJECT"),d.Timeline.DataObj.parseJSON(e);else if("string"==c.of(e))if(e.match("%23"))a("DATA SOURCE: TWITTER SEARCH"),d.Timeline.DataObj.model.tweets.getData("%23medill");else if(e.match("spreadsheet"))a("DATA SOURCE: GOOGLE SPREADSHEET"),d.Timeline.DataObj.model.googlespreadsheet.getData(e);else if(e.match("storify.com"))a("DATA SOURCE: STORIFY"),d.Timeline.DataObj.model.storify.getData(e);else if(e.match(".jsonp"))a("DATA SOURCE: JSONP"),LoadLib.js(e,d.Timeline.DataObj.onJSONPLoaded);else{a("DATA SOURCE: JSON");var t="";t=e.indexOf("?")>-1?e+"&callback=onJSONP_Data":e+"?callback=onJSONP_Data",d.getJSON(t,d.Timeline.DataObj.parseJSON)}else"html"==c.of(e)?(a("DATA SOURCE: HTML"),d.Timeline.DataObj.parseHTML(e)):a("DATA SOURCE: UNKNOWN")},onJSONPLoaded:function(){a("JSONP IS LOADED"),d.fireEvent(l,d.Timeline.Config.events.data_ready,storyjs_jsonp_data)},parseHTML:function(e){a("parseHTML"),a("WARNING: THIS IS STILL ALPHA AND WILL NOT WORK WITH ID's other than #timeline");var t=d.Timeline.DataObj.data_template_obj;if(d.Lib.find("#timeline section","time")[0]){t.timeline.startDate=d.Lib.html(d.Lib.find("#timeline section","time")[0]),t.timeline.headline=d.Lib.html(d.Lib.find("#timeline section","h2")),t.timeline.text=d.Lib.html(d.Lib.find("#timeline section","article"));var i=!1;0!=d.Lib.find("#timeline section","figure img").length?(i=!0,t.timeline.asset.media=d.Lib.attr(d.Lib.find("#timeline section","figure img"),"src")):0!=d.Lib.find("#timeline section","figure a").length&&(i=!0,t.timeline.asset.media=d.Lib.attr(d.Lib.find("#timeline section","figure a"),"href")),i&&(0!=d.Lib.find("#timeline section","cite").length&&(t.timeline.asset.credit=d.Lib.html(d.Lib.find("#timeline section","cite"))),0!=d.Lib.find(this,"figcaption").length&&(t.timeline.asset.caption=d.Lib.html(d.Lib.find("#timeline section","figcaption"))))}d.Lib.each("#timeline li",function(e,i){var n=!1,r={type:"default",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};if(0!=d.Lib.find(this,"time")){n=!0,r.startDate=d.Lib.html(d.Lib.find(this,"time")[0]),d.Lib.find(this,"time")[1]&&(r.endDate=d.Lib.html(d.Lib.find(this,"time")[1])),r.headline=d.Lib.html(d.Lib.find(this,"h3")),r.text=d.Lib.html(d.Lib.find(this,"article"));var o=!1;0!=d.Lib.find(this,"figure img").length?(o=!0,r.asset.media=d.Lib.attr(d.Lib.find(this,"figure img"),"src")):0!=d.Lib.find(this,"figure a").length&&(o=!0,r.asset.media=d.Lib.attr(d.Lib.find(this,"figure a"),"href")),o&&(0!=d.Lib.find(this,"cite").length&&(r.asset.credit=d.Lib.html(d.Lib.find(this,"cite"))),0!=d.Lib.find(this,"figcaption").length&&(r.asset.caption=d.Lib.html(d.Lib.find(this,"figcaption")))),a(r),t.timeline.date.push(r)}}),d.fireEvent(l,d.Timeline.Config.events.data_ready,t)},parseJSON:function(e){a("parseJSON"),"default"==e.timeline.type?(a("DATA SOURCE: JSON STANDARD TIMELINE"),d.fireEvent(l,d.Timeline.Config.events.data_ready,e)):"twitter"==e.timeline.type?(a("DATA SOURCE: JSON TWEETS"),d.Timeline.DataObj.model_Tweets.buildData(e)):(a("DATA SOURCE: UNKNOWN JSON"),a(c.of(e.timeline)))},model:{googlespreadsheet:{getData:function(e){function t(){i=d.getJSON(o,function(e){clearTimeout(s),d.Timeline.DataObj.model.googlespreadsheet.buildData(e)}).error(function(e,t,i){return 400==e.status?(d.fireEvent(l,d.Timeline.Config.events.messege,"Error reading Google spreadsheet. Check the URL and make sure it's published to the web."),void clearTimeout(s)):(a("Google Docs ERROR"),void a("Google Docs ERROR: "+t+" "+e.responseText))}).success(function(e){clearTimeout(s)})}var i,n,r,o,s,m=0;n=d.Util.getUrlVars(e).key,r=d.Util.getUrlVars(e).worksheet,"undefined"==typeof r&&(r="od6"),o="https://spreadsheets.google.com/feeds/list/"+n+"/"+r+"/public/values?alt=json",s=setTimeout(function(){a("Google Docs timeout "+o),a(o),3>m?(d.fireEvent(l,d.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+m),m++,i.abort(),t()):d.fireEvent(l,d.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),t()},buildData:function(e){function t(e){return"undefined"!=typeof e?e.$t:""}var i=d.Timeline.DataObj.data_template_obj,n=!1;if(d.fireEvent(l,d.Timeline.Config.events.messege,"Parsing Google Doc Data"),"undefined"==typeof e.feed.entry)d.fireEvent(l,d.Timeline.Config.events.messege,"Error parsing spreadsheet. Make sure you have no blank rows and that the headers have not been changed.");else{n=!0;for(var r=0;r<e.feed.entry.length;r++){var o=e.feed.entry[r],s="";if("undefined"!=typeof o.gsx$type?s=o.gsx$type.$t:"undefined"!=typeof o.gsx$titleslide&&(s=o.gsx$titleslide.$t),s.match("start")||s.match("title"))i.timeline.startDate=t(o.gsx$startdate),i.timeline.headline=t(o.gsx$headline),i.timeline.asset.media=t(o.gsx$media),i.timeline.asset.caption=t(o.gsx$mediacaption),i.timeline.asset.credit=t(o.gsx$mediacredit),i.timeline.text=t(o.gsx$text),i.timeline.type="google spreadsheet";else if(s.match("era")){var m={startDate:t(o.gsx$startdate),endDate:t(o.gsx$enddate),headline:t(o.gsx$headline),text:t(o.gsx$text),tag:t(o.gsx$tag)};i.timeline.era.push(m)}else{var c={type:"google spreadsheet",startDate:t(o.gsx$startdate),endDate:t(o.gsx$enddate),headline:t(o.gsx$headline),text:t(o.gsx$text),tag:t(o.gsx$tag),asset:{media:t(o.gsx$media),credit:t(o.gsx$mediacredit),caption:t(o.gsx$mediacaption),thumbnail:t(o.gsx$mediathumbnail)}};i.timeline.date.push(c)}}}n?(d.fireEvent(l,d.Timeline.Config.events.messege,"Finished Parsing Data"),d.fireEvent(l,d.Timeline.Config.events.data_ready,i)):(d.fireEvent(l,d.Timeline.Config.events.messege,d.Language.messages.loading+" Google Doc Data (cells)"),a("There may be too many entries. Still trying to load data. Now trying to load cells to avoid Googles limitation on cells"),d.Timeline.DataObj.model.googlespreadsheet.getDataCells(e.feed.link[0].href))},getDataCells:function(e){function t(){i=d.getJSON(r,function(e){clearTimeout(o),d.Timeline.DataObj.model.googlespreadsheet.buildDataCells(e)}).error(function(e,t,i){a("Google Docs ERROR"),a("Google Docs ERROR: "+t+" "+e.responseText)}).success(function(e){clearTimeout(o)})}var i,n,r,o,s=0;n=d.Util.getUrlVars(e).key,r="https://spreadsheets.google.com/feeds/cells/"+n+"/od6/public/values?alt=json",o=setTimeout(function(){a("Google Docs timeout "+r),a(r),3>s?(d.fireEvent(l,d.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+s),s++,i.abort(),t()):d.fireEvent(l,d.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),t()},buildDataCells:function(e){function t(e){return"undefined"!=typeof e?e.$t:""}var i=d.Timeline.DataObj.data_template_obj,n=!1,r=["timeline"],o=[],s=0,m=0;if(d.fireEvent(l,d.Timeline.Config.events.messege,d.Language.messages.loading_timeline+" Parsing Google Doc Data (cells)"),"undefined"!=typeof e.feed.entry){for(n=!0,m=0;m<e.feed.entry.length;m++){var c=e.feed.entry[m];parseInt(c.gs$cell.row)>s&&(s=parseInt(c.gs$cell.row))}for(var m=0;s+1>m;m++){var u={type:"",startDate:"",endDate:"",headline:"",text:"",tag:"",asset:{media:"",credit:"",caption:"",thumbnail:""}};o.push(u)}for(m=0;m<e.feed.entry.length;m++){var c=e.feed.entry[m],h="",p={content:t(c.gs$cell),col:c.gs$cell.col,row:c.gs$cell.row,name:""};1==p.row?("Start Date"==p.content?h="startDate":"End Date"==p.content?h="endDate":"Headline"==p.content?h="headline":"Text"==p.content?h="text":"Media"==p.content?h="media":"Media Credit"==p.content?h="credit":"Media Caption"==p.content?h="caption":"Media Thumbnail"==p.content?h="thumbnail":"Type"==p.content?h="type":"Tag"==p.content&&(h="tag"),r.push(h)):(p.name=r[p.col],o[p.row][p.name]=p.content)}for(m=0;m<o.length;m++){var u=o[m];if(u.type.match("start")||u.type.match("title"))i.timeline.startDate=u.startDate,i.timeline.headline=u.headline,i.timeline.asset.media=u.media,i.timeline.asset.caption=u.caption,i.timeline.asset.credit=u.credit,i.timeline.text=u.text,i.timeline.type="google spreadsheet";else if(u.type.match("era")){var g={startDate:u.startDate,endDate:u.endDate,headline:u.headline,text:u.text,tag:u.tag};i.timeline.era.push(g)}else if(u.startDate){var u={type:"google spreadsheet",startDate:u.startDate,endDate:u.endDate,headline:u.headline,text:u.text,tag:u.tag,asset:{media:u.media,credit:u.credit,caption:u.caption,thumbnail:u.thumbnail}};i.timeline.date.push(u)}else a("Skipping item "+m+" in list: no start date.")}}n=i.timeline.date.length>0,n?(d.fireEvent(l,d.Timeline.Config.events.messege,"Finished Parsing Data"),d.fireEvent(l,d.Timeline.Config.events.data_ready,i)):d.fireEvent(l,d.Timeline.Config.events.messege,"Unable to load Google Doc data source. Make sure you have no blank rows and that the headers have not been changed.")}},storify:{getData:function(e){var t,i,n;d.fireEvent(l,d.Timeline.Config.events.messege,"Loading Storify..."),t=e.split("storify.com/")[1],i="//api.storify.com/v1/stories/"+t+"?per_page=300&callback=?",n=setTimeout(function(){a("STORIFY timeout"),d.fireEvent(l,d.Timeline.Config.events.messege,"Storify is not responding")},6e3),d.getJSON(i,d.Timeline.DataObj.model.storify.buildData).error(function(e,t,i){a("STORIFY error"),a("STORIFY ERROR: "+t+" "+e.responseText)}).success(function(e){clearTimeout(n)})},buildData:function(e){d.fireEvent(l,d.Timeline.Config.events.messege,"Parsing Data");var t=d.Timeline.DataObj.data_template_obj;t.timeline.startDate=new Date(e.content.date.created),t.timeline.headline=e.content.title,a(e);var i="",n=e.content.author.username,r="";"undefined"!=typeof e.content.author.name&&(n=e.content.author.name,r=e.content.author.username+"&nbsp;"),"undefined"!=typeof e.content.description&&null!=e.content.description&&(i+=e.content.description),i+="<div class='storify'>",i+="<div class='vcard author'><a class='screen-name url' href='"+e.content.author.permalink+"' target='_blank'>",i+="<span class='avatar'><img src='"+e.content.author.avatar+"' style='max-width: 32px; max-height: 32px;'></span>",i+="<span class='fn'>"+n+"</span>",i+="<span class='nickname'>"+r+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",i+="</div>",t.timeline.text=i,t.timeline.asset.media=e.content.thumbnail,t.timeline.type="storify";for(var o=0;o<e.content.elements.length;o++){var s=e.content.elements[o],m=!1;new Date(s.posted_at);a(s.type);var c={type:"storify",startDate:s.posted_at,endDate:s.posted_at,headline:" ",slug:"",text:"",asset:{media:"",credit:"",caption:""}};if("image"==s.type)"undefined"!=typeof s.source.name?"flickr"==s.source.name?(c.asset.media="//flickr.com/photos/"+s.meta.pathalias+"/"+s.meta.id+"/",c.asset.credit="<a href='"+c.asset.media+"'>"+s.attribution.name+"</a>",c.asset.credit+=" on <a href='"+s.source.href+"'>"+s.source.name+"</a>"):"instagram"==s.source.name?(c.asset.media=s.permalink,c.asset.credit="<a href='"+s.permalink+"'>"+s.attribution.name+"</a>",c.asset.credit+=" on <a href='"+s.source.href+"'>"+s.source.name+"</a>"):(c.asset.credit="<a href='"+s.permalink+"'>"+s.attribution.name+"</a>","undefined"!=typeof s.source.href&&(c.asset.credit+=" on <a href='"+s.source.href+"'>"+s.source.name+"</a>"),c.asset.media=s.data.image.src):(c.asset.credit="<a href='"+s.permalink+"'>"+s.attribution.name+"</a>",c.asset.media=s.data.image.src),c.slug=s.attribution.name,"undefined"!=typeof s.data.image.caption&&"undefined"!=s.data.image.caption&&(c.asset.caption=s.data.image.caption,c.slug=s.data.image.caption);else if("quote"==s.type)s.permalink.match("twitter")?(c.asset.media=s.permalink,c.slug=d.Util.untagify(s.data.quote.text)):s.permalink.match("storify")&&(m=!0,c.asset.media="<blockquote>"+s.data.quote.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</blockquote>");else if("link"==s.type)c.headline=s.data.link.title,c.text=s.data.link.description,"undefined"!=s.data.link.thumbnail&&""!=s.data.link.thumbnail?c.asset.media=s.data.link.thumbnail:c.asset.media=s.permalink,c.asset.caption="<a href='"+s.permalink+"' target='_blank'>"+s.data.link.title+"</a>",c.slug=s.data.link.title;else if("text"==s.type){if(s.permalink.match("storify")){m=!0;e.content.author.username;"undefined"!=typeof s.attribution.name&&(n=s.attribution.name,r=s.attribution.username+"&nbsp;");var u="<div class='storify'>";u+="<blockquote><p>"+s.data.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</p></blockquote>",u+="<div class='vcard author'><a class='screen-name url' href='"+s.attribution.href+"' target='_blank'>",u+="<span class='avatar'><img src='"+s.attribution.thumbnail+"' style='max-width: 32px; max-height: 32px;'></span>",u+="<span class='fn'>"+n+"</span>",u+="<span class='nickname'>"+r+"<span class='thumbnail-inline'></span></span>",u+="</a></div></div>",c.text=u,o+1>=e.content.elements.length?c.startDate=e.content.elements[o-1].posted_at:"text"==e.content.elements[o+1].type&&e.content.elements[o+1].permalink.match("storify")?o+2>=e.content.elements.length?c.startDate=e.content.elements[o-1].posted_at:"text"==e.content.elements[o+2].type&&e.content.elements[o+2].permalink.match("storify")?o+3>=e.content.elements.length?c.startDate=e.content.elements[o-1].posted_at:"text"==e.content.elements[o+3].type&&e.content.elements[o+3].permalink.match("storify")?c.startDate=e.content.elements[o-1].posted_at:(a("LEVEL 3"),c.startDate=e.content.elements[o+3].posted_at):(a("LEVEL 2"),c.startDate=e.content.elements[o+2].posted_at):(a("LEVEL 1"),c.startDate=e.content.elements[o+1].posted_at),c.endDate=c.startDate}}else"video"==s.type?(c.headline=s.data.video.title,c.asset.caption=s.data.video.description,c.asset.caption=s.source.username,c.asset.media=s.data.video.src):(a("NO MATCH "),a(s));m&&(c.slug=d.Util.untagify(s.data.text)),t.timeline.date.push(c)}d.fireEvent(l,d.Timeline.Config.events.data_ready,t)}},tweets:{type:"twitter",buildData:function(e){d.bindEvent(l,d.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),d.ExternalAPI.twitter.getTweets(e.timeline.tweets)},getData:function(e){d.bindEvent(l,d.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),d.ExternalAPI.twitter.getTweetSearch(e)},onTwitterDataReady:function(e,t){for(var i=d.Timeline.DataObj.data_template_obj,a=0;a<t.tweetdata.length;a++){var n={type:"tweets",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};n.startDate=t.tweetdata[a].raw.created_at,c.of(t.tweetdata[a].raw.from_user_name)?n.headline=t.tweetdata[a].raw.from_user_name+" (<a href='https://twitter.com/"+t.tweetdata[a].raw.from_user+"'>@"+t.tweetdata[a].raw.from_user+"</a>)":n.headline=t.tweetdata[a].raw.user.name+" (<a href='https://twitter.com/"+t.tweetdata[a].raw.user.screen_name+"'>@"+t.tweetdata[a].raw.user.screen_name+"</a>)",n.asset.media=t.tweetdata[a].content,i.timeline.date.push(n)}d.fireEvent(l,d.Timeline.Config.events.data_ready,i)}}},data_template_obj:{timeline:{headline:"",description:"",asset:{media:"",credit:"",caption:""},date:[],era:[]}},date_obj:{startDate:"2012,2,2,11,30",headline:"",text:"",asset:{media:"http://youtu.be/vjVfu8-Wp6s",credit:"",caption:""},tags:"Optional"}}),function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i){function a(){!e&&this.init&&this.init.apply(this,arguments)}var n=this.prototype;e=!0;var r=new this;e=!1;for(var o in i)r[o]="function"==typeof i[o]&&"function"==typeof n[o]&&t.test(i[o])?function(e,t){return function(){var i=this._super;this._super=n[e];var a=t.apply(this,arguments);return this._super=i,a}}(o,i[o]):i[o];return a.prototype=r,a.prototype.constructor=a,a.extend=arguments.callee,a}}();var l=function(){return this||(0,eval)("this")}();if("undefined"==typeof d){var d=Class.extend({});d.debug=!0,d.master_config={init:function(){return this},sizes:{api:{width:0,height:0}},vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",api_keys_master:{flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"uQKadH1VMlCsp560gN2aOiMz4evWkl1s34yryl3F/9FJOsn+/948CbBUvKLN46U=",twitter:""},timers:{api:7e3},api:{pushques:[]},twitter:{active:!1,array:[],api_loaded:!1,que:[]},flickr:{active:!1,array:[],api_loaded:!1,que:[]},youtube:{active:!1,array:[],api_loaded:!1,que:[]},vimeo:{active:!1,array:[],api_loaded:!1,que:[]},vine:{active:!1,array:[],api_loaded:!1,que:[]},webthumb:{active:!1,array:[],api_loaded:!1,que:[]},googlemaps:{active:!1,map_active:!1,places_active:!1,array:[],api_loaded:!1,que:[]},googledocs:{active:!1,array:[],api_loaded:!1,que:[]},googleplus:{active:!1,array:[],api_loaded:!1,que:[]},wikipedia:{active:!1,array:[],api_loaded:!1,que:[],tries:0},soundcloud:{active:!1,array:[],api_loaded:!1,que:[]}}.init(),d.createElement=function(e,t,i,a,n){var r="";return null!=e&&""!=e&&(r+="<"+e,null!=i&&""!=i&&(r+=" class='"+i+"'"),null!=a&&""!=a&&(r+=" "+a),null!=n&&""!=n&&(r+=" style='"+n+"'"),r+=">",null!=t&&""!=t&&(r+=t),r=r+"</"+e+">"),r},d.createMediaElement=function(e,t,i){var a="";return a+="<div class='media'>",null!=e&&""!=e&&(valid=!0,a+="<img src='"+e+"'>",null!=i&&""!=i&&(a+=d.createElement("div",i,"credit")),null!=t&&""!=t&&(a+=d.createElement("div",t,"caption"))),a+="</div>"},d.hideUrlBar=function(){var t=e,i=t.document;if(!location.hash||!t.addEventListener){e.scrollTo(0,1);var a=1,n=setInterval(function(){i.body&&(clearInterval(n),a="scrollTop"in i.body?i.body.scrollTop:1,t.scrollTo(0,1===a?0:1))},15);t.addEventListener("load",function(){setTimeout(function(){t.scrollTo(0,1===a?0:1)},0)},!1)}}}Date.prototype.getWeek=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)};var m={Null:function(e){return null===e},Undefined:function(e){return e===t},nt:function(e){return null===e||e===t},Function:function(e){return"function"==typeof e?null!==e.constructor.toString().match(/Function/):!1},String:function(e){return"string"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/string/i):!1},Array:function(e){return"object"==typeof e?null!==e.constructor.toString().match(/array/i)||e.length!==t:!1},Boolean:function(e){return"boolean"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/boolean/i):!1},Date:function(e){return"date"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/date/i):!1},HTML:function(e){return"object"==typeof e?null!==e.constructor.toString().match(/html/i):!1},Number:function(e){return"number"==typeof e?!0:"object"==typeof e?null!==e.constructor.toString().match(/Number/):!1},Object:function(e){return"object"==typeof e?null!==e.constructor.toString().match(/object/i):!1},RegExp:function(e){return"function"==typeof e?null!==e.constructor.toString().match(/regexp/i):!1}},c={of:function(e){for(var t in m)if(m[t](e))return t.toLowerCase()}};if("undefined"!=typeof d&&(d.smoothScrollTo=function(t,i,a){if("undefined"!=typeof jQuery){var n="easein",r=1e3;null!=i&&(r=1>i?1:Math.round(i)),null!=a&&""!=a&&(n=a),jQuery(e).scrollTop()!=d.Lib.offset(t).top&&d.Lib.animate("html,body",r,n,{scrollTop:d.Lib.offset(t).top})}},d.attachElement=function(e,t){"undefined"!=typeof jQuery&&jQuery(e).html(t)},d.appendElement=function(e,t){"undefined"!=typeof jQuery&&jQuery(e).append(t)},d.getHTML=function(e){var t;return"undefined"!=typeof jQuery?t=jQuery(e).html():void 0},d.getElement=function(e,t){var i;return"undefined"!=typeof jQuery?i=t?jQuery(e).parent().get(0):jQuery(e).get(0):void 0},d.bindEvent=function(e,t,i,a){var n="click",r={};null!=i&&""!=i&&(n=i),null!=r&&""!=r&&(r=a),"undefined"!=typeof jQuery&&jQuery(e).bind(n,r,t)},d.unbindEvent=function(e,t,i){var a="click";null!=i&&""!=i&&(a=i),"undefined"!=typeof jQuery&&jQuery(e).unbind(a,t)},d.fireEvent=function(e,t,i){var a="click",n=[];null!=t&&""!=t&&(a=t),null!=i&&""!=i&&(n=i),"undefined"!=typeof jQuery&&jQuery(e).trigger(a,n)},d.getJSON=function(t,i,n){if("undefined"!=typeof jQuery){if(jQuery.ajaxSetup({timeout:3e3}),"Explorer"==d.Browser.browser&&parseInt(d.Browser.version,10)>=7&&e.XDomainRequest){a("IE JSON");var r=t;return r.match("^http://")?jQuery.getJSON(r,i,n):r.match("^https://")?(r=r.replace("https://","http://"),jQuery.getJSON(r,i,n)):jQuery.getJSON(t,i,n)}return jQuery.getJSON(t,i,n)}},d.parseJSON=function(e){return"undefined"!=typeof jQuery?jQuery.parseJSON(e):void 0},d.appendAndGetElement=function(e,t,i,a){var n,r="<div>",o="",s="";return null!=t&&""!=t&&(r=t),null!=i&&""!=i&&(o=i),null!=a&&""!=a&&(s=a),"undefined"!=typeof jQuery&&(n=jQuery(t),n.addClass(o),n.html(s),jQuery(e).append(n)),n},d.Lib={init:function(){return this},hide:function(e,t){null!=t&&""!=t?"undefined"!=typeof jQuery&&jQuery(e).hide(t):"undefined"!=typeof jQuery&&jQuery(e).hide()},remove:function(e){"undefined"!=typeof jQuery&&jQuery(e).remove()},detach:function(e){"undefined"!=typeof jQuery&&jQuery(e).detach()},append:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).append(t)},prepend:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).prepend(t)},show:function(e,t){null!=t&&""!=t?"undefined"!=typeof jQuery&&jQuery(e).show(t):"undefined"!=typeof jQuery&&jQuery(e).show()},load:function(e,t,i){var a={elem:e};null!=a&&""!=a&&(a=i),"undefined"!=typeof jQuery&&jQuery(e).load(a,t)},addClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).addClass(t)},removeClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).removeClass(t)},attr:function(e,t,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(e).attr(t,i);else if("undefined"!=typeof jQuery)return jQuery(e).attr(t)},prop:function(e,t,i){"undefined"!=typeof jQuery&&/[1-9]\.[3-9].[1-9]/.test(jQuery.fn.jquery)?jQuery(e).prop(t,i):d.Lib.attribute(e,t,i)},attribute:function(e,t,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(e).attr(t,i);else if("undefined"!=typeof jQuery)return jQuery(e).attr(t)},visible:function(e,t){if(null!=t)"undefined"!=typeof jQuery&&(t?jQuery(e).show(0):jQuery(e).hide(0));else if("undefined"!=typeof jQuery)return!!jQuery(e).is(":visible")},css:function(e,t,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(e).css(t,i);else if("undefined"!=typeof jQuery)return jQuery(e).css(t)},cssmultiple:function(e,t){return"undefined"!=typeof jQuery?jQuery(e).css(t):void 0},offset:function(e){var t;return"undefined"!=typeof jQuery&&(t=jQuery(e).offset()),t},position:function(e){var t;return"undefined"!=typeof jQuery&&(t=jQuery(e).position()),t},width:function(e,t){if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).width(t);else if("undefined"!=typeof jQuery)return jQuery(e).width()},height:function(e,t){if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).height(t);else if("undefined"!=typeof jQuery)return jQuery(e).height()},toggleClass:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).toggleClass(t)},each:function(e,t){"undefined"!=typeof jQuery&&jQuery(e).each(t)},html:function(e,t){var i;if("undefined"!=typeof jQuery)return i=jQuery(e).html();if(null!=t&&""!=t)"undefined"!=typeof jQuery&&jQuery(e).html(t);else{var i;if("undefined"!=typeof jQuery)return i=jQuery(e).html()}},find:function(e,t){return"undefined"!=typeof jQuery?jQuery(e).find(t):void 0},stop:function(e){"undefined"!=typeof jQuery&&jQuery(e).stop()},delay_animate:function(e,t,i,a,n,r){if("mobile"==d.Browser.device||"tablet"==d.Browser.device){var o=Math.round(i/1500*10)/10,s=o+"s";d.Lib.css(t,"-webkit-transition","all "+s+" ease"),d.Lib.css(t,"-moz-transition","all "+s+" ease"),d.Lib.css(t,"-o-transition","all "+s+" ease"),d.Lib.css(t,"-ms-transition","all "+s+" ease"),d.Lib.css(t,"transition","all "+s+" ease"),d.Lib.cssmultiple(t,_att)}else"undefined"!=typeof jQuery&&jQuery(t).delay(e).animate(n,{duration:i,easing:a})},animate:function(e,t,i,n,r,o){var s="easein",l=!1,m=1e3,c={};if(null!=t&&(m=1>t?1:Math.round(t)),null!=i&&""!=i&&(s=i),null!=r&&""!=r&&(l=r),c=null!=n?n:{opacity:0},"mobile"==d.Browser.device||"tablet"==d.Browser.device){var u=Math.round(m/1500*10)/10,h=u+"s";s=" cubic-bezier(0.33, 0.66, 0.66, 1)";for(x in c)Object.prototype.hasOwnProperty.call(c,x)&&(a(x+" to "+c[x]),d.Lib.css(e,"-webkit-transition",x+" "+h+s),d.Lib.css(e,"-moz-transition",x+" "+h+s),d.Lib.css(e,"-o-transition",x+" "+h+s),d.Lib.css(e,"-ms-transition",x+" "+h+s),d.Lib.css(e,"transition",x+" "+h+s));d.Lib.cssmultiple(e,c)}else"undefined"!=typeof jQuery&&(null!=o&&""!=o?jQuery(e).animate(c,{queue:l,duration:m,easing:s,complete:o}):jQuery(e).animate(c,{queue:l,duration:m,easing:s}))}}),"undefined"!=typeof jQuery&&(!function(i){e.XDomainRequest&&i.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var a;return{send:function(n,r){function o(e,n,o,s){a.onload=a.onerror=a.ontimeout=i.noop,a=t,r(e,n,o,s)}a=new XDomainRequest,a.open(e.type,e.url),a.onload=function(){o(200,"OK",{text:a.responseText},"Content-Type: "+a.contentType)},a.onerror=function(){o(404,"Not Found")},e.xdrTimeout&&(a.ontimeout=function(){o(0,"timeout")},a.timeout=e.xdrTimeout),a.send(e.hasContent&&e.data||null)},abort:function(){a&&(a.onerror=i.noop(),a.abort())}}}})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,a,n){return jQuery.easing[jQuery.easing.def](e,t,i,a,n)},easeInExpo:function(e,t,i,a,n){return 0==t?i:a*Math.pow(2,10*(t/n-1))+i},easeOutExpo:function(e,t,i,a,n){return t==n?i+a:a*(-Math.pow(2,-10*t/n)+1)+i},easeInOutExpo:function(e,t,i,a,n){return 0==t?i:t==n?i+a:(t/=n/2)<1?a/2*Math.pow(2,10*(t-1))+i:a/2*(-Math.pow(2,-10*--t)+2)+i},easeInQuad:function(e,t,i,a,n){return a*(t/=n)*t+i},easeOutQuad:function(e,t,i,a,n){return-a*(t/=n)*(t-2)+i},easeInOutQuad:function(e,t,i,a,n){return(t/=n/2)<1?a/2*t*t+i:-a/2*(--t*(t-2)-1)+i}})),"undefined"!=typeof d&&"undefined"==typeof d.Browser&&(d.Browser={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS",this.device=this.searchDevice(navigator.userAgent),this.orientation=this.searchOrientation(e.orientation)},searchOrientation:function(e){var t="";return t=0==e||180==e?"portrait":90==e||-90==e?"landscape":"normal"},searchDevice:function(e){var t="";return t=e.match(/Android/i)||e.match(/iPhone|iPod/i)?"mobile":e.match(/iPad/i)?"tablet":e.match(/BlackBerry/i)||e.match(/IEMobile/i)?"other mobile":"desktop"},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string,a=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!=i.indexOf(e[t].subString))return e[t].identity}else if(a)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,
subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},d.Browser.init()),"undefined"!=typeof d&&"undefined"==typeof d.FileExtention&&(d.FileExtention={googleDocType:function(e){var t=e.replace(/\s\s*$/,""),i="",a=["DOC","DOCX","XLS","XLSX","PPT","PPTX","PDF","PAGES","AI","PSD","TIFF","DXF","SVG","EPS","PS","TTF","XPS","ZIP","RAR"],n=!1;i=t.substr(t.length-5,5);for(var r=0;r<a.length;r++)(i.toLowerCase().match(a[r].toString().toLowerCase())||t.match("docs.google.com"))&&(n=!0);return n}}),"undefined"!=typeof d&&"undefined"==typeof d.Date){d.Date={init:function(){return this},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:["am"],bc_format:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"dddd', 'h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"dddd',' mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' mmm d',' yyyy'</small>'"},setLanguage:function(e){a("SET DATE LANGUAGE"),d.Date.dateformats=e.dateformats,d.Date.month=e.date.month,d.Date.month_abbr=e.date.month_abbr,d.Date.day=e.date.day,d.Date.day_abbr=e.date.day_abbr,u.i18n.dayNames=e.date.day_abbr.concat(e.date.day),u.i18n.monthNames=e.date.month_abbr.concat(e.date.month)},parse:function(e,t){var i,n,r,o,s={year:!1,month:!1,day:!1,hour:!1,minute:!1,second:!1,millisecond:!1};if("date"==c.of(e))a("DEBUG THIS, ITs A DATE"),i=e;else if(i=new Date(0,0,1,0,0,0,0),e.match(/,/gi)){n=e.split(",");for(var l=0;l<n.length;l++)n[l]=parseInt(n[l],10);n[0]&&(i.setFullYear(n[0]),s.year=!0),n[1]&&(i.setMonth(n[1]-1),s.month=!0),n[2]&&(i.setDate(n[2]),s.day=!0),n[3]&&(i.setHours(n[3]),s.hour=!0),n[4]&&(i.setMinutes(n[4]),s.minute=!0),n[5]&&(i.setSeconds(n[5]),n[5]>=1&&(s.second=!0)),n[6]&&(i.setMilliseconds(n[6]),n[6]>=1&&(s.millisecond=!0))}else if(e.match("/"))e.match(" ")?(o=e.split(" "),e.match(":")&&(r=o[1].split(":"),r[0]>=0&&(i.setHours(r[0]),s.hour=!0),r[1]>=0&&(i.setMinutes(r[1]),s.minute=!0),r[2]>=0&&(i.setSeconds(r[2]),s.second=!0),r[3]>=0&&(i.setMilliseconds(r[3]),s.millisecond=!0)),n=o[0].split("/")):n=e.split("/"),n[2]&&(i.setFullYear(n[2]),s.year=!0),n[0]>=0&&(i.setMonth(n[0]-1),s.month=!0),n[1]>=0&&(n[1].length>2?(i.setFullYear(n[1]),s.year=!0):(i.setDate(n[1]),s.day=!0));else if(e.match("now")){var d=new Date;i.setFullYear(d.getFullYear()),s.year=!0,i.setMonth(d.getMonth()),s.month=!0,i.setDate(d.getDate()),s.day=!0,e.match("hours")&&(i.setHours(d.getHours()),s.hour=!0),e.match("minutes")&&(i.setHours(d.getHours()),i.setMinutes(d.getMinutes()),s.hour=!0,s.minute=!0),e.match("seconds")&&(i.setHours(d.getHours()),i.setMinutes(d.getMinutes()),i.setSeconds(d.getSeconds()),s.hour=!0,s.minute=!0,s.second=!0),e.match("milliseconds")&&(i.setHours(d.getHours()),i.setMinutes(d.getMinutes()),i.setSeconds(d.getSeconds()),i.setMilliseconds(d.getMilliseconds()),s.hour=!0,s.minute=!0,s.second=!0,s.millisecond=!0)}else e.length<=8?(s.year=!0,i.setFullYear(parseInt(e,10)),i.setMonth(0),i.setDate(1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):e.match("T")?navigator.userAgent.match(/MSIE\s(?!9.0)/)?(o=e.split("T"),e.match(":")&&(r=o[1].split(":"),r[0]>=1&&(i.setHours(r[0]),s.hour=!0),r[1]>=1&&(i.setMinutes(r[1]),s.minute=!0),r[2]>=1&&(i.setSeconds(r[2]),r[2]>=1&&(s.second=!0)),r[3]>=1&&(i.setMilliseconds(r[3]),r[3]>=1&&(s.millisecond=!0))),n=o[0].split("-"),n[0]&&(i.setFullYear(n[0]),s.year=!0),n[1]>=0&&(i.setMonth(n[1]-1),s.month=!0),n[2]>=0&&(i.setDate(n[2]),s.day=!0)):(i=new Date(Date.parse(e)),s.year=!0,s.month=!0,s.day=!0,s.hour=!0,s.minute=!0,i.getSeconds()>=1&&(s.second=!0),i.getMilliseconds()>=1&&(s.millisecond=!0)):(i=new Date(parseInt(e.slice(0,4),10),parseInt(e.slice(4,6),10)-1,parseInt(e.slice(6,8),10),parseInt(e.slice(8,10),10),parseInt(e.slice(10,12),10)),s.year=!0,s.month=!0,s.day=!0,s.hour=!0,s.minute=!0,i.getSeconds()>=1&&(s.second=!0),i.getMilliseconds()>=1&&(s.millisecond=!0));return null!=t&&""!=t?{date:i,precision:s}:i},prettyDate:function(e,t,i,n){var r,o,s,l,m,h,p,g=!1;if(null!=n&&""!=n&&"undefined"!=typeof n&&(g=!0,a("D2 "+n)),"date"==c.of(e)){s="object"==c.of(i)?i.millisecond||i.second&&e.getSeconds()>=1?t?d.Date.dateformats.time_short:d.Date.dateformats.time_short:i.minute?t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.time_no_seconds_small_date:i.hour?t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.time_no_seconds_small_date:i.day?t?d.Date.dateformats.full_short:d.Date.dateformats.full:i.month?t?d.Date.dateformats.month_short:d.Date.dateformats.month:i.year?d.Date.dateformats.year:d.Date.dateformats.year:0===e.getMonth()&&1==e.getDate()&&0===e.getHours()&&0===e.getMinutes()?d.Date.dateformats.year:e.getDate()<=1&&0===e.getHours()&&0===e.getMinutes()?t?d.Date.dateformats.month_short:d.Date.dateformats.month:0===e.getHours()&&0===e.getMinutes()?t?d.Date.dateformats.full_short:d.Date.dateformats.full:0===e.getMinutes()?t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.time_no_seconds_small_date:t?d.Date.dateformats.time_no_seconds_short:d.Date.dateformats.full_long,r=u(e,s,!1),l=r.split(" ");for(var f=0;f<l.length;f++)parseInt(l[f],10)<0&&(a("YEAR IS BC"),m=l[f],h=Math.abs(parseInt(l[f],10)),p=h.toString()+" B.C.",r=r.replace(m,p));if(g){o=u(n,s,!1),l=o.split(" ");for(var y=0;y<l.length;y++)parseInt(l[y],10)<0&&(a("YEAR IS BC"),m=l[y],h=Math.abs(parseInt(l[y],10)),p=h.toString()+" B.C.",o=o.replace(m,p))}}else a("NOT A VALID DATE?"),a(e);return g?r+" &mdash; "+o:r}}.init();var u=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(o,s,l){var d=u;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(s=o,o=t),isNaN(o)&&a("invalid date "+o),s=String(d.masks[s]||s||d.masks["default"]),"UTC:"==s.slice(0,4)&&(s=s.slice(4),l=!0);var m=l?"getUTC":"get",c=o[m+"Date"](),h=o[m+"Day"](),p=o[m+"Month"](),g=o[m+"FullYear"](),f=o[m+"Hours"](),y=o[m+"Minutes"](),v=o[m+"Seconds"](),b=o[m+"Milliseconds"](),_=l?0:o.getTimezoneOffset(),w={d:c,dd:r(c),ddd:d.i18n.dayNames[h],dddd:d.i18n.dayNames[h+7],m:p+1,mm:r(p+1),mmm:d.i18n.monthNames[p],mmmm:d.i18n.monthNames[p+12],yy:String(g).slice(2),yyyy:g,h:f%12||12,hh:r(f%12||12),H:f,HH:r(f),M:y,MM:r(y),s:v,ss:r(v),l:r(b,3),L:r(b>99?Math.round(b/10):b),t:12>f?"a":"p",tt:12>f?"am":"pm",T:12>f?"A":"P",TT:12>f?"AM":"PM",Z:l?"UTC":(String(o).match(i)||[""]).pop().replace(n,""),o:(_>0?"-":"+")+r(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return s.replace(e,function(e){return e in w?w[e]:e.slice(1,e.length-1)})}}();u.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return u(this,e,t)}}"undefined"!=typeof d&&"undefined"==typeof d.Util&&(d.Util={init:function(){return this},removeRange:function(e,t,i){var a=e.slice((i||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,a)},correctProtocol:function(t){var i=e.parent.location.protocol.toString(),a="",n=t.split("://",2);return a=i.match("http")?i:"https",a+"://"+n[1]},mergeConfig:function(e,t){var i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},getObjectAttributeByIndex:function(e,t){if("undefined"!=typeof e){var i=0;for(var a in e){if(t===i)return e[a];i++}return""}return""},ordinal:function(e){return["th","st","nd","rd"][!(e%10>3||1==Math.floor(e%100/10))*(e%10)]},randomBetween:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},average:function(e){for(var t,i={mean:0,variance:0,deviation:0},a=e.length,n=0,r=a;r--;n+=e[r]);for(t=i.mean=n/a,r=a,n=0;r--;n+=Math.pow(e[r]-t,2));return i.deviation=Math.sqrt(i.variance=n/a),i},customSort:function(e,t){var i=e,a=t;return i==a?0:i>a?1:-1},deDupeArray:function(e){var t,i=e.length,a=[],n={};for(t=0;i>t;t++)n[e[t]]=0;for(t in n)a.push(t);return a},number2money:function(e,t,i){var t=null!==t?t:!0,i=null!==i?i:!1,a=d.Math2.floatPrecision(e,2),n=this.niceNumber(a);return!n.split(/\./g)[1]&&i&&(n+=".00"),t&&(n="$"+n),n},wordCount:function(e){var t=e+" ",i=/^[^A-Za-z0-9\'\-]+/gi,a=t.replace(i,""),n=/[^A-Za-z0-9\'\-]+/gi,r=a.replace(n," "),o=r.split(" "),s=o.length-1;return t.length<2&&(s=0),s},ratio:{fit:function(e,t,i,n){var r={width:0,height:0};return r.width=e,r.height=Math.round(e/i*n),r.height>t&&(r.height=t,r.width=Math.round(t/n*i),r.width>e&&a("FIT: DIDN'T FIT!!! ")),r},r16_9:function(e,t){return null!==e&&""!==e?Math.round(t/16*9):null!==t&&""!==t?Math.round(e/9*16):void 0},r4_3:function(e,t){return null!==e&&""!==e?Math.round(t/4*3):null!==t&&""!==t?Math.round(e/3*4):void 0}},doubledigit:function(e){return(10>e?"0":"")+e},truncateWords:function(e,t,i){t||(t=30),i||(i=t);var a=/^[^A-Za-z0-9\'\-]+/gi,n=e.replace(a,""),r=n.split(" "),o=[];t=Math.min(r.length,t),i=Math.min(r.length,i);for(var s=0;t>s;s++)o.push(r[s]);for(;i>s;s++){var l=r[s];if(o.push(l),"."==l.charAt(l.length-1))break}return o.join(" ")},linkify:function(e,t,i){var a=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,r=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return e.replace(a,"<a target='_blank' href='$&' onclick='void(0)'>$&</a>").replace(n,"$1<a target='_blank' onclick='void(0)' href='http://$2'>$2</a>").replace(r,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>")},linkify_with_twitter:function(e,t,i){var a=/(\()((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\))|(\[)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\])|(\{)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\})|(<|&(?:lt|#60|#x3c);)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(>|&(?:gt|#62|#x3e);)|((?:^|[^=\s'"\]])\s*['"]?|[^=\s]\s+)(\b(?:ht|f)tps?:\/\/[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]+(?:(?!&(?:gt|#0*62|#x0*3e);|&(?:amp|apos|quot|#0*3[49]|#x0*2[27]);[.!&',:?;]?(?:[^a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]|$))&[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]*)*[a-z0-9\-_~$()*+=\/#[\]@%])/gim,n='$1$4$7$10$13<a href="$2$5$8$11$14" target="_blank" class="hyphenate">$2$5$8$11$14</a>$3$6$9$12',r=/(^|[^\/])(www\.[\S]+(\b|$))/gim,o=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,s=/\B@([\w-]+)/gm;return e.replace(a,n).replace(r,"$1<a target='_blank' class='hyphenate' onclick='void(0)' href='http://$2'>$2</a>").replace(o,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>").replace(s,"<a href='http://twitter.com/$1' target='_blank' onclick='void(0)'>@$1</a>")},linkify_wikipedia:function(e){var t=/<i[^>]*>(.*?)<\/i>/gim;return e.replace(t,"<a target='_blank' href='http://en.wikipedia.org/wiki/$&' onclick='void(0)'>$&</a>").replace(/<i\b[^>]*>/gim,"").replace(/<\/i>/gim,"").replace(/<b\b[^>]*>/gim,"").replace(/<\/b>/gim,"")},unlinkify:function(e){return e?(e=e.replace(/<a\b[^>]*>/i,""),e=e.replace(/<\/a>/i,"")):e},untagify:function(e){return e?e=e.replace(/<\s*\w.*?>/g,""):e},nl2br:function(e){return e.replace(/(\r\n|[\r\n]|\\n|\\r)/g,"<br/>")},unique_ID:function(e){var t=function(e){return Math.floor(Math.random()*e)},i=function(){var e="abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";return e.substr(t(62),1)},a=function(e){for(var t="",a=0;e>a;a++)t+=i();return t};return a(e)},isEven:function(e){return e%2===0},getUrlVars:function(e){var t=e.toString();t.match("&#038;")?t=t.replace("&#038;","&"):t.match("&#38;")?t=t.replace("&#38;","&"):t.match("&amp;")&&(t=t.replace("&amp;","&"));for(var i,a=[],n=t.slice(t.indexOf("?")+1).split("&"),r=0;r<n.length;r++)i=n[r].split("="),a.push(i[0]),a[i[0]]=i[1];return a},toHTML:function(e){return e=this.nl2br(e),e=this.linkify(e),e.replace(/\s\s/g,"&nbsp;&nbsp;")},toCamelCase:function(e,t){t!==!1&&(t=!0);for(var i=(t?e.toLowerCase():e).split(" "),a=0;a<i.length;a++)i[a]=i[a].substr(0,1).toUpperCase()+i[a].substr(1);return i.join(" ")},properQuotes:function(e){return e.replace(/\"([^\"]*)\"/gi,"&#8220;$1&#8221;")},niceNumber:function(e){e+="",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2},toTitleCase:function(e){if("Explorer"==d.Browser.browser&&parseInt(d.Browser.version,10)>=7)return e.replace("_","%20");var t={__smallWords:["a","an","and","as","at","but","by","en","for","if","in","of","on","or","the","to","v[.]?","via","vs[.]?"],init:function(){this.__smallRE=this.__smallWords.join("|"),this.__lowerCaseWordsRE=new RegExp("\\b("+this.__smallRE+")\\b","gi"),this.__firstWordRE=new RegExp("^([^a-zA-Z0-9 \\r\\n\\t]*)("+this.__smallRE+")\\b","gi"),this.__lastWordRE=new RegExp("\\b("+this.__smallRE+")([^a-zA-Z0-9 \\r\\n\\t]*)$","gi")},toTitleCase:function(e){for(var t="",i=e.split(/([:.;?!][ ]|(?:[ ]|^)["])/),a=0;a<i.length;++a){var n=i[a];n=n.replace(/\b([a-zA-Z][a-z.']*)\b/g,this.__titleCaseDottedWordReplacer),n=n.replace(this.__lowerCaseWordsRE,this.__lowerReplacer),n=n.replace(this.__firstWordRE,this.__firstToUpperCase),n=n.replace(this.__lastWordRE,this.__firstToUpperCase),t+=n}return t=t.replace(/ V(s?)\. /g," v$1. "),t=t.replace(/(['])S\b/g,"$1s"),t=t.replace(/\b(AT&T|Q&A)\b/gi,this.__upperReplacer)},__titleCaseDottedWordReplacer:function(e){return e.match(/[a-zA-Z][.][a-zA-Z]/)?e:t.__firstToUpperCase(e)},__lowerReplacer:function(e){return e.toLowerCase()},__upperReplacer:function(e){return e.toUpperCase()},__firstToUpperCase:function(e){var t=e.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);return t[1]&&(t[1]=t[1].toUpperCase()),t.join("")}};return t.init(),e=e.replace(/_/g," "),e=t.toTitleCase(e)}}.init()),LazyLoad=function(e){function t(t,i){var a,n=e.createElement(t);for(a in i)i.hasOwnProperty(a)&&n.setAttribute(a,i[a]);return n}function i(e){var t,i,a=d[e];a&&(t=a.callback,i=a.urls,i.shift(),m=0,i.length||(t&&t.call(a.context,a.obj),d[e]=null,c[e].length&&n(e)))}function a(){var t=navigator.userAgent;s={async:e.createElement("script").async===!0},(s.webkit=/AppleWebKit\//.test(t))||(s.ie=/MSIE/.test(t))||(s.opera=/Opera/.test(t))||(s.gecko=/Gecko\//.test(t))||(s.unknown=!0)}function n(n,m,u,h,p){var g,f,y,v,b,_,w=function(){i(n)},M="css"===n,T=[];if(s||a(),m)if(m="string"==typeof m?[m]:m.concat(),M||s.async||s.gecko||s.opera)c[n].push({urls:m,callback:u,obj:h,context:p});else for(g=0,f=m.length;f>g;++g)c[n].push({urls:[m[g]],callback:g===f-1?u:null,obj:h,context:p});if(!d[n]&&(v=d[n]=c[n].shift())){for(l||(l=e.head||e.getElementsByTagName("head")[0]),b=v.urls,g=0,f=b.length;f>g;++g)_=b[g],M?y=s.gecko?t("style"):t("link",{href:_,rel:"stylesheet"}):(y=t("script",{src:_}),y.async=!1),y.className="lazyload",y.setAttribute("charset","utf-8"),s.ie&&!M?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&(y.onreadystatechange=null,w())}:M&&(s.gecko||s.webkit)?s.webkit?(v.urls[g]=y.href,o()):(y.innerHTML='@import "'+_+'";',r(y)):y.onload=y.onerror=w,T.push(y);for(g=0,f=T.length;f>g;++g)l.appendChild(T[g])}}function r(e){var t;try{t=!!e.sheet.cssRules}catch(a){return m+=1,void(200>m?setTimeout(function(){r(e)},50):t&&i("css"))}i("css")}function o(){var e,t=d.css;if(t){for(e=u.length;--e>=0;)if(u[e].href===t.urls[0]){i("css");break}m+=1,t&&(200>m?setTimeout(o,50):i("css"))}}var s,l,d={},m=0,c={css:[],js:[]},u=e.styleSheets;return{css:function(e,t,i,a){n("css",e,t,i,a)},js:function(e,t,i,a){n("js",e,t,i,a)}}}(this.document),LoadLib=function(e){function t(e){var t=0,a=!1;for(t=0;t<i.length;t++)i[t]==e&&(a=!0);return a?!0:(i.push(e),!1)}var i=[];return{css:function(e,i,a,n){t(e)||LazyLoad.css(e,i,a,n)},js:function(e,i,a,n){t(e)||LazyLoad.js(e,i,a,n)}}}(this.document),"undefined"!=typeof d&&"undefined"==typeof d.Language&&(d.Language={lang:"en",api:{wikipedia:"en"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof d&&"undefined"==typeof d.ExternalAPI&&(d.ExternalAPI={keys:{google:"",flickr:"",twitter:""},keys_master:{vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"jwNGnYw4hE9lmAez4ll0QD+jo6SKBJFknkopLS4FrSAuGfIwyj57AusuR0s8dAo=",twitter:""},init:function(){return this},setKeys:function(e){d.ExternalAPI.keys=e},pushQues:function(){d.master_config.googlemaps.active&&d.ExternalAPI.googlemaps.pushQue(),d.master_config.youtube.active&&d.ExternalAPI.youtube.pushQue(),d.master_config.soundcloud.active&&d.ExternalAPI.soundcloud.pushQue(),d.master_config.googledocs.active&&d.ExternalAPI.googledocs.pushQue(),d.master_config.googleplus.active&&d.ExternalAPI.googleplus.pushQue(),d.master_config.wikipedia.active&&d.ExternalAPI.wikipedia.pushQue(),d.master_config.vimeo.active&&d.ExternalAPI.vimeo.pushQue(),d.master_config.vine.active&&d.ExternalAPI.vine.pushQue(),d.master_config.twitter.active&&d.ExternalAPI.twitter.pushQue(),d.master_config.flickr.active&&d.ExternalAPI.flickr.pushQue(),d.master_config.webthumb.active&&d.ExternalAPI.webthumb.pushQue()},twitter:{tweetArray:[],get:function(e){var t={mid:e.id,id:e.uid};d.master_config.twitter.que.push(t),d.master_config.twitter.active=!0},create:function(e,t){e.mid.toString(),{twitterid:e.mid},"//api.twitter.com/1/statuses/show.json?id="+e.mid+"&include_entities=true&callback=?";d.ExternalAPI.twitter.getOEmbed(e,t)},errorTimeOut:function(e){a("TWITTER JSON ERROR TIMEOUT "+e.mid),d.attachElement("#"+e.id.toString(),d.MediaElement.loadingmessage("Still waiting on Twitter: "+e.mid)),d.getJSON("//api.twitter.com/1/account/rate_limit_status.json",function(t){a("REMAINING TWITTER API CALLS "+t.remaining_hits),a("TWITTER RATE LIMIT WILL RESET AT "+t.reset_time);var i="";0==t.remaining_hits?(i="<p>You've reached the maximum number of tweets you can load in an hour.</p>",i+="<p>You can view tweets again starting at: <br/>"+t.reset_time+"</p>"):i="<p>Still waiting on Twitter. "+e.mid+"</p>",d.attachElement("#"+e.id.toString(),d.MediaElement.loadingmessage(i))})},errorTimeOutOembed:function(e){a("TWITTER JSON ERROR TIMEOUT "+e.mid),d.attachElement("#"+e.id.toString(),d.MediaElement.loadingmessage("Still waiting on Twitter: "+e.mid))},pushQue:function(){d.master_config.twitter.que.length>0&&(d.ExternalAPI.twitter.create(d.master_config.twitter.que[0],d.ExternalAPI.twitter.pushQue),d.Util.removeRange(d.master_config.twitter.que,0))},getOEmbed:function(e,t){var i="//api.twitter.com/1/statuses/oembed.json?id="+e.mid+"&omit_script=true&include_entities=true&callback=?",n=setTimeout(d.ExternalAPI.twitter.errorTimeOutOembed,d.master_config.timers.api,e);d.getJSON(i,function(t){var i="",a="";i+=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",a=t.author_url.split("twitter.com/")[1],i+="<div class='vcard author'>",i+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",i+="<span class='avatar'></span>",i+="<span class='fn'>"+t.author_name+"</span>",i+="<span class='nickname'>@"+a+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",d.attachElement("#"+e.id.toString(),i),d.attachElement("#text_thumb_"+e.id.toString(),t.html),d.attachElement("#marker_content_"+e.id.toString(),t.html)}).error(function(t,i,r){a("TWITTER error"),a("TWITTER ERROR: "+i+" "+t.responseText),clearTimeout(n),d.attachElement("#"+e.id,d.MediaElement.loadingmessage("ERROR LOADING TWEET "+e.mid))}).success(function(e){clearTimeout(n),t()})},getHTML:function(e){var t="//api.twitter.com/1/statuses/oembed.json?id="+e+"&omit_script=true&include_entities=true&callback=?";d.getJSON(t,d.ExternalAPI.twitter.onJSONLoaded)},onJSONLoaded:function(e){a("TWITTER JSON LOADED");var t=e.id;d.attachElement("#"+t,d.Util.linkify_with_twitter(e.html))},parseTwitterDate:function(e){var t=new Date(Date.parse(e));return t},prettyParseTwitterDate:function(e){var t=new Date(Date.parse(e));return d.Date.prettyDate(t,!0)},getTweets:function(e){for(var t=[],i=e.length,n=0;n<e.length;n++){var r="";r=e[n].tweet.match("status/")?e[n].tweet.split("status/")[1]:e[n].tweet.match("statuses/")?e[n].tweet.split("statuses/")[1]:"";var o="//api.twitter.com/1/statuses/show.json?id="+r+"&include_entities=true&callback=?";d.getJSON(o,function(e){var a={},n="<div class='twitter'><blockquote><p>",r=d.Util.linkify_with_twitter(e.text,"_blank");if(n+=r,n+="</p>",n+=" "+e.user.name+" (<a href='https://twitter.com/"+e.user.screen_name+"'>@"+e.user.screen_name+"</a>) <a href='https://twitter.com/"+e.user.screen_name+"/status/"+e.id+"'>"+d.ExternalAPI.twitter.prettyParseTwitterDate(e.created_at)+" </a></blockquote></div>",a.content=n,a.raw=e,t.push(a),t.length==i){var o={tweetdata:t};d.fireEvent(l,"TWEETSLOADED",o)}}).success(function(){a("second success")}).error(function(){a("error")}).complete(function(){a("complete")})}},getTweetSearch:function(e,t){var i=40;null!=t&&""!=t&&(i=t);var a="//search.twitter.com/search.json?q="+e+"&rpp="+i+"&include_entities=true&result_type=mixed",n=[];d.getJSON(a,function(e){for(var t=0;t<e.results.length;t++){var i={},a="<div class='twitter'><blockquote><p>",r=d.Util.linkify_with_twitter(e.results[t].text,"_blank");a+=r,a+="</p>",a+=" "+e.results[t].from_user_name+" (<a href='https://twitter.com/"+e.results[t].from_user+"'>@"+e.results[t].from_user+"</a>) <a href='https://twitter.com/"+e.results[t].from_user+"/status/"+e.id+"'>"+d.ExternalAPI.twitter.prettyParseTwitterDate(e.results[t].created_at)+" </a></blockquote></div>",i.content=a,i.raw=e.results[t],n.push(i)}var o={tweetdata:n};d.fireEvent(l,"TWEETSLOADED",o)})},prettyHTML:function(e,t){var e=e.toString(),i="//api.twitter.com/1/statuses/show.json?id="+e+"&include_entities=true&callback=?",n=setTimeout(d.ExternalAPI.twitter.errorTimeOut,d.master_config.timers.api,e);d.getJSON(i,d.ExternalAPI.twitter.formatJSON).error(function(t,i,n){a("TWITTER error"),a("TWITTER ERROR: "+i+" "+t.responseText),d.attachElement("#twitter_"+e,"<p>ERROR LOADING TWEET "+e+"</p>")}).success(function(e){clearTimeout(n),t&&d.ExternalAPI.twitter.secondaryMedia(e)})},formatJSON:function(e){var t=e.id_str,i="<blockquote><p>",a=d.Util.linkify_with_twitter(e.text,"_blank");i+=a,i+="</p></blockquote>",i+="<div class='vcard author'>",i+="<a class='screen-name url' href='https://twitter.com/"+e.user.screen_name+"' data-screen-name='"+e.user.screen_name+"' target='_blank'>",i+="<span class='avatar'><img src=' "+e.user.profile_image_url+"'  alt=''></span>",i+="<span class='fn'>"+e.user.name+"</span>",i+="<span class='nickname'>@"+e.user.screen_name+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>","undefined"!=typeof e.entities.media&&"photo"==e.entities.media[0].type&&(i+="<img src=' "+e.entities.media[0].media_url+"'  alt=''>"),d.attachElement("#twitter_"+t.toString(),i),d.attachElement("#text_thumb_"+t.toString(),e.text)}},googlemaps:{maptype:"TERRAIN",setMapType:function(e){""!=e&&(d.ExternalAPI.googlemaps.maptype=e)},get:function(e){var t,i;e.vars=d.Util.getUrlVars(e.id),t=""!=d.ExternalAPI.keys.google?d.ExternalAPI.keys.google:h.Ctr.decrypt(d.ExternalAPI.keys_master.google,d.ExternalAPI.keys_master.vp,256),i="//maps.googleapis.com/maps/api/js?key="+t+"&v=3.9&libraries=places&sensor=false&callback=VMM.ExternalAPI.googlemaps.onMapAPIReady",d.master_config.googlemaps.active?d.master_config.googlemaps.que.push(e):(d.master_config.googlemaps.que.push(e),d.master_config.googlemaps.api_loaded||LoadLib.js(i,function(){a("Google Maps API Library Loaded")}))},create:function(e){d.ExternalAPI.googlemaps.createAPIMap(e)},createiFrameMap:function(e){var t=e.id+"&output=embed",i="",a=e.uid.toString()+"_gmap";i+="<div class='google-map' id='"+a+"' style='width=100%;height=100%;'>",i+="<iframe width='100%' height='100%' frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='"+t+"'></iframe>",i+="</div>",d.attachElement("#"+e.uid,i)},createAPIMap:function(e){function t(e){return e in d.ExternalAPI.googlemaps.map_providers?(u=d.ExternalAPI.googlemaps.map_attribution[d.ExternalAPI.googlemaps.map_providers[e].attribution],d.ExternalAPI.googlemaps.map_providers[e]):d.ExternalAPI.googlemaps.defaultType(e)?(a("GOOGLE MAP DEFAULT TYPE"),google.maps.MapTypeId[e.toUpperCase()]):void a("Not a maptype: "+e)}function i(){var t,i=new google.maps.Geocoder,r=d.Util.getUrlVars(e.id).q;if(r.match("loc:")){var o=r.split(":")[1].split("+");g=new google.maps.LatLng(parseFloat(o[0]),parseFloat(o[1])),y=!0}i.geocode({address:r},function(e,i){i==google.maps.GeocoderStatus.OK?(t=new google.maps.Marker({map:s,position:e[0].geometry.location}),"undefined"!=typeof e[0].geometry.viewport?s.fitBounds(e[0].geometry.viewport):"undefined"!=typeof e[0].geometry.bounds?s.fitBounds(e[0].geometry.bounds):s.setCenter(e[0].geometry.location),y&&s.panTo(g),v&&s.setZoom(f)):(a("Geocode for "+r+" was not successful for the following reason: "+i),a("TRYING PLACES SEARCH"),y&&s.panTo(g),v&&s.setZoom(f),n())})}function n(){function t(t,n){if(n==google.maps.places.PlacesServiceStatus.OK){for(var r=0;r<t.length;r++);y?s.panTo(g):t.length>=1&&(s.panTo(t[0].geometry.location),v&&s.setZoom(f))}else a("Place search for "+i.query+" was not successful for the following reason: "+n),a("YOU MAY NEED A GOOGLE MAPS API KEY IN ORDER TO USE THIS FEATURE OF TIMELINEJS"),a("FIND OUT HOW TO GET YOUR KEY HERE: https://developers.google.com/places/documentation/#Authentication"),y?(s.panTo(g),v&&s.setZoom(f)):(a("USING SIMPLE IFRAME MAP EMBED"),e.id[0].match("https")&&(e.id=e.url[0].replace("https","http")),d.ExternalAPI.googlemaps.createiFrameMap(e))}var i,n,r,o,l;place_search=new google.maps.places.PlacesService(s),n=new google.maps.InfoWindow,i={query:"",types:["country","neighborhood","political","locality","geocode"]},"string"==c.of(d.Util.getUrlVars(e.id).q)&&(i.query=d.Util.getUrlVars(e.id).q),y?(i.location=g,i.radius="15000"):(o=new google.maps.LatLng(-89.999999,-179.999999),l=new google.maps.LatLng(89.999999,179.999999),r=new google.maps.LatLngBounds(o,l)),place_search.textSearch(i,t)}function r(){var t,i,a,n;t=e.id+"&output=kml",t=t.replace("&output=embed",""),i=new google.maps.KmlLayer(t,{preserveViewport:!0}),a=new google.maps.InfoWindow,i.setMap(s),google.maps.event.addListenerOnce(i,"defaultviewport_changed",function(){y?s.panTo(g):s.fitBounds(i.getDefaultViewport()),v&&s.setZoom(f)}),google.maps.event.addListener(i,"click",function(e){function t(e){a.setContent(e),a.open(s)}n=e.featureData.description,t(n)})}var o,s,l,m,u="",h=e.uid.toString()+"_gmap",p="",g=new google.maps.LatLng(41.875696,-87.624207),f=11,y=!1,v=!1;google.maps.VeriteMapType=function(e){if(d.ExternalAPI.googlemaps.defaultType(e))return google.maps.MapTypeId[e.toUpperCase()];var i=t(e);return google.maps.ImageMapType.call(this,{getTileUrl:function(e,t){var a=(t+e.x+e.y)%d.ExternalAPI.googlemaps.map_subdomains.length,n=i.url.replace("{S}",d.ExternalAPI.googlemaps.map_subdomains[a]).replace("{Z}",t).replace("{X}",e.x).replace("{Y}",e.y).replace("{z}",t).replace("{x}",e.x).replace("{y}",e.y);return n},tileSize:new google.maps.Size(256,256),name:e,minZoom:i.minZoom,maxZoom:i.maxZoom})},google.maps.VeriteMapType.prototype=new google.maps.ImageMapType("_"),o=""!=d.ExternalAPI.googlemaps.maptype?d.ExternalAPI.googlemaps.defaultType(d.ExternalAPI.googlemaps.maptype)?google.maps.MapTypeId[d.ExternalAPI.googlemaps.maptype.toUpperCase()]:d.ExternalAPI.googlemaps.maptype:google.maps.MapTypeId.TERRAIN,"string"==c.of(d.Util.getUrlVars(e.id).ll)?(y=!0,m=d.Util.getUrlVars(e.id).ll.split(","),g=new google.maps.LatLng(parseFloat(m[0]),parseFloat(m[1]))):"string"==c.of(d.Util.getUrlVars(e.id).sll)&&(m=d.Util.getUrlVars(e.id).sll.split(","),g=new google.maps.LatLng(parseFloat(m[0]),parseFloat(m[1]))),"string"==c.of(d.Util.getUrlVars(e.id).z)&&(v=!0,f=parseFloat(d.Util.getUrlVars(e.id).z)),l={zoom:f,draggable:!1,disableDefaultUI:!0,mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},center:g,mapTypeId:o,mapTypeControlOptions:{mapTypeIds:[o]}},d.attachElement("#"+e.uid,"<div class='google-map' id='"+h+"' style='width=100%;height=100%;'></div>"),s=new google.maps.Map(document.getElementById(h),l),d.ExternalAPI.googlemaps.defaultType(d.ExternalAPI.googlemaps.maptype)||(s.mapTypes.set(o,new google.maps.VeriteMapType(o)),p="<div class='map-attribution'><div class='attribution-text'>"+u+"</div></div>",d.appendElement("#"+h,p)),"string"==c.of(d.Util.getUrlVars(e.id).msid)?r():"string"==c.of(d.Util.getUrlVars(e.id).q)&&i()},pushQue:function(){for(var e=0;e<d.master_config.googlemaps.que.length;e++)d.ExternalAPI.googlemaps.create(d.master_config.googlemaps.que[e]);d.master_config.googlemaps.que=[]},onMapAPIReady:function(){d.master_config.googlemaps.map_active=!0,d.master_config.googlemaps.places_active=!0,d.ExternalAPI.googlemaps.onAPIReady()},onPlacesAPIReady:function(){d.master_config.googlemaps.places_active=!0,d.ExternalAPI.googlemaps.onAPIReady()},onAPIReady:function(){!d.master_config.googlemaps.active&&d.master_config.googlemaps.map_active&&d.master_config.googlemaps.places_active&&(d.master_config.googlemaps.active=!0,d.ExternalAPI.googlemaps.pushQue())},defaultType:function(e){
return"satellite"==e.toLowerCase()||"hybrid"==e.toLowerCase()||"terrain"==e.toLowerCase()||"roadmap"==e.toLowerCase()},map_subdomains:["","a.","b.","c.","d."],map_attribution:{stamen:"Map tiles by <a href='http://stamen.com'>Stamen Design</a>, under <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a>. Data by <a href='http://openstreetmap.org'>OpenStreetMap</a>, under <a href='http://creativecommons.org/licenses/by-sa/3.0'>CC BY SA</a>.",apple:"Map data &copy; 2012  Apple, Imagery &copy; 2012 Apple",osm:"&copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"},map_providers:{toner:{url:"//{S}tile.stamen.com/toner/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-lines":{url:"//{S}tile.stamen.com/toner-lines/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-labels":{url:"//{S}tile.stamen.com/toner-labels/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},sterrain:{url:"//{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.jpg",minZoom:4,maxZoom:20,attribution:"stamen"},apple:{url:"//gsp2.apple.com/tile?api=1&style=slideshow&layers=default&lang=en_US&z={z}&x={x}&y={y}&v=9",minZoom:4,maxZoom:14,attribution:"apple"},watercolor:{url:"//{S}tile.stamen.com/watercolor/{Z}/{X}/{Y}.jpg",minZoom:3,maxZoom:16,attribution:"stamen"},osm:{url:"//tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:3,maxZoom:18,attribution:"osm"}}},googleplus:{get:function(e){var t={user:e.user,activity:e.id,id:e.uid};d.master_config.googleplus.que.push(t),d.master_config.googleplus.active=!0},create:function(e,t){var i,n,r="",o="",s="",l="",m="";googleplus_timeout=setTimeout(d.ExternalAPI.googleplus.errorTimeOut,d.master_config.timers.api,e),callback_timeout=setTimeout(t,d.master_config.timers.api,e),o=""!=d.master_config.Timeline.api_keys.google?d.master_config.Timeline.api_keys.google:h.Ctr.decrypt(d.master_config.api_keys_master.google,d.master_config.vp,256),i="https://www.googleapis.com/plus/v1/people/"+e.user+"/activities/public?alt=json&maxResults=100&fields=items(id,url)&key="+o,r="GOOGLE PLUS API CALL",d.getJSON(i,function(t){for(var i=0;i<t.items.length;i++)if(a("loop"),t.items[i].url.split("posts/")[1]==e.activity){a("FOUND IT!!"),s=t.items[i].id,n="https://www.googleapis.com/plus/v1/activities/"+s+"?alt=json&key="+o,d.getJSON(n,function(t){if(a(t),"undefined"!=typeof t.annotation?(l+="<div class='googleplus-annotation'>'"+t.annotation+"</div>",l+=t.object.content):l+=t.object.content,"undefined"!=typeof t.object.attachments){for(var i=0;i<t.object.attachments.length;i++)"photo"==t.object.attachments[i].objectType?m="<a href='"+t.object.url+"' target='_blank'><img src='"+t.object.attachments[i].image.url+"' class='article-thumb'></a>"+m:"video"==t.object.attachments[i].objectType?(m="<img src='"+t.object.attachments[i].image.url+"' class='article-thumb'>"+m,m+="<div>",m+="<a href='"+t.object.attachments[i].url+"' target='_blank'>",m+="<h5>"+t.object.attachments[i].displayName+"</h5>",m+="</a>",m+="</div>"):"article"==t.object.attachments[i].objectType&&(m+="<div>",m+="<a href='"+t.object.attachments[i].url+"' target='_blank'>",m+="<h5>"+t.object.attachments[i].displayName+"</h5>",m+="<p>"+t.object.attachments[i].content+"</p>",m+="</a>",m+="</div>"),a(t.object.attachments[i]);m="<div class='googleplus-attachments'>"+m+"</div>"}r="<div class='googleplus-content'>"+l+m+"</div>",r+="<div class='vcard author'><a class='screen-name url' href='"+t.url+"' target='_blank'>",r+="<span class='avatar'><img src='"+t.actor.image.url+"' style='max-width: 32px; max-height: 32px;'></span>",r+="<span class='fn'>"+t.actor.displayName+"</span>",r+="<span class='nickname'><span class='thumbnail-inline'></span></span>",r+="</a></div>",d.attachElement("#googleplus_"+e.activity,r)});break}}).error(function(t,i,n){var r=d.parseJSON(t.responseText);a(r.error.message),d.attachElement("#googleplus_"+e.activity,d.MediaElement.loadingmessage("<p>ERROR LOADING GOOGLE+ </p><p>"+r.error.message+"</p>"))}).success(function(e){clearTimeout(googleplus_timeout),clearTimeout(callback_timeout),t()})},pushQue:function(){d.master_config.googleplus.que.length>0&&(d.ExternalAPI.googleplus.create(d.master_config.googleplus.que[0],d.ExternalAPI.googleplus.pushQue),d.Util.removeRange(d.master_config.googleplus.que,0))},errorTimeOut:function(e){a("GOOGLE+ JSON ERROR TIMEOUT "+e.activity),d.attachElement("#googleplus_"+e.activity,d.MediaElement.loadingmessage("<p>Still waiting on GOOGLE+ </p><p>"+e.activity+"</p>"))}},googledocs:{get:function(e){d.master_config.googledocs.que.push(e),d.master_config.googledocs.active=!0},create:function(e){var t="";t=e.id.match(/docs.google.com/i)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e.id+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+e.id+"&amp;embedded=true'></iframe>",d.attachElement("#"+e.uid,t)},pushQue:function(){for(var e=0;e<d.master_config.googledocs.que.length;e++)d.ExternalAPI.googledocs.create(d.master_config.googledocs.que[e]);d.master_config.googledocs.que=[]}},flickr:{get:function(e){d.master_config.flickr.que.push(e),d.master_config.flickr.active=!0},create:function(e,t){var i,n=setTimeout(t,d.master_config.timers.api,e);i="undefined"!=typeof d.master_config.Timeline&&""!=d.master_config.Timeline.api_keys.flickr?d.master_config.Timeline.api_keys.flickr:h.Ctr.decrypt(d.master_config.api_keys_master.flickr,d.master_config.vp,256);var r="//api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+i+"&photo_id="+e.id+"&format=json&jsoncallback=?";d.getJSON(r,function(t){var i,a,n=(d.ExternalAPI.flickr.getFlickrIdFromUrl(t.sizes.size[0].url),"#"+e.uid),r="#"+e.uid+"_thumb",o=!1,s="Large";s=d.ExternalAPI.flickr.sizes(d.master_config.sizes.api.height);for(var l=0;l<t.sizes.size.length;l++)t.sizes.size[l].label==s&&(o=!0,i=t.sizes.size[l].source);o||(i=t.sizes.size[t.sizes.size.length-2].source),a=t.sizes.size[0].source,d.Lib.attr(n,"src",i),d.attachElement(r,"<img src='"+a+"'>")}).error(function(e,t,i){a("FLICKR error"),a("FLICKR ERROR: "+t+" "+e.responseText)}).success(function(e){clearTimeout(n),t()})},pushQue:function(){d.master_config.flickr.que.length>0&&(d.ExternalAPI.flickr.create(d.master_config.flickr.que[0],d.ExternalAPI.flickr.pushQue),d.Util.removeRange(d.master_config.flickr.que,0))},sizes:function(e){var t="";return t=75>=e?"Thumbnail":180>=e?"Small":240>=e?"Small 320":375>=e?"Medium":480>=e?"Medium 640":"Large"},getFlickrIdFromUrl:function(e){var t=e.indexOf("flickr.com/photos/");if(-1==t)return null;var i=t+"flickr.com/photos/".length,a=e.substr(i);return-1==a.indexOf("/")?null:(0==a.indexOf("/")&&(a=a.substr(1)),a.split("/")[1])}},instagram:{get:function(e,t){return t?"//instagr.am/p/"+e.id+"/media/?size=t":"//instagr.am/p/"+e.id+"/media/?size="+d.ExternalAPI.instagram.sizes(d.master_config.sizes.api.height)},sizes:function(e){var t="";return t=150>=e?"t":306>=e?"m":"l"},isInstagramUrl:function(e){return e.match("instagr.am/p/")||e.match("instagram.com/p/")},getInstagramIdFromUrl:function(e){try{return e.split("/p/")[1].split("/")[0]}catch(t){return a("Invalid Instagram url: "+e),null}}},soundcloud:{get:function(e){d.master_config.soundcloud.que.push(e),d.master_config.soundcloud.active=!0},create:function(e,t){var i="//soundcloud.com/oembed?url="+e.id+"&format=js&callback=?";d.getJSON(i,function(i){d.attachElement("#"+e.uid,i.html),t()})},pushQue:function(){d.master_config.soundcloud.que.length>0&&(d.ExternalAPI.soundcloud.create(d.master_config.soundcloud.que[0],d.ExternalAPI.soundcloud.pushQue),d.Util.removeRange(d.master_config.soundcloud.que,0))}},wikipedia:{get:function(e){d.master_config.wikipedia.que.push(e),d.master_config.wikipedia.active=!0},create:function(t,i){var n="//"+t.lang+".wikipedia.org/w/api.php?action=query&prop=extracts&redirects=&titles="+t.id+"&exintro=1&format=json&callback=?";if(callback_timeout=setTimeout(i,d.master_config.timers.api,t),"Explorer"==d.Browser.browser&&parseInt(d.Browser.version,10)>=7&&e.XDomainRequest){var r="<h4><a href='http://"+d.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+t.id+"' target='_blank'>"+t.url+"</a></h4>";r+="<span class='wiki-source'>"+d.master_config.language.messages.wikipedia+"</span>",r+="<p>Wikipedia entry unable to load using Internet Explorer 8 or below.</p>",d.attachElement("#"+t.uid,r)}d.getJSON(n,function(e){if(e.query){var i,a,n="",r="",o=1,s=[];i=d.Util.getObjectAttributeByIndex(e.query.pages,0).extract,a=d.Util.getObjectAttributeByIndex(e.query.pages,0).title,i.match("<p>")?s=i.split("<p>"):s.push(i);for(var l=0;l<s.length;l++)o>=l+1&&l+1<s.length&&(r+="<p>"+s[l+1]);n="<h4><a href='http://"+d.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+a+"' target='_blank'>"+a+"</a></h4>",n+="<span class='wiki-source'>"+d.master_config.language.messages.wikipedia+"</span>",n+=d.Util.linkify_wikipedia(r),i.match("REDIRECT")||d.attachElement("#"+t.uid,n)}}).error(function(e,n,r){a("WIKIPEDIA error"),a("WIKIPEDIA ERROR: "+n+" "+e.responseText),a(r),d.attachElement("#"+t.uid,d.MediaElement.loadingmessage("<p>Wikipedia is not responding</p>")),clearTimeout(callback_timeout),d.master_config.wikipedia.tries<4?(a("WIKIPEDIA ATTEMPT "+d.master_config.wikipedia.tries),a(t),d.master_config.wikipedia.tries++,d.ExternalAPI.wikipedia.create(t,i)):i()}).success(function(e){d.master_config.wikipedia.tries=0,clearTimeout(callback_timeout),i()})},pushQue:function(){d.master_config.wikipedia.que.length>0&&(a("WIKIPEDIA PUSH QUE "+d.master_config.wikipedia.que.length),d.ExternalAPI.wikipedia.create(d.master_config.wikipedia.que[0],d.ExternalAPI.wikipedia.pushQue),d.Util.removeRange(d.master_config.wikipedia.que,0))}},youtube:{get:function(e){var t="//gdata.youtube.com/feeds/api/videos/"+e.id+"?v=2&alt=jsonc&callback=?";d.master_config.youtube.que.push(e),d.master_config.youtube.active||d.master_config.youtube.api_loaded||LoadLib.js("//www.youtube.com/player_api",function(){a("YouTube API Library Loaded")}),d.getJSON(t,function(t){d.ExternalAPI.youtube.createThumb(t,e)})},create:function(e){if("undefined"!=typeof e.start){var t=e.start.toString(),i=0,a=0;t.match("m")?(i=parseInt(t.split("m")[0],10),a=parseInt(t.split("m")[1].split("s")[0],10),e.start=60*i+a):e.start=0}else e.start=0;var n={active:!1,player:{},name:e.uid,playing:!1,hd:!1};"undefined"!=typeof e.hd&&(n.hd=!0),n.player[e.id]=new YT.Player(e.uid,{height:"390",width:"640",playerVars:{enablejsapi:1,color:"white",showinfo:0,theme:"light",start:e.start,rel:0},videoId:e.id,events:{onReady:d.ExternalAPI.youtube.onPlayerReady,onStateChange:d.ExternalAPI.youtube.onStateChange}}),d.master_config.youtube.array.push(n)},createThumb:function(e,t){if(a("CREATE THUMB"),a(e),a(t),"undefined"!=typeof e.data){var i="#"+t.uid+"_thumb";d.attachElement(i,"<img src='"+e.data.thumbnail.sqDefault+"'>")}},pushQue:function(){for(var e=0;e<d.master_config.youtube.que.length;e++)d.ExternalAPI.youtube.create(d.master_config.youtube.que[e]);d.master_config.youtube.que=[]},onAPIReady:function(){d.master_config.youtube.active=!0,d.ExternalAPI.youtube.pushQue()},stopPlayers:function(){for(var e=0;e<d.master_config.youtube.array.length;e++)d.master_config.youtube.array[e].playing&&"undefined"!=typeof d.master_config.youtube.array[e].player.the_name&&d.master_config.youtube.array[e].player.the_name.stopVideo()},onStateChange:function(e){for(var t=0;t<d.master_config.youtube.array.length;t++){for(var i in d.master_config.youtube.array[t].player)d.master_config.youtube.array[t].player[i]==e.target&&(d.master_config.youtube.array[t].player.the_name=d.master_config.youtube.array[t].player[i]);d.master_config.youtube.array[t].player.the_name==e.target&&e.data==YT.PlayerState.PLAYING&&(d.master_config.youtube.array[t].playing=!0,d.master_config.youtube.array[t].hd===!1&&(d.master_config.youtube.array[t].hd=!0,d.master_config.youtube.array[t].player.the_name.setPlaybackQuality("hd720")))}},onPlayerReady:function(e){}},vimeo:{get:function(e){d.master_config.vimeo.que.push(e),d.master_config.vimeo.active=!0},create:function(e,t){a("VIMEO CREATE");var i="//vimeo.com/api/v2/video/"+e.id+".json",n="//player.vimeo.com/video/"+e.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff";d.getJSON(i,function(i){d.ExternalAPI.vimeo.createThumb(i,e),t()}),d.attachElement("#"+e.uid,"<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+n+"'></iframe>")},createThumb:function(e,t){a("VIMEO CREATE THUMB");var i="#"+t.uid+"_thumb";d.attachElement(i,"<img src='"+e[0].thumbnail_small+"'>")},pushQue:function(){d.master_config.vimeo.que.length>0&&(d.ExternalAPI.vimeo.create(d.master_config.vimeo.que[0],d.ExternalAPI.vimeo.pushQue),d.Util.removeRange(d.master_config.vimeo.que,0))}},vine:{get:function(e){d.master_config.vine.que.push(e),d.master_config.vine.active=!0},create:function(e,t){a("VINE CREATE");var i="https://vine.co/v/"+e.id+"/embed/simple";d.attachElement("#"+e.uid,"<iframe frameborder='0' width='100%' height='100%' src='"+i+"'></iframe><script async src='http://platform.vine.co/static/scripts/embed.js' charset='utf-8'></script>")},pushQue:function(){d.master_config.vine.que.length>0&&(d.ExternalAPI.vine.create(d.master_config.vine.que[0],d.ExternalAPI.vine.pushQue),d.Util.removeRange(d.master_config.vine.que,0))}},webthumb:{get:function(e,t){d.master_config.webthumb.que.push(e),d.master_config.webthumb.active=!0},sizes:function(e){var t="";return t=150>=e?"t":306>=e?"m":"l"},create:function(e){a("WEB THUMB CREATE");var t="//api.pagepeeker.com/v2/thumbs.php?";url=e.id.replace("http://",""),d.attachElement("#"+e.uid,"<a href='"+e.id+"' target='_blank'><img src='"+t+"size=x&url="+url+"'></a>"),d.attachElement("#"+e.uid+"_thumb","<img src='"+t+"size=t&url="+url+"'>")},pushQue:function(){for(var e=0;e<d.master_config.webthumb.que.length;e++)d.ExternalAPI.webthumb.create(d.master_config.webthumb.que[e]);d.master_config.webthumb.que=[]}}}.init()),"undefined"!=typeof d&&"undefined"==typeof d.MediaElement&&(d.MediaElement={init:function(){return this},loadingmessage:function(e){return"<div class='vco-loading'><div class='vco-loading-container'><div class='vco-loading-icon'></div><div class='vco-message'><p>"+e+"</p></div></div></div>"},thumbnail:function(e,t,i,n){var r=16,o=24,s="";if(null!=t&&""!=t&&(r=t),null!=i&&""!=i&&(o=i),null!=n&&""!=n&&(s=n),null!=e.thumbnail&&""!=e.thumbnail)return a("CUSTOM THUMB"),l="<div class='thumbnail thumb-custom' id='"+n+"_custom_thumb'><img src='"+e.thumbnail+"'></div>";if(null!=e.media&&""!=e.media){var l="",m=d.MediaType(e.media);return l="image"==m.type?"<div class='thumbnail thumb-photo'></div>":"flickr"==m.type?"<div class='thumbnail thumb-photo' id='"+n+"_thumb'></div>":"instagram"==m.type?"<div class='thumbnail thumb-instagram' id='"+n+"_thumb'><img src='"+d.ExternalAPI.instagram.get(m,!0)+"'></div>":"youtube"==m.type?"<div class='thumbnail thumb-youtube' id='"+n+"_thumb'></div>":"googledoc"==m.type?"<div class='thumbnail thumb-document'></div>":"vimeo"==m.type?"<div class='thumbnail thumb-vimeo' id='"+n+"_thumb'></div>":"vine"==m.type?"<div class='thumbnail thumb-vine'></div>":"dailymotion"==m.type?"<div class='thumbnail thumb-video'></div>":"twitter"==m.type?"<div class='thumbnail thumb-twitter'></div>":"twitter-ready"==m.type?"<div class='thumbnail thumb-twitter'></div>":"soundcloud"==m.type?"<div class='thumbnail thumb-audio'></div>":"google-map"==m.type?"<div class='thumbnail thumb-map'></div>":"googleplus"==m.type?"<div class='thumbnail thumb-googleplus'></div>":"wikipedia"==m.type?"<div class='thumbnail thumb-wikipedia'></div>":"storify"==m.type?"<div class='thumbnail thumb-storify'></div>":"quote"==m.type?"<div class='thumbnail thumb-quote'></div>":"iframe"==m.type?"<div class='thumbnail thumb-video'></div>":"unknown"==m.type?m.id.match("blockquote")?"<div class='thumbnail thumb-quote'></div>":"<div class='thumbnail thumb-plaintext'></div>":"website"==m.type?"<div class='thumbnail thumb-website' id='"+n+"_thumb'></div>":"<div class='thumbnail thumb-plaintext'></div>"}},create:function(e,t){var i=!1,n=d.MediaElement.loadingmessage(d.master_config.language.messages.loading+"...");if(null!=e.media&&""!=e.media){var r,o="",s="",l="",m="",c=!1;return r=d.MediaType(e.media),r.uid=t,i=!0,null!=e.credit&&""!=e.credit&&(l="<div class='credit'>"+d.Util.linkify_with_twitter(e.credit,"_blank")+"</div>"),null!=e.caption&&""!=e.caption&&(s="<div class='caption'>"+d.Util.linkify_with_twitter(e.caption,"_blank")+"</div>"),"image"==r.type?(r.id.match("https://")&&(r.id=r.id.replace("https://","http://")),o="<div class='media-image media-shadow'><img src='"+r.id+"' class='media-image'></div>"):"flickr"==r.type?(o="<div class='media-image media-shadow'><a href='"+r.link+"' target='_blank'><img id='"+t+"'></a></div>",d.ExternalAPI.flickr.get(r)):"instagram"==r.type?o="<div class='media-image media-shadow'><a href='"+r.link+"' target='_blank'><img src='"+d.ExternalAPI.instagram.get(r)+"'></a></div>":"googledoc"==r.type?(o="<div class='media-frame media-shadow doc' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.googledocs.get(r)):"youtube"==r.type?(o="<div class='media-shadow'><div class='media-frame video youtube' id='"+r.uid+"'>"+n+"</div></div>",d.ExternalAPI.youtube.get(r)):"vimeo"==r.type?(o="<div class='media-shadow media-frame video vimeo' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.vimeo.get(r)):"dailymotion"==r.type?o="<div class='media-shadow'><iframe class='media-frame video dailymotion' autostart='false' frameborder='0' width='100%' height='100%' src='http://www.dailymotion.com/embed/video/"+r.id+"'></iframe></div>":"vine"==r.type?(o="<div class='media-shadow media-frame video vine' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.vine.get(r)):"twitter"==r.type?(o="<div class='twitter' id='"+r.uid+"'>"+n+"</div>",c=!0,d.ExternalAPI.twitter.get(r)):"twitter-ready"==r.type?(c=!0,o=r.id):"soundcloud"==r.type?(o="<div class='media-frame media-shadow soundcloud' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.soundcloud.get(r)):"google-map"==r.type?(o="<div class='media-frame media-shadow map' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.googlemaps.get(r)):"googleplus"==r.type?(m="googleplus_"+r.id,o="<div class='googleplus' id='"+m+"'>"+n+"</div>",c=!0,d.ExternalAPI.googleplus.get(r)):"wikipedia"==r.type?(o="<div class='wikipedia' id='"+r.uid+"'>"+n+"</div>",c=!0,d.ExternalAPI.wikipedia.get(r)):"storify"==r.type?(c=!0,o="<div class='plain-text-quote'>"+r.id+"</div>"):"iframe"==r.type?(c=!0,o="<div class='media-shadow'><iframe class='media-frame video' autostart='false' frameborder='0' width='100%' height='100%' src='"+r.id+"'></iframe></div>"):"quote"==r.type?(c=!0,o="<div class='plain-text-quote'>"+r.id+"</div>"):"unknown"==r.type?(a("NO KNOWN MEDIA TYPE FOUND TRYING TO JUST PLACE THE HTML"),c=!0,o="<div class='plain-text'><div class='container'>"+d.Util.properQuotes(r.id)+"</div></div>"):"website"==r.type?(o="<div class='media-shadow website' id='"+r.uid+"'>"+n+"</div>",d.ExternalAPI.webthumb.get(r)):(a("NO KNOWN MEDIA TYPE FOUND"),a(r.type)),o="<div class='media-container' >"+o+l+s+"</div>",c?"<div class='text-media'><div class='media-wrapper'>"+o+"</div></div>":"<div class='media-wrapper'>"+o+"</div>"}}}.init()),"undefined"!=typeof d&&"undefined"==typeof d.MediaType&&(d.MediaType=function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),i=!1,n={type:"unknown",id:"",start:0,hd:!1,link:"",lang:d.Language.lang,uniqueid:d.Util.unique_ID(6)};if(t.match("div class='twitter'"))n.type="twitter-ready",n.id=t,i=!0;else if(t.match("<blockquote"))n.type="quote",n.id=t,i=!0;else if(t.match("<iframe"))n.type="iframe",a("IFRAME"),regex=/src=['"](\S+?)['"]\s/,group=t.match(regex),group&&(n.id=group[1]),a("iframe url: "+n.id),i=Boolean(n.id);else if(t.match("(www.)?youtube|youtu.be"))t.match("v=")?n.id=d.Util.getUrlVars(t).v:t.match("/embed/")?n.id=t.split("embed/")[1].split(/[?&]/)[0]:t.match(/v\/|v=|youtu\.be\//)?n.id=t.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:a("YOUTUBE IN URL BUT NOT A VALID VIDEO"),n.start=d.Util.getUrlVars(t).t,n.hd=d.Util.getUrlVars(t).hd,n.type="youtube",i=!0;else if(t.match("(player.)?vimeo.com"))n.type="vimeo",n.id=t.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0],i=!0;else if(t.match("(www.)?dailymotion.com"))n.id=t.split(/video\/|\/\/dailymotion\.com\//)[1],n.type="dailymotion",i=!0;else if(t.match("(www.)?vine.co"))a("VINE"),t.match("vine.co/v/")&&(n.id=t.split("vine.co/v/")[1],a(n.id)),a(t),n.type="vine",i=!0;else if(t.match("(player.)?soundcloud.com"))n.type="soundcloud",n.id=t,i=!0;else if(t.match("(www.)?twitter.com")&&t.match("status"))t.match("status/")?n.id=t.split("status/")[1]:t.match("statuses/")?n.id=t.split("statuses/")[1]:n.id="",n.type="twitter",i=!0;else if(t.match("maps.google")&&!t.match("staticmap"))n.type="google-map",n.id=t.split(/src=['|"][^'|"]*?['|"]/gi),i=!0;else if(t.match("plus.google"))n.type="googleplus",n.id=t.split("/posts/")[1],t.split("/posts/")[0].match("u/0/")?n.user=t.split("u/0/")[1].split("/posts")[0]:n.user=t.split("google.com/")[1].split("/posts/")[0],i=!0;else if(t.match("flickr.com/photos/"))n.type="flickr",n.id=d.ExternalAPI.flickr.getFlickrIdFromUrl(t),n.link=t,i=Boolean(n.id);else if(d.ExternalAPI.instagram.isInstagramUrl(t))n.type="instagram",n.link=t,n.id=d.ExternalAPI.instagram.getInstagramIdFromUrl(t),i=Boolean(n.id);else if(t.match(/jpg|jpeg|png|gif|svg/i)||t.match("staticmap")||t.match("yfrog.com")||t.match("twitpic.com"))n.type="image",n.id=t,i=!0;else if(d.FileExtention.googleDocType(t))n.type="googledoc",n.id=t,i=!0;else if(t.match("(www.)?wikipedia.org")){n.type="wikipedia";var r=t.split("wiki/")[1].split("#")[0].replace("_"," ");n.id=r.replace(" ","%20"),n.lang=t.split("//")[1].split(".wikipedia")[0],i=!0}else 0==t.indexOf("http://")?(n.type="website",n.id=t,i=!0):t.match("storify")?(n.type="storify",n.id=t,i=!0):(a("unknown media"),n.type="unknown",n.id=t,i=!0);return i?n:(a("No valid media id detected"),a(t),!1)}),"undefined"!=typeof d&&"undefined"==typeof d.TextElement&&(d.TextElement={init:function(){return this},create:function(e){return e}}.init()),"undefined"!=typeof d&&"undefined"==typeof d.DragSlider&&(d.DragSlider=function(){function e(e,a){d.bindEvent(e,i,h.down,{element:a,delement:e}),d.bindEvent(e,n,h.up,{element:a,delement:e}),d.bindEvent(e,t,h.leave,{element:a,delement:e})}function t(e){return d.unbindEvent(e.data.delement,r,h.move),u.touch||e.preventDefault(),e.stopPropagation(),u.sliding?(u.sliding=!1,s(e.data.element,e.data.delement,e),!1):!0}function i(e){return o(e.data.element,e.data.delement,e),u.touch||e.preventDefault(),!0}function n(e){return u.touch||e.preventDefault(),u.sliding?(u.sliding=!1,s(e.data.element,e.data.delement,e),!1):!0}function r(e){l(e.data.element,e)}function o(e,t,i){u.touch?(a("IS TOUCH"),d.Lib.css(e,"-webkit-transition-duration","0"),u.pagex.start=i.originalEvent.touches[0].screenX,u.pagey.start=i.originalEvent.touches[0].screenY):(u.pagex.start=i.pageX,u.pagey.start=i.pageY),u.left.start=c(e),u.time.start=(new Date).getTime(),d.Lib.stop(e),d.bindEvent(t,r,h.move,{element:e})}function s(e,t,i){d.unbindEvent(t,r,h.move),m(e,i)}function l(e,t){var i;u.sliding=!0,u.touch?(u.pagex.end=t.originalEvent.touches[0].screenX,u.pagey.end=t.originalEvent.touches[0].screenY):(u.pagex.end=t.pageX,u.pagey.end=t.pageY),u.left.end=c(e),i=-(u.pagex.start-u.pagex.end-u.left.start),Math.abs(u.pagey.start)-Math.abs(u.pagey.end)>10&&(a("SCROLLING Y"),a(Math.abs(u.pagey.start)-Math.abs(u.pagey.end))),Math.abs(i-u.left.start)>10&&(d.Lib.css(e,"left",i),t.preventDefault(),t.stopPropagation())}function m(e,t){var i={left:u.left.end,left_adjust:0,change:{x:0},time:10*((new Date).getTime()-u.time.start),time_adjust:10*((new Date).getTime()-u.time.start)},a=3e3;u.touch&&(a=6e3),i.change.x=a*(Math.abs(u.pagex.end)-Math.abs(u.pagex.start)),i.left_adjust=Math.round(i.change.x/i.time),i.left=Math.min(i.left+i.left_adjust),u.constraint&&(i.left>u.constraint.left?(i.left=u.constraint.left,i.time>5e3&&(i.time=5e3)):i.left<u.constraint.right&&(i.left=u.constraint.right,i.time>5e3&&(i.time=5e3))),d.fireEvent(f,"DRAGUPDATE",[i]),y||i.time>0&&(u.touch?d.Lib.animate(e,i.time,"easeOutCirc",{left:i.left}):d.Lib.animate(e,i.time,u.ease,{left:i.left}))}function c(e){return parseInt(d.Lib.css(e,"left").substring(0,d.Lib.css(e,"left").length-2),10)}var u={element:"",element_move:"",constraint:"",sliding:!1,pagex:{start:0,end:0},pagey:{start:0,end:0},left:{start:0,end:0},time:{start:0,end:0},touch:!1,ease:"easeOutExpo"},h={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},p={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},g={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},f=this,y=!1;this.createPanel=function(t,i,n,r,o){u.element=t,u.element_move=i,null!=o&&""!=o&&(y=o),null!=n&&""!=n?u.constraint=n:u.constraint=!1,r?u.touch=r:u.touch=!1,a("TOUCH"+u.touch),h=u.touch?g:p,e(u.element,u.element_move)},this.updateConstraint=function(e){a("updateConstraint"),u.constraint=e},this.cancelSlide=function(e){return d.unbindEvent(u.element,r,h.move),!0}}),"undefined"!=typeof d&&"undefined"==typeof d.Slider&&(d.Slider=function(t,i){function n(e,t){var i=!0,a=!1;null!=e&&(i=e),null!=t&&(a=t),H=T.slider.width,T.slider.nav.height=d.Lib.height(R.prevBtnContainer),"mobile"==d.Browser.device||640>=H?T.slider.content.padding=10:T.slider.content.padding=T.slider.content.padding_default,T.slider.content.width=H-2*T.slider.content.padding,d.Lib.width(j,I.length*T.slider.content.width),a&&d.Lib.css(L,"left",I[C].leftpos()),g(),f(),d.Lib.css(R.nextBtn,"left",H-T.slider.nav.width),d.Lib.height(R.prevBtn,T.slider.height),d.Lib.height(R.nextBtn,T.slider.height),d.Lib.css(R.nextBtnContainer,"top",T.slider.height/2-T.slider.nav.height/2+10),d.Lib.css(R.prevBtnContainer,"top",T.slider.height/2-T.slider.nav.height/2+10),d.Lib.height(E,T.slider.height),d.Lib.width(E,H),i&&y(C,"linear",1),0==C&&d.Lib.visible(R.prevBtn,!1)}function r(e,t){a("DRAG FINISH"),a(t.left_adjust),a(T.slider.width/2),t.left_adjust<0?Math.abs(t.left_adjust)>T.slider.width/2?C==I.length-1?v():(y(C+1,"easeOutExpo"),c()):v():Math.abs(t.left_adjust)>T.slider.width/2?0==C?v():(y(C-1,"easeOutExpo"),c()):v()}function o(e){C==I.length-1?v():(y(C+1),c())}function s(e){0==C?v():(y(C-1),c())}function l(e){switch(e.keyCode){case 39:o(e);break;case 37:s(e)}}function m(e){_()}function c(){T.current_slide=C,d.fireEvent(N,"UPDATE")}function u(e){var t=0;for(d.attachElement(j,""),I=[],t=0;t<e.length;t++){var i=new d.Slider.Slide(e[t],j);I.push(i)}}function h(e){var t=0;if(e)p();else{for(t=0;t<I.length;t++)I[t].clearTimers();x=setTimeout(p,T.duration)}}function p(){var e=0;for(e=0;e<I.length;e++)I[e].enqueue=!0;for(e=0;e<T.preload;e++)C+e>I.length-1||(I[C+e].show(),I[C+e].enqueue=!1),0>C-e||(I[C-e].show(),I[C-e].enqueue=!1);if(I.length>50)for(e=0;e<I.length;e++)I[e].enqueue&&I[e].hide();g()}function g(){var e=0,t=".slider-item .layout-text-media .media .media-container ",i=".slider-item .layout-media .media .media-container ",a=".slider-item .media .media-container",n=!1,r={text_media:{width:T.slider.content.width/100*60,height:T.slider.height-60,video:{width:0,height:0},text:{width:T.slider.content.width/100*40-30,height:T.slider.height}},media:{width:T.slider.content.width,height:T.slider.height-110,video:{width:0,height:0}}};for(("mobile"==d.Browser.device||641>H)&&(n=!0),d.master_config.sizes.api.width=r.media.width,d.master_config.sizes.api.height=r.media.height,r.text_media.video=d.Util.ratio.fit(r.text_media.width,r.text_media.height,16,9),r.media.video=d.Util.ratio.fit(r.media.width,r.media.height,16,9),d.Lib.css(".slider-item","width",T.slider.content.width),d.Lib.height(".slider-item",T.slider.height),n?(r.text_media.width=T.slider.content.width-2*T.slider.content.padding,r.media.width=T.slider.content.width-2*T.slider.content.padding,r.text_media.height=T.slider.height/100*50-50,r.media.height=T.slider.height/100*70-40,r.text_media.video=d.Util.ratio.fit(r.text_media.width,r.text_media.height,16,9),r.media.video=d.Util.ratio.fit(r.media.width,r.media.height,16,9),d.Lib.css(".slider-item .layout-text-media .text","width","100%"),d.Lib.css(".slider-item .layout-text-media .text","display","block"),d.Lib.css(".slider-item .layout-text-media .text .container","display","block"),d.Lib.css(".slider-item .layout-text-media .text .container","width",r.media.width),d.Lib.css(".slider-item .layout-text-media .text .container .start","width","auto"),d.Lib.css(".slider-item .layout-text-media .media","float","none"),d.Lib.addClass(".slider-item .content-container","pad-top"),d.Lib.css(".slider-item .media blockquote p","line-height","18px"),d.Lib.css(".slider-item .media blockquote p","font-size","16px"),d.Lib.css(".slider-item","overflow-y","auto")):(d.Lib.css(".slider-item .layout-text-media .text","width","40%"),d.Lib.css(".slider-item .layout-text-media .text","display","table-cell"),d.Lib.css(".slider-item .layout-text-media .text .container","display","table-cell"),d.Lib.css(".slider-item .layout-text-media .text .container","width","auto"),d.Lib.css(".slider-item .layout-text-media .text .container .start","width",r.text_media.text.width),d.Lib.removeClass(".slider-item .content-container","pad-top"),d.Lib.css(".slider-item .layout-text-media .media","float","left"),d.Lib.css(".slider-item .layout-text-media","display","table"),d.Lib.css(".slider-item .media blockquote p","line-height","36px"),d.Lib.css(".slider-item .media blockquote p","font-size","28px"),d.Lib.css(".slider-item","display","table"),d.Lib.css(".slider-item","overflow-y","auto")),d.Lib.css(t+".media-frame","max-width",r.text_media.width),d.Lib.height(t+".media-frame",r.text_media.height),d.Lib.width(t+".media-frame",r.text_media.width),d.Lib.css(t+"img","max-height",r.text_media.height),d.Lib.css(i+"img","max-height",r.media.height),d.Lib.css(t+"img","max-width",r.text_media.width),d.Lib.css(t+".avatar img","max-width",32),d.Lib.css(t+".avatar img","max-height",32),d.Lib.css(i+".avatar img","max-width",32),d.Lib.css(i+".avatar img","max-height",32),d.Lib.css(t+".article-thumb","max-width","50%"),d.Lib.css(i+".article-thumb","max-width",200),d.Lib.width(t+".media-frame",r.text_media.video.width),d.Lib.height(t+".media-frame",r.text_media.video.height),d.Lib.width(i+".media-frame",r.media.video.width),d.Lib.height(i+".media-frame",r.media.video.height),d.Lib.css(i+".media-frame","max-height",r.media.video.height),d.Lib.css(i+".media-frame","max-width",r.media.video.width),d.Lib.height(i+".soundcloud",168),d.Lib.height(t+".soundcloud",168),d.Lib.width(i+".soundcloud",r.media.width),d.Lib.width(t+".soundcloud",r.text_media.width),d.Lib.css(a+".soundcloud","max-height",168),d.Lib.height(t+".map",r.text_media.height),d.Lib.width(t+".map",r.text_media.width),d.Lib.css(i+".map","max-height",r.media.height),d.Lib.width(i+".map",r.media.width),d.Lib.height(t+".doc",r.text_media.height),d.Lib.width(t+".doc",r.text_media.width),d.Lib.height(i+".doc",r.media.height),d.Lib.width(i+".doc",r.media.width),d.Lib.width(i+".wikipedia",r.media.width),d.Lib.width(i+".twitter",r.media.width),d.Lib.width(i+".plain-text-quote",r.media.width),d.Lib.width(i+".plain-text",r.media.width),d.Lib.css(a,"max-width",r.media.width),d.Lib.css(t+".caption","max-width",r.text_media.video.width),d.Lib.css(i+".caption","max-width",r.media.video.width),e=0;e<I.length;e++)I[e].layout(n),I[e].content_height()>T.slider.height+20?I[e].css("display","block"):I[e].css("display","table")}function f(){var e=0,t=0;for(t=0;t<I.length;t++)e=t*(T.slider.width+T.spacing),I[t].leftpos(e)}function y(e,t,i,a,n){var r,o=T.ease,s=T.duration,l=!1,m=!1,c="";if(d.ExternalAPI.youtube.stopPlayers(),C=e,r=I[C].leftpos(),0==C&&(m=!0),C+1>=I.length&&(l=!0),null!=t&&""!=t&&(o=t),null!=i&&""!=i&&(s=i),"mobile"==d.Browser.device?(d.Lib.visible(R.prevBtn,!1),d.Lib.visible(R.nextBtn,!1)):(m?d.Lib.visible(R.prevBtn,!1):(d.Lib.visible(R.prevBtn,!0),
c=d.Util.unlinkify(S[C-1].title),"timeline"==T.type?"undefined"==typeof S[C-1].date?(d.attachElement(R.prevDate,c),d.attachElement(R.prevTitle,"")):(d.attachElement(R.prevDate,d.Date.prettyDate(S[C-1].startdate,!1,S[C-1].precisiondate)),d.attachElement(R.prevTitle,c)):d.attachElement(R.prevTitle,c)),l?d.Lib.visible(R.nextBtn,!1):(d.Lib.visible(R.nextBtn,!0),c=d.Util.unlinkify(S[C+1].title),"timeline"==T.type?"undefined"==typeof S[C+1].date?(d.attachElement(R.nextDate,c),d.attachElement(R.nextTitle,"")):(d.attachElement(R.nextDate,d.Date.prettyDate(S[C+1].startdate,!1,S[C+1].precisiondate)),d.attachElement(R.nextTitle,c)):d.attachElement(R.nextTitle,c))),a?d.Lib.css(L,"left",-(r-T.slider.content.padding)):(d.Lib.stop(L),d.Lib.animate(L,s,o,{left:-(r-T.slider.content.padding)})),n&&d.fireEvent(N,"LOADED"),I[C].height()>T.slider_height)d.Lib.css(".slider","overflow-y","scroll");else{d.Lib.css(N,"overflow-y","hidden");var u=0;try{u=d.Lib.prop(N,"scrollHeight"),d.Lib.animate(N,s,o,{scrollTop:u-d.Lib.height(N)})}catch(p){u=d.Lib.height(N)}}h(),d.fireEvent(k,"MESSAGE","TEST")}function v(){d.Lib.stop(L),d.Lib.animate(L,T.duration,"easeOutExpo",{left:-I[C].leftpos()+T.slider.content.padding})}function b(e,t,i){a("showMessege "+t),d.attachElement(D,"<div class='vco-explainer'><div class='vco-explainer-container'><div class='vco-bezel'><div class='vco-gesture-icon'></div><div class='vco-message'><p>"+t+"</p></div></div></div></div>")}function _(){d.Lib.detach(D)}function w(){var t="<div class='icon'>&nbsp;</div>";R.nextBtn=d.appendAndGetElement(k,"<div>","nav-next"),R.prevBtn=d.appendAndGetElement(k,"<div>","nav-previous"),R.nextBtnContainer=d.appendAndGetElement(R.nextBtn,"<div>","nav-container",t),R.prevBtnContainer=d.appendAndGetElement(R.prevBtn,"<div>","nav-container",t),"timeline"==T.type&&(R.nextDate=d.appendAndGetElement(R.nextBtnContainer,"<div>","date",""),R.prevDate=d.appendAndGetElement(R.prevBtnContainer,"<div>","date","")),R.nextTitle=d.appendAndGetElement(R.nextBtnContainer,"<div>","title",""),R.prevTitle=d.appendAndGetElement(R.prevBtnContainer,"<div>","title",""),d.bindEvent(".nav-next",o),d.bindEvent(".nav-previous",s),d.bindEvent(e,l,"keydown")}function M(){var e=3e3;d.attachElement(N,""),k=d.getElement(N),E=d.appendAndGetElement(k,"<div>","slider-container-mask"),L=d.appendAndGetElement(E,"<div>","slider-container"),j=d.appendAndGetElement(L,"<div>","slider-item-container"),w(),u(S),"tablet"!=d.Browser.device&&"mobile"!=d.Browser.device||(T.duration=500,e=1e3,A=new d.DragSlider,A.createPanel(k,L,"",T.touch,!0),d.bindEvent(A,r,"DRAGUPDATE"),D=d.appendAndGetElement(E,"<div>","vco-feedback",""),b(null,"Swipe to Navigate"),d.Lib.height(D,T.slider.height),d.bindEvent(D,m),d.bindEvent(D,m,"touchend")),n(!1,!0),d.Lib.visible(R.prevBtn,!1),y(T.current_slide,"easeOutExpo",e,!0,!0),P=!0}var T,x,k,E,L,j,A,D,S=[],I=[],O=[],C=0,H=960,P=!1,N=t,R={nextBtn:"",prevBtn:"",nextDate:"",prevDate:"",nextTitle:"",prevTitle:""};T="undefined"!=typeof i?i:{preload:4,current_slide:0,interval:10,something:0,width:720,height:400,ease:"easeInOutExpo",duration:1e3,timeline:!1,spacing:15,slider:{width:720,height:400,content:{width:720,height:400,padding:120,padding_default:120},nav:{width:100,height:200}}},this.ver="0.6",T.slider.width=T.width,T.slider.height=T.height,this.init=function(e){I=[],O=[],"undefined"!=typeof e?this.setData(e):a("WAITING ON DATA")},this.width=function(e){return null==e||""==e?T.slider.width:(T.slider.width=e,void n())},this.height=function(e){return null==e||""==e?T.slider.height:(T.slider.height=e,void n())},this.setData=function(e){"undefined"!=typeof e?(S=e,M()):a("NO DATA")},this.getData=function(){return S},this.setConfig=function(e){"undefined"!=typeof e?T=e:a("NO CONFIG DATA")},this.getConfig=function(){return T},this.setSize=function(e,t){null!=e&&(T.slider.width=e),null!=t&&(T.slider.height=t),P&&n()},this.active=function(){return P},this.getCurrentNumber=function(){return C},this.setSlide=function(e){y(e)}}),"undefined"!=typeof d.Slider&&(d.Slider.Slide=function(e,t){var i,n,r,o,s,l,m=e,s="",u=!1,h=!1,p=!1,g=!0,f=!1,y="slide_",v={pushque:"",render:"",relayout:"",remove:"",skinny:!1},b={pushque:500,render:100,relayout:100,remove:3e4};y+=m.uniqueid,this.enqueue=g,this.id=y,s=d.appendAndGetElement(t,"<div>","slider-item"),"undefined"!=typeof m.classname?(a("HAS CLASSNAME"),d.Lib.addClass(s,m.classname)):(a("NO CLASSNAME"),a(m)),l={slide:"",text:"",media:"",media_element:"",layout:"content-container layout",has:{headline:!1,text:!1,media:!1}},this.show=function(e){g=!1,v.skinny=e,f=!1,clearTimeout(v.remove),u||(h?(clearTimeout(v.relayout),v.relayout=setTimeout(M,b.relayout)):_(e))},this.hide=function(){u&&!f&&(f=!0,clearTimeout(v.remove),v.remove=setTimeout(w,b.remove))},this.clearTimers=function(){clearTimeout(v.relayout),clearTimeout(v.pushque),clearTimeout(v.render)},this.layout=function(e){u&&h&&T(e)},this.elem=function(){return s},this.position=function(){return d.Lib.position(s)},this.leftpos=function(e){return"undefined"==typeof e?d.Lib.position(s).left:void d.Lib.css(s,"left",e)},this.animate=function(e,t,i){d.Lib.animate(s,e,t,i)},this.css=function(e,t){d.Lib.css(s,e,t)},this.opacity=function(e){d.Lib.css(s,"opacity",e)},this.width=function(){return d.Lib.width(s)},this.height=function(){return d.Lib.height(s)},this.content_height=function(){var e=d.Lib.find(s,".content")[0];return"undefined"!=e&&null!=e?d.Lib.height(e):0};var _=function(e){a("RENDER "+y),u=!0,h=!0,v.skinny=e,x(),clearTimeout(v.pushque),clearTimeout(v.render),v.pushque=setTimeout(d.ExternalAPI.pushQues,b.pushque)},w=function(){a("REMOVE SLIDE TIMER FINISHED"),u=!1,d.Lib.detach(n),d.Lib.detach(i)},M=function(){u=!0,T(v.skinny,!0)},T=function(e,t){l.has.text?e?p&&!t||(d.Lib.removeClass(r,"pad-left"),d.Lib.detach(n),d.Lib.detach(i),d.Lib.append(r,n),d.Lib.append(r,i),p=!0):(p||t)&&(d.Lib.addClass(r,"pad-left"),d.Lib.detach(n),d.Lib.detach(i),d.Lib.append(r,i),d.Lib.append(r,n),p=!1):t&&(l.has.headline&&(d.Lib.detach(n),d.Lib.append(r,n)),d.Lib.detach(i),d.Lib.append(r,i))},x=function(){if(a("BUILDSLIDE"),o=d.appendAndGetElement(s,"<div>","content"),r=d.appendAndGetElement(o,"<div>"),null!=m.startdate&&""!=m.startdate&&"date"==c.of(m.startdate)&&"start"!=m.type){var e=d.Date.prettyDate(m.startdate,!1,m.precisiondate),t=d.Date.prettyDate(m.enddate,!1,m.precisiondate),u="";null!=m.tag&&""!=m.tag&&(u=d.createElement("span",m.tag,"slide-tag")),e!=t?l.text+=d.createElement("h2",e+" &mdash; "+t+u,"date"):l.text+=d.createElement("h2",e+u,"date")}null!=m.headline&&""!=m.headline&&(l.has.headline=!0,"start"==m.type?l.text+=d.createElement("h2",d.Util.linkify_with_twitter(m.headline,"_blank"),"start"):l.text+=d.createElement("h3",d.Util.linkify_with_twitter(m.headline,"_blank"))),null!=m.text&&""!=m.text&&(l.has.text=!0,l.text+=d.createElement("p",d.Util.linkify_with_twitter(m.text,"_blank"))),(l.has.text||l.has.headline)&&(l.text=d.createElement("div",l.text,"container"),n=d.appendAndGetElement(r,"<div>","text",d.TextElement.create(l.text))),m.needs_slug,null!=m.asset&&""!=m.asset&&null!=m.asset.media&&""!=m.asset.media&&(l.has.media=!0,i=d.appendAndGetElement(r,"<div>","media",d.MediaElement.create(m.asset,m.uniqueid))),l.has.text&&(l.layout+="-text"),l.has.media&&(l.layout+="-media"),l.has.text?v.skinny?(d.Lib.addClass(r,l.layout),p=!0):(d.Lib.addClass(r,l.layout),d.Lib.addClass(r,"pad-left"),d.Lib.detach(n),d.Lib.append(r,n)):d.Lib.addClass(r,l.layout)}});var h={};h.cipher=function(e,t){for(var i=4,a=t.length/i-1,n=[[],[],[],[]],r=0;4*i>r;r++)n[r%4][Math.floor(r/4)]=e[r];n=h.addRoundKey(n,t,0,i);for(var o=1;a>o;o++)n=h.subBytes(n,i),n=h.shiftRows(n,i),n=h.mixColumns(n,i),n=h.addRoundKey(n,t,o,i);n=h.subBytes(n,i),n=h.shiftRows(n,i),n=h.addRoundKey(n,t,a,i);for(var s=new Array(4*i),r=0;4*i>r;r++)s[r]=n[r%4][Math.floor(r/4)];return s},h.keyExpansion=function(e){for(var t=4,i=e.length/4,a=i+6,n=new Array(t*(a+1)),r=new Array(4),o=0;i>o;o++){var s=[e[4*o],e[4*o+1],e[4*o+2],e[4*o+3]];n[o]=s}for(var o=i;t*(a+1)>o;o++){n[o]=new Array(4);for(var l=0;4>l;l++)r[l]=n[o-1][l];if(o%i==0){r=h.subWord(h.rotWord(r));for(var l=0;4>l;l++)r[l]^=h.rCon[o/i][l]}else i>6&&o%i==4&&(r=h.subWord(r));for(var l=0;4>l;l++)n[o][l]=n[o-i][l]^r[l]}return n},h.subBytes=function(e,t){for(var i=0;4>i;i++)for(var a=0;t>a;a++)e[i][a]=h.sBox[e[i][a]];return e},h.shiftRows=function(e,t){for(var i=new Array(4),a=1;4>a;a++){for(var n=0;4>n;n++)i[n]=e[a][(n+a)%t];for(var n=0;4>n;n++)e[a][n]=i[n]}return e},h.mixColumns=function(e,t){for(var i=0;4>i;i++){for(var a=new Array(4),n=new Array(4),r=0;4>r;r++)a[r]=e[r][i],n[r]=128&e[r][i]?e[r][i]<<1^283:e[r][i]<<1;e[0][i]=n[0]^a[1]^n[1]^a[2]^a[3],e[1][i]=a[0]^n[1]^a[2]^n[2]^a[3],e[2][i]=a[0]^a[1]^n[2]^a[3]^n[3],e[3][i]=a[0]^n[0]^a[1]^a[2]^n[3]}return e},h.addRoundKey=function(e,t,i,a){for(var n=0;4>n;n++)for(var r=0;a>r;r++)e[n][r]^=t[4*i+r][n];return e},h.subWord=function(e){for(var t=0;4>t;t++)e[t]=h.sBox[e[t]];return e},h.rotWord=function(e){for(var t=e[0],i=0;3>i;i++)e[i]=e[i+1];return e[3]=t,e},h.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],h.Ctr={},h.Ctr.encrypt=function(e,t,i){var a=16;if(128!=i&&192!=i&&256!=i)return"";e=g.encode(e),t=g.encode(t);for(var n=i/8,r=new Array(n),o=0;n>o;o++)r[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var s=h.cipher(r,h.keyExpansion(r));s=s.concat(s.slice(0,n-16));for(var l=new Array(a),d=(new Date).getTime(),m=d%1e3,c=Math.floor(d/1e3),u=Math.floor(65535*Math.random()),o=0;2>o;o++)l[o]=m>>>8*o&255;for(var o=0;2>o;o++)l[o+2]=u>>>8*o&255;for(var o=0;4>o;o++)l[o+4]=c>>>8*o&255;for(var f="",o=0;8>o;o++)f+=String.fromCharCode(l[o]);for(var y=h.keyExpansion(s),v=Math.ceil(e.length/a),b=new Array(v),_=0;v>_;_++){for(var w=0;4>w;w++)l[15-w]=_>>>8*w&255;for(var w=0;4>w;w++)l[15-w-4]=_/4294967296>>>8*w;for(var M=h.cipher(l,y),T=v-1>_?a:(e.length-1)%a+1,x=new Array(T),o=0;T>o;o++)x[o]=M[o]^e.charCodeAt(_*a+o),x[o]=String.fromCharCode(x[o]);b[_]=x.join("")}var k=f+b.join("");return k=p.encode(k)},h.Ctr.decrypt=function(e,t,i){var a=16;if(128!=i&&192!=i&&256!=i)return"";e=p.decode(e),t=g.encode(t);for(var n=i/8,r=new Array(n),o=0;n>o;o++)r[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var s=h.cipher(r,h.keyExpansion(r));s=s.concat(s.slice(0,n-16));var l=new Array(8);ctrTxt=e.slice(0,8);for(var o=0;8>o;o++)l[o]=ctrTxt.charCodeAt(o);for(var d=h.keyExpansion(s),m=Math.ceil((e.length-8)/a),c=new Array(m),u=0;m>u;u++)c[u]=e.slice(8+u*a,8+u*a+a);e=c;for(var f=new Array(e.length),u=0;m>u;u++){for(var y=0;4>y;y++)l[15-y]=u>>>8*y&255;for(var y=0;4>y;y++)l[15-y-4]=(u+1)/4294967296-1>>>8*y&255;for(var v=h.cipher(l,d),b=new Array(e[u].length),o=0;o<e[u].length;o++)b[o]=v[o]^e[u].charCodeAt(o),b[o]=String.fromCharCode(b[o]);f[u]=b.join("")}var _=f.join("");return _=g.decode(_)};var p={};p.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p.encode=function(e,t){t="undefined"==typeof t?!1:t;var i,a,n,r,o,s,l,d,m,c,u,h=[],g="",f=p.code;if(c=t?e.encodeUTF8():e,m=c.length%3,m>0)for(;m++<3;)g+="=",c+="\x00";for(m=0;m<c.length;m+=3)i=c.charCodeAt(m),a=c.charCodeAt(m+1),n=c.charCodeAt(m+2),r=i<<16|a<<8|n,o=r>>18&63,s=r>>12&63,l=r>>6&63,d=63&r,h[m/3]=f.charAt(o)+f.charAt(s)+f.charAt(l)+f.charAt(d);return u=h.join(""),u=u.slice(0,u.length-g.length)+g},p.decode=function(e,t){t="undefined"==typeof t?!1:t;var i,a,n,r,o,s,l,d,m,c,u=[],h=p.code;c=t?e.decodeUTF8():e;for(var g=0;g<c.length;g+=4)r=h.indexOf(c.charAt(g)),o=h.indexOf(c.charAt(g+1)),s=h.indexOf(c.charAt(g+2)),l=h.indexOf(c.charAt(g+3)),d=r<<18|o<<12|s<<6|l,i=d>>>16&255,a=d>>>8&255,n=255&d,u[g/4]=String.fromCharCode(i,a,n),64==l&&(u[g/4]=String.fromCharCode(i,a)),64==s&&(u[g/4]=String.fromCharCode(i));return m=u.join(""),t?m.decodeUTF8():m};var g={};g.encode=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},g.decode=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})},!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,a){var n,r;this.type=t,this.$element=e(i),this.options=this.getOptions(a),this.enabled=!0,"manual"!=this.options.trigger&&(n="hover"==this.options.trigger?"mouseenter":"focus",r="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(n,this.options.selector,e.proxy(this.enter,this)),this.$element.on(r,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.show?(i.hoverState="in",setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.hide?(i.hoverState="out",setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},show:function(){var e,t,i,a,n,r,o;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(r),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),i=this.getPosition(t),a=e[0].offsetWidth,n=e[0].offsetHeight,t?r.split(" ")[1]:r){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-a/2};break;case"top":o={top:i.top-n,left:i.left+i.width/2-a/2};break;case"left":o={top:i.top+i.height/2-n/2,left:i.left-a};break;case"right":o={top:i.top+i.height/2-n/2,left:i.left+i.width}}e.css(o).addClass(r).addClass("in")}},setContent:function(){var e=this.tip();e.find(".timeline-tooltip-inner").html(this.getTitle()),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){i.off(e.support.transition.end).remove()},500);i.one(e.support.transition.end,function(){clearTimeout(t),i.remove()})}var i=this.tip();i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():i.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title),e=e.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(i){return this.each(function(){var a=e(this),n=a.data("tooltip"),r="object"==typeof i&&i;n||a.data("tooltip",n=new t(this,r)),"string"==typeof i&&n[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="timeline-tooltip"><div class="timeline-tooltip-arrow"></div><div class="timeline-tooltip-inner"></div></div>'}}(e.jQuery),"undefined"!=typeof d&&"undefined"==typeof d.StoryJS&&(d.StoryJS=function(){this.init=function(e){}}),"undefined"!=typeof d&&"undefined"==typeof d.Timeline&&(d.Timeline=function(t,i,n){function r(e){"object"==typeof embed_config&&(timeline_config=embed_config),"object"==typeof timeline_config?(a("HAS TIMELINE CONFIG"),F=d.Util.mergeConfig(F,timeline_config)):"object"==typeof e&&(F=d.Util.mergeConfig(F,e)),"mobile"!=d.Browser.device&&"tablet"!=d.Browser.device||(F.touch=!0),F.nav.width=F.width,F.nav.height=200,F.feature.width=F.width,F.feature.height=F.height-F.nav.height,F.nav.zoom.adjust=parseInt(F.start_zoom_adjust,10),d.Timeline.Config=F,d.master_config.Timeline=d.Timeline.Config,this.events=F.events,""!=F.gmap_key&&(F.api_keys.google=F.gmap_key),a("VERSION "+F.version),N=F.version}function o(){A=d.getElement(R),d.Lib.addClass(A,"vco-timeline"),d.Lib.addClass(A,"vco-storyjs"),D=d.appendAndGetElement(A,"<div>","vco-container vco-main"),S=d.appendAndGetElement(D,"<div>","vco-feature"),O=d.appendAndGetElement(S,"<div>","vco-slider"),C=d.appendAndGetElement(D,"<div>","vco-navigation"),I=d.appendAndGetElement(A,"<div>","vco-feedback",""),"undefined"!=typeof F.language.right_to_left&&d.Lib.addClass(A,"vco-right-to-left"),H=new d.Slider(O,F),P=new d.Timeline.TimeNav(C),Q?d.Lib.width(A,F.width):F.width=d.Lib.width(A),q?d.Lib.height(A,F.height):F.height=d.Lib.height(A),F.touch?d.Lib.addClass(A,"vco-touch"):d.Lib.addClass(A,"vco-notouch")}function s(e,t){a("onDataReady"),U=t.timeline,"array"!=c.of(U.era)&&(U.era=[]),j()}function m(){E()}function u(){L(),H.setSize(F.feature.width,F.feature.height),P.setSize(F.width,F.height),M()&&_()}function h(e){F.loaded.slider=!0,p()}function p(e){F.loaded.percentloaded=F.loaded.percentloaded+25,F.loaded.slider&&F.loaded.timenav&&x()}function g(e){F.loaded.timenav=!0,p()}function f(e){G=!0,F.current_slide=H.getCurrentNumber(),b(F.current_slide),P.setMarker(F.current_slide,F.ease,F.duration)}function y(e){G=!0,F.current_slide=P.getCurrentNumber(),b(F.current_slide),H.setSlide(F.current_slide)}function v(e){e<=z.length-1&&e>=0&&(F.current_slide=e,H.setSlide(F.current_slide),P.setMarker(F.current_slide,F.ease,F.duration))}function b(t){F.hash_bookmark&&(e.location.hash="#"+t.toString())}function _(){var t="",i=w(e.orientation);"mobile"==d.Browser.device?t="portrait"==i?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"landscape"==i?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"width=device-width, initial-scale=1, maximum-scale=1.0":"tablet"==d.Browser.device,document.getElementById("viewport")}function w(e){var t="";return t=0==e||180==e?"portrait":90==e||-90==e?"landscape":"normal"}function M(){var t=w(e.orientation);return t==F.orientation?!1:(F.orientation=t,!0)}function T(e,t,i){a("showMessege "+t),i?d.attachElement(I,t):d.attachElement(I,d.MediaElement.loadingmessage(t))}function x(){d.Lib.animate(I,F.duration,4*F.ease,{opacity:0},k)}function k(){d.Lib.detach(I)}function E(){parseInt(F.start_at_slide)>0&&0==F.current_slide&&(F.current_slide=parseInt(F.start_at_slide)),F.start_at_end&&0==F.current_slide&&(F.current_slide=z.length-1),$?($=!0,d.fireEvent(l,F.events.messege,"Internet Explorer "+d.Browser.version+" is not supported by TimelineJS. Please update your browser to version 8 or higher. If you are using a recent version of Internet Explorer you may need to disable compatibility mode in your browser.")):(k(),u(),d.bindEvent(O,h,"LOADED"),d.bindEvent(C,g,"LOADED"),d.bindEvent(O,f,"UPDATE"),d.bindEvent(C,y,"UPDATE"),H.init(z),P.init(z,U.era),d.bindEvent(l,u,F.events.resize))}function L(){a("UPDATE SIZE"),F.width=d.Lib.width(A),F.height=d.Lib.height(A),F.nav.width=F.width,F.feature.width=F.width,F.feature.height=F.height-F.nav.height-3,"mobile"==d.Browser.device,F.width<641?d.Lib.addClass(A,"vco-skinny"):d.Lib.removeClass(A,"vco-skinny")}function j(){z=[],d.fireEvent(l,F.events.messege,"Building Dates"),L();for(var e=0;e<U.date.length;e++)if(null!=U.date[e].startDate&&""!=U.date[e].startDate){var t={},i=d.Date.parse(U.date[e].startDate,!0);t.startdate=i.date,t.precisiondate=i.precision,isNaN(t.startdate)||(null!=U.date[e].endDate&&""!=U.date[e].endDate?t.enddate=d.Date.parse(U.date[e].endDate):t.enddate=t.startdate,t.needs_slug=!1,""==U.date[e].headline&&null!=U.date[e].slug&&""!=U.date[e].slug&&(t.needs_slug=!0),t.title=U.date[e].headline,t.headline=U.date[e].headline,t.type=U.date[e].type,t.date=d.Date.prettyDate(t.startdate,!1,t.precisiondate),t.asset=U.date[e].asset,t.fulldate=t.startdate.getTime(),t.text=U.date[e].text,t.content="",t.tag=U.date[e].tag,t.slug=U.date[e].slug,t.uniqueid=d.Util.unique_ID(7),t.classname=U.date[e].classname,z.push(t))}if("storify"!=U.type&&z.sort(function(e,t){return e.fulldate-t.fulldate}),null!=U.headline&&""!=U.headline&&null!=U.text&&""!=U.text){var n,i,r,t={};"undefined"!=typeof U.startDate?(i=d.Date.parse(U.startDate,!0),n=i.date):n=!1,a("HAS STARTPAGE"),a(n),n&&n<z[0].startdate?t.startdate=new Date(n):(r=z[0].startdate,t.startdate=new Date(z[0].startdate),0===r.getMonth()&&1==r.getDate()&&0===r.getHours()&&0===r.getMinutes()?t.startdate.setFullYear(r.getFullYear()-1):r.getDate()<=1&&0===r.getHours()&&0===r.getMinutes()?t.startdate.setMonth(r.getMonth()-1):0===r.getHours()&&0===r.getMinutes()?t.startdate.setDate(r.getDate()-1):0===r.getMinutes()?t.startdate.setHours(r.getHours()-1):t.startdate.setMinutes(r.getMinutes()-1)),t.uniqueid=d.Util.unique_ID(7),t.enddate=t.startdate,t.precisiondate=i.precision,t.title=U.headline,t.headline=U.headline,t.text=U.text,t.type="start",t.date=d.Date.prettyDate(U.startDate,!1,t.precisiondate),t.asset=U.asset,t.slug=!1,t.needs_slug=!1,t.fulldate=t.startdate.getTime(),F.embed&&d.fireEvent(l,F.events.headline,t.headline),z.unshift(t)}"storify"!=U.type&&z.sort(function(e,t){return e.fulldate-t.fulldate}),m()}var A,D,S,I,O,C,H,P,N="2.x",R="#timelinejs",U={},z=[],F={},Q=!1,q=!1,$=!1,G=!1;if(R="string"==c.of(t)?t.match("#")?t:"#"+t:"#timelinejs",F={embed:!1,events:{data_ready:"DATAREADY",messege:"MESSEGE",headline:"HEADLINE",slide_change:"SLIDE_CHANGE",resize:"resize"},id:R,source:"nothing",type:"timeline",touch:!1,orientation:"normal",maptype:"",version:"2.x",preload:4,current_slide:0,hash_bookmark:!1,start_at_end:!1,start_at_slide:0,start_zoom_adjust:0,start_page:!1,api_keys:{google:"",flickr:"",twitter:""},interval:10,something:0,width:960,height:540,spacing:15,loaded:{slider:!1,timenav:!1,percentloaded:0},nav:{start_page:!1,interval_width:200,density:4,minor_width:0,minor_left:0,constraint:{left:0,right:0,right_min:0,right_max:0},zoom:{adjust:0},multiplier:{current:6,min:.1,max:50},rows:[1,1,1],width:960,height:200,marker:{width:150,height:50}},feature:{width:960,height:540},slider:{width:720,height:400,content:{width:720,height:400,padding:130,padding_default:130},nav:{width:100,height:200}},ease:"easeInOutExpo",duration:1e3,gmap_key:"",language:d.Language},null!=i&&""!=i&&(F.width=i,Q=!0),null!=n&&""!=n&&(F.height=n,q=!0),e.location.hash){var J=e.location.hash.substring(1);isNaN(J)||(F.current_slide=parseInt(J))}e.onhashchange=function(){var t=e.location.hash.substring(1);F.hash_bookmark?G?v(parseInt(t)):G=!1:v(parseInt(t))},this.init=function(e,t){a("INIT"),_(),r(e),o(),"string"==c.of(t)&&(F.source=t),d.Date.setLanguage(F.language),d.master_config.language=F.language,d.ExternalAPI.setKeys(F.api_keys),d.ExternalAPI.googlemaps.setMapType(F.maptype),d.bindEvent(l,s,F.events.data_ready),d.bindEvent(l,T,F.events.messege),d.fireEvent(l,F.events.messege,F.language.messages.loading_timeline),("Explorer"==d.Browser.browser||"MSIE"==d.Browser.browser)&&parseInt(d.Browser.version,10)<=7&&($=!0),"string"==c.of(F.source)||"object"==c.of(F.source)?d.Timeline.DataObj.getData(F.source):d.fireEvent(l,F.events.messege,"No data source provided")},this.iframeLoaded=function(){a("iframeLoaded")},this.reload=function(e){a("Load new timeline data"+e),d.fireEvent(l,F.events.messege,F.language.messages.loading_timeline),U={},d.Timeline.DataObj.getData(e),F.current_slide=0,H.setSlide(0),P.setMarker(0,F.ease,F.duration)}},d.Timeline.Config={}),"undefined"!=typeof d.Timeline&&"undefined"==typeof d.Timeline.TimeNav&&(d.Timeline.TimeNav=function(t,n,r){function o(e){Y.nav.constraint.left=Y.width/2,Y.nav.constraint.right=Y.nav.constraint.right_min-Y.width/2,J.updateConstraint(Y.nav.constraint),d.Lib.css(z,"left",Math.round(Y.width/2)+2),d.Lib.css(F,"left",Math.round(Y.width/2)-8),y(Y.current_slide,Y.ease,Y.duration,!0,e)}function s(){d.fireEvent(Z,"UPDATE")}function l(){J.cancelSlide(),Y.nav.multiplier.current>Y.nav.multiplier.min&&(Y.nav.multiplier.current<=1?Y.nav.multiplier.current=Y.nav.multiplier.current-.25:Y.nav.multiplier.current>5?Y.nav.multiplier.current>16?Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current-10):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current-4):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current-1),Y.nav.multiplier.current<=0&&(Y.nav.multiplier.current=Y.nav.multiplier.min),p())}function m(){J.cancelSlide(),Y.nav.multiplier.current<Y.nav.multiplier.max&&(Y.nav.multiplier.current>4?Y.nav.multiplier.current>16?Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current+10):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current+4):Y.nav.multiplier.current=Math.round(Y.nav.multiplier.current+1),Y.nav.multiplier.current>=Y.nav.multiplier.max&&(Y.nav.multiplier.current=Y.nav.multiplier.max),p())}function u(e){J.cancelSlide(),y(0),s()}function h(t){var i=0,a=0;t||(t=e.event),t.originalEvent&&(t=t.originalEvent),"undefined"!=typeof t.wheelDeltaX&&(i=t.wheelDeltaY/6,i=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX/6:0),i&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1),a=d.Lib.position(I).left+i,a>Y.nav.constraint.left?a=Y.width/2:a<Y.nav.constraint.right&&(a=Y.nav.constraint.right),d.Lib.css(I,"left",a)}function p(){a("config.nav.multiplier "+Y.nav.multiplier.current),x(!0),k(!0),E(P,te,!0,!0),E(N,ie,!0),Y.nav.constraint.left=Y.width/2,Y.nav.constraint.right=Y.nav.constraint.right_min-Y.width/2,J.updateConstraint(Y.nav.constraint)}function g(e){J.cancelSlide(),y(e.data.number),s()}function f(e){d.Lib.toggleClass(e.data.elem,"zFront")}function y(e,t,i,n,r){a("GO TO MARKER");var o=Y.ease,s=Y.duration,l=!1,m=!1;ne=e,oe.left=Y.width/2-ee[ne].pos_left,oe.visible.left=Math.abs(oe.left)-100,oe.visible.right=Math.abs(oe.left)+Y.width+100,0==ne&&(m=!0),ne+1==ee.length&&(l=!0),null!=t&&""!=t&&(o=t),null!=i&&""!=i&&(s=i);for(var c=0;c<ee.length;c++)d.Lib.removeClass(ee[c].marker,"active");Y.start_page&&"start"==ee[0].type&&(d.Lib.visible(ee[0].marker,!1),d.Lib.addClass(ee[0].marker,"start")),d.Lib.addClass(ee[ne].marker,"active"),d.Lib.stop(I),d.Lib.animate(I,s,o,{left:oe.left})}function v(){var e=0,t=0,i=0,a=[],n=0;for(n=0;n<ee.length;n++)if("start"!=K[n].type){var r=T(de,ee[n].relative_pos),e=t;t=r.begin,i=t-e,a.push(i)}return d.Util.average(a).mean}function b(){var e=Y.nav.multiplier.current,t=0;for(t=0;e>t;t++)v()<75&&Y.nav.multiplier.current>1&&(Y.nav.multiplier.current=Y.nav.multiplier.current-1)}function _(){var e=w(K[0].startdate),t=w(K[K.length-1].enddate);ue.eon.type="eon",ue.eon.first=e.eons,ue.eon.base=Math.floor(e.eons),ue.eon.last=t.eons,ue.eon.number=V.eons,ue.eon.multiplier=se.eons,ue.eon.minor=se.eons,ue.era.type="era",ue.era.first=e.eras,ue.era.base=Math.floor(e.eras),ue.era.last=t.eras,ue.era.number=V.eras,ue.era.multiplier=se.eras,ue.era.minor=se.eras,ue.epoch.type="epoch",ue.epoch.first=e.epochs,ue.epoch.base=Math.floor(e.epochs),ue.epoch.last=t.epochs,ue.epoch.number=V.epochs,ue.epoch.multiplier=se.epochs,ue.epoch.minor=se.epochs,ue.age.type="age",ue.age.first=e.ages,ue.age.base=Math.floor(e.ages),ue.age.last=t.ages,ue.age.number=V.ages,ue.age.multiplier=se.ages,ue.age.minor=se.ages,ue.millenium.type="millenium",ue.millenium.first=e.milleniums,ue.millenium.base=Math.floor(e.milleniums),ue.millenium.last=t.milleniums,ue.millenium.number=V.milleniums,ue.millenium.multiplier=se.millenium,ue.millenium.minor=se.millenium,ue.century.type="century",ue.century.first=e.centuries,ue.century.base=Math.floor(e.centuries),ue.century.last=t.centuries,ue.century.number=V.centuries,ue.century.multiplier=se.century,ue.century.minor=se.century,ue.decade.type="decade",ue.decade.first=e.decades,ue.decade.base=Math.floor(e.decades),ue.decade.last=t.decades,ue.decade.number=V.decades,ue.decade.multiplier=se.decade,ue.decade.minor=se.decade,ue.year.type="year",ue.year.first=e.years,ue.year.base=Math.floor(e.years),ue.year.last=t.years,ue.year.number=V.years,ue.year.multiplier=1,ue.year.minor=se.month,ue.month.type="month",ue.month.first=e.months,ue.month.base=Math.floor(e.months),ue.month.last=t.months,ue.month.number=V.months,ue.month.multiplier=1,ue.month.minor=Math.round(se.week),ue.week.type="week",ue.week.first=e.weeks,ue.week.base=Math.floor(e.weeks),ue.week.last=t.weeks,ue.week.number=V.weeks,ue.week.multiplier=1,ue.week.minor=7,ue.day.type="day",ue.day.first=e.days,ue.day.base=Math.floor(e.days),ue.day.last=t.days,ue.day.number=V.days,ue.day.multiplier=1,ue.day.minor=24,ue.hour.type="hour",ue.hour.first=e.hours,ue.hour.base=Math.floor(e.hours),ue.hour.last=t.hours,ue.hour.number=V.hours,ue.hour.multiplier=1,ue.hour.minor=60,ue.minute.type="minute",ue.minute.first=e.minutes,ue.minute.base=Math.floor(e.minutes),ue.minute.last=t.minutes,ue.minute.number=V.minutes,ue.minute.multiplier=1,ue.minute.minor=60,ue.second.type="decade",ue.second.first=e.seconds,ue.second.base=Math.floor(e.seconds),ue.second.last=t.seconds,ue.second.number=V.seconds,ue.second.multiplier=1,ue.second.minor=10}function w(e,t){var i={};return i.days=e/le.day,i.weeks=i.days/le.week,i.months=i.days/le.month,i.years=i.months/le.year,i.hours=i.days*le.hour,i.minutes=i.days*le.minute,i.seconds=i.days*le.second,i.decades=i.years/le.decade,i.centuries=i.years/le.century,i.milleniums=i.years/le.millenium,i.ages=i.years/le.age,i.epochs=i.years/le.epoch,i.eras=i.years/le.era,i.eons=i.years/le.eon,i}function M(e,t,i){var a,n,r=e.type,o={start:"",end:"",type:r};return a=w(t),o.start=t.months,"eon"==r?o.start=a.eons:"era"==r?o.start=a.eras:"epoch"==r?o.start=a.epochs:"age"==r?o.start=a.ages:"millenium"==r?o.start=t.milleniums:"century"==r?o.start=a.centuries:"decade"==r?o.start=a.decades:"year"==r?o.start=a.years:"month"==r?o.start=a.months:"week"==r?o.start=a.weeks:"day"==r?o.start=a.days:"hour"==r?o.start=a.hours:"minute"==r&&(o.start=a.minutes),"date"==c.of(i)?(n=w(i),o.end=i.months,"eon"==r?o.end=n.eons:"era"==r?o.end=n.eras:"epoch"==r?o.end=n.epochs:"age"==r?o.end=n.ages:"millenium"==r?o.end=i.milleniums:"century"==r?o.end=n.centuries:"decade"==r?o.end=n.decades:"year"==r?o.end=n.years:"month"==r?o.end=n.months:"week"==r?o.end=n.weeks:"day"==r?o.end=n.days:"hour"==r?o.end=n.hours:"minute"==r&&(o.end=n.minutes)):o.end=o.start,o}function T(e,t){return{begin:(t.start-de.base)*(Y.nav.interval_width/Y.nav.multiplier.current),
end:(t.end-de.base)*(Y.nav.interval_width/Y.nav.multiplier.current)}}function x(e){var t=2,i=0,n=-2,r=0,o=150,s=6,l=0,m=Y.width,c=[],u=6,h={left:oe.visible.left-m,right:oe.visible.right+m},p=0,g=0;for(Y.nav.minor_width=Y.width,d.Lib.removeClass(".flag","row1"),d.Lib.removeClass(".flag","row2"),d.Lib.removeClass(".flag","row3"),p=0;p<ee.length;p++){var f,y=ee[p],v=T(de,ee[p].relative_pos),b=0,_=!1,w={id:p,pos:0,row:0};if(v.begin=Math.round(v.begin+n),v.end=Math.round(v.end+n),f=Math.round(v.end-v.begin),y.pos_left=v.begin,ne==p&&(oe.left=Y.width/2-v,oe.visible.left=Math.abs(oe.left),oe.visible.right=Math.abs(oe.left)+Y.width,h.left=oe.visible.left-m,h.right=oe.visible.right+m),Math.abs(v.begin)>=h.left&&Math.abs(v.begin)<=h.right&&(_=!0),e?(d.Lib.stop(y.marker),d.Lib.animate(y.marker,Y.duration/2,Y.ease,{left:v.begin})):(d.Lib.stop(y.marker),d.Lib.css(y.marker,"left",v.begin)),p==ne&&(l=v.begin),f>5&&(d.Lib.css(y.lineevent,"height",s),d.Lib.css(y.lineevent,"top",o),e?d.Lib.animate(y.lineevent,Y.duration/2,Y.ease,{width:f}):d.Lib.css(y.lineevent,"width",f)),ae.length>0){for(g=0;g<ae.length;g++)g<Y.nav.rows.current.length&&y.tag==ae[g]&&(t=g,g==Y.nav.rows.current.length-1&&(a("ON LAST ROW"),d.Lib.addClass(y.flag,"flag-small-last")));b=Y.nav.rows.current[t]}else v.begin-i.begin<Y.nav.marker.width+Y.spacing?t<Y.nav.rows.current.length-1?t++:(t=0,r++):(r=1,t=1),b=Y.nav.rows.current[t];i=v,w.pos=v,w.row=t,c.push(w),c.length>u&&d.Util.removeRange(c,0),e?(d.Lib.stop(y.flag),d.Lib.animate(y.flag,Y.duration,Y.ease,{top:b})):(d.Lib.stop(y.flag),d.Lib.css(y.flag,"top",b)),Y.start_page&&"start"==ee[p].type&&d.Lib.visible(y.marker,!1),v>Y.nav.minor_width&&(Y.nav.minor_width=v),v<Y.nav.minor_left&&(Y.nav.minor_left=v)}e&&(d.Lib.stop(I),d.Lib.animate(I,Y.duration/2,Y.ease,{left:Y.width/2-l}))}function k(e){var t=0,i=0;for(t=0;t<X.length;t++){var a=X[t],n=T(de,a.relative_pos),r=0,o=0,s=Y.nav.marker.height*Y.nav.rows.full.length,l=n.end-n.begin;if(""!=a.tag){for(s=Y.nav.marker.height*Y.nav.rows.full.length/Y.nav.rows.current.length,i=0;i<ae.length;i++)i<Y.nav.rows.current.length&&a.tag==ae[i]&&(o=i);r=Y.nav.rows.current[o]}else r=-1;e?(d.Lib.stop(a.content),d.Lib.stop(a.text_content),d.Lib.animate(a.content,Y.duration/2,Y.ease,{top:r,left:n.begin,width:l,height:s}),d.Lib.animate(a.text_content,Y.duration/2,Y.ease,{left:n.begin})):(d.Lib.stop(a.content),d.Lib.stop(a.text_content),d.Lib.css(a.content,"left",n.begin),d.Lib.css(a.content,"width",l),d.Lib.css(a.content,"height",s),d.Lib.css(a.content,"top",r),d.Lib.css(a.text_content,"left",n.begin))}}function E(e,t,n,r){var o=0,s=Y.width,l={left:oe.visible.left-s,right:oe.visible.right+s};for(not_too_many=!0,i=0,Y.nav.minor_left=0,t.length>100&&(not_too_many=!1,a("TOO MANY "+t.length)),i=0;i<t.length;i++){var m=t[i].element,c=(t[i].date,t[i].visible),u=T(de,t[i].relative_pos),h=u.begin,p=t[i].animation,g=!0,f=!1;p.pos=h,p.animate=!1,Math.abs(h)>=l.left&&Math.abs(h)<=l.right&&(f=!0),Y.nav.multiplier.current>16&&r?g=!1:65>h-o&&(35>h-o?i%4==0?0==h&&(g=!1):g=!1:d.Util.isEven(i)||(g=!1)),g?t[i].is_detached&&(d.Lib.append(e,m),t[i].is_detached=!1):(t[i].is_detached=!0,d.Lib.detach(m)),c?g?(p.opacity="100",n&&f&&(p.animate=!0)):(p.opacity="0",n&&not_too_many&&(p.animate=!0),t[i].interval_visible=!1):(p.opacity="100",g?(n&&not_too_many?p.animate=!0:n&&f&&(p.animate=!0),t[i].interval_visible=!0):n&&not_too_many&&(p.animate=!0)),o=h,h>Y.nav.minor_width&&(Y.nav.minor_width=h),h<Y.nav.minor_left&&(Y.nav.minor_left=h),p.animate?d.Lib.animate(m,Y.duration/2,Y.ease,{opacity:p.opacity,left:p.pos}):(d.Lib.css(m,"opacity",p.opacity),d.Lib.css(m,"left",h))}Y.nav.constraint.right_min=-Y.nav.minor_width+Y.width,Y.nav.constraint.right=Y.nav.constraint.right_min+Y.width/2,d.Lib.css(Q,"left",Y.nav.minor_left-Y.width/2),d.Lib.width(Q,Y.nav.minor_width+Y.width+Math.abs(Y.nav.minor_left))}function L(e,t,i){var n,r,o=0,s=!0,l=0,m=0,c=Math.ceil(e.number)+2,u={flag:!1,offset:0},h=0;for(d.attachElement(i,""),e.date=new Date(K[0].startdate.getFullYear(),0,1,0,0,0),n=e.date.getTimezoneOffset(),h=0;c>h;h++){a(e.type);var p=!1,g={element:d.appendAndGetElement(i,"<div>",e.classname),date:new Date(K[0].startdate.getFullYear(),0,1,0,0,0),visible:!1,date_string:"",type:e.interval_type,relative_pos:0,is_detached:!1,animation:{animate:!1,pos:"",opacity:"100"}};"eon"==e.type?(s&&(r=5e8*Math.floor(K[0].startdate.getFullYear()/5e8)),g.date.setFullYear(r+5e8*o),p=!0):"era"==e.type?(s&&(r=1e8*Math.floor(K[0].startdate.getFullYear()/1e8)),g.date.setFullYear(r+1e8*o),p=!0):"epoch"==e.type?(s&&(r=1e7*Math.floor(K[0].startdate.getFullYear()/1e7)),g.date.setFullYear(r+1e7*o),p=!0):"age"==e.type?(s&&(r=1e6*Math.floor(K[0].startdate.getFullYear()/1e6)),g.date.setFullYear(r+1e6*o),p=!0):"millenium"==e.type?(s&&(r=1e3*Math.floor(K[0].startdate.getFullYear()/1e3)),g.date.setFullYear(r+1e3*o),p=!0):"century"==e.type?(s&&(r=100*Math.floor(K[0].startdate.getFullYear()/100)),g.date.setFullYear(r+100*o),p=!0):"decade"==e.type?(s&&(r=10*Math.floor(K[0].startdate.getFullYear()/10)),g.date.setFullYear(r+10*o),p=!0):"year"==e.type?(s&&(r=K[0].startdate.getFullYear()),g.date.setFullYear(r+o),p=!0):"month"==e.type?(s&&(r=K[0].startdate.getMonth()),g.date.setMonth(r+o)):"week"==e.type?(s&&(r=K[0].startdate.getMonth()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(r+7*o)):"day"==e.type?(s&&(r=K[0].startdate.getDate()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(r+o)):"hour"==e.type?(s&&(r=K[0].startdate.getHours()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(r+o)):"minute"==e.type?(s&&(r=K[0].startdate.getMinutes()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(K[0].startdate.getHours()),g.date.setMinutes(r+o)):"second"==e.type?(s&&(r=K[0].startdate.getSeconds()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(K[0].startdate.getHours()),g.date.setMinutes(K[0].startdate.getMinutes()),g.date.setSeconds(r+o)):"millisecond"==e.type&&(s&&(r=K[0].startdate.getMilliseconds()),g.date.setMonth(K[0].startdate.getMonth()),g.date.setDate(K[0].startdate.getDate()),g.date.setHours(K[0].startdate.getHours()),g.date.setMinutes(K[0].startdate.getMinutes()),g.date.setSeconds(K[0].startdate.getSeconds()),g.date.setMilliseconds(r+o)),"Firefox"==d.Browser.browser&&("1970"==g.date.getFullYear()&&g.date.getTimezoneOffset()!=n?(a("FIREFOX 1970 TIMEZONE OFFSET "+g.date.getTimezoneOffset()+" SHOULD BE "+n),a(e.type+" "+e.date),u.offset=g.date.getTimezoneOffset()/60,u.flag=!0,g.date.setHours(g.date.getHours()+u.offset)):u.flag&&(u.flag=!1,g.date.setHours(g.date.getHours()+u.offset),p&&(u.flag=!0))),p?g.date.getFullYear()<0?g.date_string=Math.abs(g.date.getFullYear()).toString()+" B.C.":g.date_string=g.date.getFullYear():g.date_string=d.Date.prettyDate(g.date,!0),o+=1,s=!1,g.relative_pos=M(de,g.date),l=g.relative_pos.begin,g.relative_pos.begin>m&&(m=g.relative_pos.begin),d.appendElement(g.element,g.date_string),d.Lib.css(g.element,"text-indent",-(d.Lib.width(g.element)/2)),d.Lib.css(g.element,"opacity","0"),t.push(g)}d.Lib.width(Q,m),E(i,t)}function j(){var e=0,t=0;if(d.attachElement(Z,""),I=d.appendAndGetElement(Z,"<div>","timenav"),O=d.appendAndGetElement(I,"<div>","content"),C=d.appendAndGetElement(I,"<div>","time"),H=d.appendAndGetElement(C,"<div>","time-interval-minor"),Q=d.appendAndGetElement(H,"<div>","minor"),N=d.appendAndGetElement(C,"<div>","time-interval-major"),P=d.appendAndGetElement(C,"<div>","time-interval"),R=d.appendAndGetElement(Z,"<div>","timenav-background"),z=d.appendAndGetElement(R,"<div>","timenav-line"),F=d.appendAndGetElement(R,"<div>","timenav-indicator"),U=d.appendAndGetElement(R,"<div>","timenav-interval-background","<div class='top-highlight'></div>"),q=d.appendAndGetElement(Z,"<div>","vco-toolbar"),A(),D(),S(),b(),x(!1),k(),E(P,te,!1,!0),E(N,ie),Y.start_page&&($backhome=d.appendAndGetElement(q,"<div>","back-home","<div class='icon'></div>"),d.bindEvent(".back-home",u,"click"),d.Lib.attribute($backhome,"title",d.master_config.language.messages.return_to_title),d.Lib.attribute($backhome,"rel","timeline-tooltip")),J=new d.DragSlider,J.createPanel(Z,I,Y.nav.constraint,Y.touch),Y.touch&&Y.start_page?(d.Lib.addClass(q,"touch"),d.Lib.css(q,"top",55),d.Lib.css(q,"left",10)):(Y.start_page&&d.Lib.css(q,"top",27),$=d.appendAndGetElement(q,"<div>","zoom-in","<div class='icon'></div>"),G=d.appendAndGetElement(q,"<div>","zoom-out","<div class='icon'></div>"),d.bindEvent($,l,"click"),d.bindEvent(G,m,"click"),d.Lib.attribute($,"title",d.master_config.language.messages.expand_timeline),d.Lib.attribute($,"rel","timeline-tooltip"),d.Lib.attribute(G,"title",d.master_config.language.messages.contract_timeline),d.Lib.attribute(G,"rel","timeline-tooltip"),q.tooltip({selector:"div[rel=timeline-tooltip]",placement:"right"}),d.bindEvent(Z,h,"DOMMouseScroll"),d.bindEvent(Z,h,"mousewheel")),0!=Y.nav.zoom.adjust)if(Y.nav.zoom.adjust<0)for(e=0;e<Math.abs(Y.nav.zoom.adjust);e++)m();else for(t=0;t<Y.nav.zoom.adjust;t++)l();re=!0,o(!0),d.fireEvent(Z,"LOADED")}function A(){var e=0,t=0;for(V=w(K[K.length-1].enddate-K[0].startdate,!0),a(V),_(),V.centuries>K.length/Y.nav.density?(de=ue.century,me=ue.millenium,ce=ue.decade):V.decades>K.length/Y.nav.density?(de=ue.decade,me=ue.century,ce=ue.year):V.years>K.length/Y.nav.density?(de=ue.year,me=ue.decade,ce=ue.month):V.months>K.length/Y.nav.density?(de=ue.month,me=ue.year,ce=ue.day):V.days>K.length/Y.nav.density?(de=ue.day,me=ue.month,ce=ue.hour):V.hours>K.length/Y.nav.density?(de=ue.hour,me=ue.day,ce=ue.minute):V.minutes>K.length/Y.nav.density?(de=ue.minute,me=ue.hour,ce=ue.second):V.seconds>K.length/Y.nav.density?(de=ue.second,me=ue.minute,ce=ue.second):(a("NO IDEA WHAT THE TYPE SHOULD BE"),de=ue.day,me=ue.month,ce=ue.hour),a("INTERVAL TYPE: "+de.type),a("INTERVAL MAJOR TYPE: "+me.type),L(de,te,P),L(me,ie,N),e=0;e<te.length;e++)for(t=0;t<ie.length;t++)te[e].date_string==ie[t].date_string&&d.attachElement(te[e].element,"")}function D(){var e=0,t=0,i=0;for(ee=[],X=[],e=0;e<K.length;e++){var n,r,o,s,l,m,c,u="",h=!1;if(n=d.appendAndGetElement(O,"<div>","marker"),r=d.appendAndGetElement(n,"<div>","flag"),o=d.appendAndGetElement(r,"<div>","flag-content"),s=d.appendAndGetElement(n,"<div>","dot"),l=d.appendAndGetElement(n,"<div>","line"),m=d.appendAndGetElement(l,"<div>","event-line"),_marker_relative_pos=M(de,K[e].startdate,K[e].enddate),_marker_thumb="",null!=K[e].asset&&""!=K[e].asset?d.appendElement(o,d.MediaElement.thumbnail(K[e].asset,24,24,K[e].uniqueid)):d.appendElement(o,"<div style='margin-right:7px;height:50px;width:2px;float:left;'></div>"),""==K[e].title||" "==K[e].title)if(a("TITLE NOTHING"),"undefined"!=typeof K[e].slug&&""!=K[e].slug)a("SLUG"),u=d.Util.untagify(K[e].slug),h=!0;else{var p=d.MediaType(K[e].asset.media);"quote"==p.type||"unknown"==p.type?(u=d.Util.untagify(p.id),h=!0):h=!1}else""!=K[e].title||" "!=K[e].title?(a(K[e].title),u=d.Util.untagify(K[e].title),h=!0):a("TITLE SLUG NOT FOUND "+K[e].slug);h?d.appendElement(o,"<h3>"+u+"</h3>"):(d.appendElement(o,"<h3>"+u+"</h3>"),d.appendElement(o,"<h3 id='marker_content_"+K[e].uniqueid+"'>"+u+"</h3>")),d.Lib.attr(n,"id",("marker_"+K[e].uniqueid).toString()),d.bindEvent(r,g,"",{number:e}),d.bindEvent(r,f,"mouseenter mouseleave",{number:e,elem:r}),c={marker:n,flag:r,lineevent:m,type:"marker",full:!0,relative_pos:_marker_relative_pos,tag:K[e].tag,pos_left:0},"start"==K[e].type&&(a("BUILD MARKER HAS START PAGE"),Y.start_page=!0,c.type="start"),"storify"==K[e].type&&(c.type="storify"),K[e].tag&&ae.push(K[e].tag),ee.push(c)}for(ae=d.Util.deDupeArray(ae),ae.length>3?Y.nav.rows.current=Y.nav.rows.half:Y.nav.rows.current=Y.nav.rows.full,t=0;t<ae.length;t++)if(t<Y.nav.rows.current.length){var y=d.appendAndGetElement(R,"<div>","timenav-tag");d.Lib.addClass(y,"timenav-tag-row-"+(t+1)),ae.length>3?d.Lib.addClass(y,"timenav-tag-size-half"):d.Lib.addClass(y,"timenav-tag-size-full"),d.appendElement(y,"<div><h3>"+ae[t]+"</h3></div>")}if(ae.length>3)for(i=0;i<ee.length;i++)d.Lib.addClass(ee[i].flag,"flag-small"),ee[i].full=!1}function S(){var e=6,t=0,i=0;for(i=0;i<W.length;i++){var a={content:d.appendAndGetElement(O,"<div>","era"),text_content:d.appendAndGetElement(P,"<div>","era"),startdate:d.Date.parse(W[i].startDate),enddate:d.Date.parse(W[i].endDate),title:W[i].headline,uniqueid:d.Util.unique_ID(6),tag:"",relative_pos:""},n=(d.Date.prettyDate(a.startdate),d.Date.prettyDate(a.enddate),"<div>&nbsp;</div>");"undefined"!=typeof W[i].tag&&(a.tag=W[i].tag),a.relative_pos=M(de,a.startdate,a.enddate),d.Lib.attr(a.content,"id",a.uniqueid),d.Lib.attr(a.text_content,"id",a.uniqueid+"_text"),d.Lib.addClass(a.content,"era"+(t+1)),d.Lib.addClass(a.text_content,"era"+(t+1)),e>t?t++:t=0,d.appendElement(a.content,n),d.appendElement(a.text_content,d.Util.unlinkify(a.title)),X.push(a)}}a("VMM.Timeline.TimeNav");var I,O,C,H,P,N,R,U,z,F,Q,q,$,G,J,B,W,Y=d.Timeline.Config,V={},Z=t,K=[],X=[],ee=[],te=[],ie=[],ae=[],ne=0,re=!1,oe={left:"",visible:{left:"",right:""}},se={day:24,month:12,year:10,hour:60,minute:60,second:1e3,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8,week:4.34812141,days_in_month:30.4368499,days_in_week:7,weeks_in_month:4.34812141,weeks_in_year:52.177457,days_in_year:365.242199,hours_in_day:24},le={day:864e5,week:7,month:30.4166666667,year:12,hour:24,minute:1440,second:86400,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8},de={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_idd",interval_type:"interval"},me={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"major",interval_type:"interval major"},ce={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_dd_minor",interval_type:"interval minor"},ue={day:{},month:{},year:{},hour:{},minute:{},second:{},decade:{},century:{},millenium:{},week:{},age:{},epoch:{},era:{},eon:{}};B=Y.nav.marker.height/2,Y.nav.rows={full:[1,2*B,4*B],half:[1,B,2*B,3*B,4*B,5*B],current:[]},null!=n&&""!=n&&(Y.nav.width=n),null!=r&&""!=r&&(Y.nav.height=r),this.init=function(e,t){a("VMM.Timeline.TimeNav init"),"undefined"!=typeof e?this.setData(e,t):a("WAITING ON DATA")},this.setData=function(e,t){"undefined"!=typeof e?(K={},K=e,W=t,j()):a("NO DATA")},this.setSize=function(e,t){null!=e&&(Y.width=e),null!=t&&(Y.height=t),re&&o()},this.setMarker=function(e,t,i,a){y(e,t,i)},this.getCurrentNumber=function(){return ne}}),"undefined"!=typeof d.Timeline&&"undefined"==typeof d.Timeline.DataObj&&(d.Timeline.DataObj={data_obj:{},model_array:[],getData:function(e){if(d.Timeline.DataObj.data_obj={},d.fireEvent(l,d.Timeline.Config.events.messege,d.Timeline.Config.language.messages.loading_timeline),"object"==c.of(e))a("DATA SOURCE: JSON OBJECT"),d.Timeline.DataObj.parseJSON(e);else if("string"==c.of(e))if(e.match("%23"))a("DATA SOURCE: TWITTER SEARCH"),d.Timeline.DataObj.model.tweets.getData("%23medill");else if(e.match("spreadsheet"))a("DATA SOURCE: GOOGLE SPREADSHEET"),d.Timeline.DataObj.model.googlespreadsheet.getData(e);else if(e.match("storify.com"))a("DATA SOURCE: STORIFY"),d.Timeline.DataObj.model.storify.getData(e);else if(e.match(".jsonp"))a("DATA SOURCE: JSONP"),LoadLib.js(e,d.Timeline.DataObj.onJSONPLoaded);else{a("DATA SOURCE: JSON");var t="";t=e.indexOf("?")>-1?e+"&callback=onJSONP_Data":e+"?callback=onJSONP_Data",d.getJSON(t,d.Timeline.DataObj.parseJSON)}else"html"==c.of(e)?(a("DATA SOURCE: HTML"),d.Timeline.DataObj.parseHTML(e)):a("DATA SOURCE: UNKNOWN")},onJSONPLoaded:function(){a("JSONP IS LOADED"),d.fireEvent(l,d.Timeline.Config.events.data_ready,storyjs_jsonp_data)},parseHTML:function(e){a("parseHTML"),a("WARNING: THIS IS STILL ALPHA AND WILL NOT WORK WITH ID's other than #timeline");var t=d.Timeline.DataObj.data_template_obj;if(d.Lib.find("#timeline section","time")[0]){t.timeline.startDate=d.Lib.html(d.Lib.find("#timeline section","time")[0]),t.timeline.headline=d.Lib.html(d.Lib.find("#timeline section","h2")),t.timeline.text=d.Lib.html(d.Lib.find("#timeline section","article"));var i=!1;0!=d.Lib.find("#timeline section","figure img").length?(i=!0,t.timeline.asset.media=d.Lib.attr(d.Lib.find("#timeline section","figure img"),"src")):0!=d.Lib.find("#timeline section","figure a").length&&(i=!0,t.timeline.asset.media=d.Lib.attr(d.Lib.find("#timeline section","figure a"),"href")),i&&(0!=d.Lib.find("#timeline section","cite").length&&(t.timeline.asset.credit=d.Lib.html(d.Lib.find("#timeline section","cite"))),0!=d.Lib.find(this,"figcaption").length&&(t.timeline.asset.caption=d.Lib.html(d.Lib.find("#timeline section","figcaption"))))}d.Lib.each("#timeline li",function(e,i){var n=!1,r={type:"default",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};if(0!=d.Lib.find(this,"time")){n=!0,r.startDate=d.Lib.html(d.Lib.find(this,"time")[0]),d.Lib.find(this,"time")[1]&&(r.endDate=d.Lib.html(d.Lib.find(this,"time")[1])),r.headline=d.Lib.html(d.Lib.find(this,"h3")),r.text=d.Lib.html(d.Lib.find(this,"article"));var o=!1;0!=d.Lib.find(this,"figure img").length?(o=!0,r.asset.media=d.Lib.attr(d.Lib.find(this,"figure img"),"src")):0!=d.Lib.find(this,"figure a").length&&(o=!0,r.asset.media=d.Lib.attr(d.Lib.find(this,"figure a"),"href")),o&&(0!=d.Lib.find(this,"cite").length&&(r.asset.credit=d.Lib.html(d.Lib.find(this,"cite"))),0!=d.Lib.find(this,"figcaption").length&&(r.asset.caption=d.Lib.html(d.Lib.find(this,"figcaption")))),a(r),t.timeline.date.push(r)}}),d.fireEvent(l,d.Timeline.Config.events.data_ready,t)},parseJSON:function(e){a("parseJSON"),"default"==e.timeline.type?(a("DATA SOURCE: JSON STANDARD TIMELINE"),d.fireEvent(l,d.Timeline.Config.events.data_ready,e)):"twitter"==e.timeline.type?(a("DATA SOURCE: JSON TWEETS"),d.Timeline.DataObj.model_Tweets.buildData(e)):(a("DATA SOURCE: UNKNOWN JSON"),a(c.of(e.timeline)))},model:{googlespreadsheet:{getData:function(e){function t(){i=d.getJSON(o,function(e){clearTimeout(s),d.Timeline.DataObj.model.googlespreadsheet.buildData(e)}).error(function(e,t,i){return 400==e.status?(d.fireEvent(l,d.Timeline.Config.events.messege,"Error reading Google spreadsheet. Check the URL and make sure it's published to the web."),void clearTimeout(s)):(a("Google Docs ERROR"),void a("Google Docs ERROR: "+t+" "+e.responseText))}).success(function(e){clearTimeout(s)})}var i,n,r,o,s,m=0;n=d.Util.getUrlVars(e).key,r=d.Util.getUrlVars(e).worksheet,"undefined"==typeof r&&(r="od6"),o="https://spreadsheets.google.com/feeds/list/"+n+"/"+r+"/public/values?alt=json",s=setTimeout(function(){a("Google Docs timeout "+o),a(o),3>m?(d.fireEvent(l,d.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+m),m++,i.abort(),t()):d.fireEvent(l,d.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),t()},buildData:function(e){function t(e){return"undefined"!=typeof e?e.$t:""}var i=d.Timeline.DataObj.data_template_obj,n=!1;if(d.fireEvent(l,d.Timeline.Config.events.messege,"Parsing Google Doc Data"),"undefined"==typeof e.feed.entry)d.fireEvent(l,d.Timeline.Config.events.messege,"Error parsing spreadsheet. Make sure you have no blank rows and that the headers have not been changed.");else{n=!0;for(var r=0;r<e.feed.entry.length;r++){var o=e.feed.entry[r],s="";if("undefined"!=typeof o.gsx$type?s=o.gsx$type.$t:"undefined"!=typeof o.gsx$titleslide&&(s=o.gsx$titleslide.$t),s.match("start")||s.match("title"))i.timeline.startDate=t(o.gsx$startdate),i.timeline.headline=t(o.gsx$headline),i.timeline.asset.media=t(o.gsx$media),i.timeline.asset.caption=t(o.gsx$mediacaption),i.timeline.asset.credit=t(o.gsx$mediacredit),i.timeline.text=t(o.gsx$text),i.timeline.type="google spreadsheet";else if(s.match("era")){var m={startDate:t(o.gsx$startdate),endDate:t(o.gsx$enddate),headline:t(o.gsx$headline),text:t(o.gsx$text),tag:t(o.gsx$tag)};i.timeline.era.push(m)}else{var c={type:"google spreadsheet",startDate:t(o.gsx$startdate),endDate:t(o.gsx$enddate),headline:t(o.gsx$headline),text:t(o.gsx$text),tag:t(o.gsx$tag),asset:{media:t(o.gsx$media),credit:t(o.gsx$mediacredit),caption:t(o.gsx$mediacaption),thumbnail:t(o.gsx$mediathumbnail)}};i.timeline.date.push(c)}}}n?(d.fireEvent(l,d.Timeline.Config.events.messege,"Finished Parsing Data"),d.fireEvent(l,d.Timeline.Config.events.data_ready,i)):(d.fireEvent(l,d.Timeline.Config.events.messege,d.Language.messages.loading+" Google Doc Data (cells)"),a("There may be too many entries. Still trying to load data. Now trying to load cells to avoid Googles limitation on cells"),d.Timeline.DataObj.model.googlespreadsheet.getDataCells(e.feed.link[0].href))},getDataCells:function(e){function t(){i=d.getJSON(r,function(e){clearTimeout(o),d.Timeline.DataObj.model.googlespreadsheet.buildDataCells(e)}).error(function(e,t,i){a("Google Docs ERROR"),a("Google Docs ERROR: "+t+" "+e.responseText)}).success(function(e){clearTimeout(o)})}var i,n,r,o,s=0;n=d.Util.getUrlVars(e).key,r="https://spreadsheets.google.com/feeds/cells/"+n+"/od6/public/values?alt=json",o=setTimeout(function(){a("Google Docs timeout "+r),a(r),3>s?(d.fireEvent(l,d.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+s),s++,i.abort(),t()):d.fireEvent(l,d.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),t()},buildDataCells:function(e){function t(e){return"undefined"!=typeof e?e.$t:""}var i=d.Timeline.DataObj.data_template_obj,n=!1,r=["timeline"],o=[],s=0,m=0;if(d.fireEvent(l,d.Timeline.Config.events.messege,d.Language.messages.loading_timeline+" Parsing Google Doc Data (cells)"),"undefined"!=typeof e.feed.entry){for(n=!0,m=0;m<e.feed.entry.length;m++){var c=e.feed.entry[m];parseInt(c.gs$cell.row)>s&&(s=parseInt(c.gs$cell.row))}for(var m=0;s+1>m;m++){var u={type:"",startDate:"",endDate:"",headline:"",text:"",tag:"",asset:{media:"",credit:"",caption:"",thumbnail:""}};o.push(u)}for(m=0;m<e.feed.entry.length;m++){var c=e.feed.entry[m],h="",p={content:t(c.gs$cell),col:c.gs$cell.col,row:c.gs$cell.row,name:""};1==p.row?("Start Date"==p.content?h="startDate":"End Date"==p.content?h="endDate":"Headline"==p.content?h="headline":"Text"==p.content?h="text":"Media"==p.content?h="media":"Media Credit"==p.content?h="credit":"Media Caption"==p.content?h="caption":"Media Thumbnail"==p.content?h="thumbnail":"Type"==p.content?h="type":"Tag"==p.content&&(h="tag"),r.push(h)):(p.name=r[p.col],o[p.row][p.name]=p.content)}for(m=0;m<o.length;m++){var u=o[m];if(u.type.match("start")||u.type.match("title"))i.timeline.startDate=u.startDate,i.timeline.headline=u.headline,i.timeline.asset.media=u.media,i.timeline.asset.caption=u.caption,i.timeline.asset.credit=u.credit,i.timeline.text=u.text,i.timeline.type="google spreadsheet";else if(u.type.match("era")){var g={startDate:u.startDate,endDate:u.endDate,headline:u.headline,text:u.text,tag:u.tag};i.timeline.era.push(g)}else if(u.startDate){var u={type:"google spreadsheet",startDate:u.startDate,endDate:u.endDate,headline:u.headline,text:u.text,tag:u.tag,asset:{media:u.media,credit:u.credit,caption:u.caption,thumbnail:u.thumbnail}};i.timeline.date.push(u)}else a("Skipping item "+m+" in list: no start date.")}}n=i.timeline.date.length>0,n?(d.fireEvent(l,d.Timeline.Config.events.messege,"Finished Parsing Data"),d.fireEvent(l,d.Timeline.Config.events.data_ready,i)):d.fireEvent(l,d.Timeline.Config.events.messege,"Unable to load Google Doc data source. Make sure you have no blank rows and that the headers have not been changed.")}},storify:{getData:function(e){var t,i,n;d.fireEvent(l,d.Timeline.Config.events.messege,"Loading Storify..."),t=e.split("storify.com/")[1],i="//api.storify.com/v1/stories/"+t+"?per_page=300&callback=?",n=setTimeout(function(){a("STORIFY timeout"),d.fireEvent(l,d.Timeline.Config.events.messege,"Storify is not responding")},6e3),d.getJSON(i,d.Timeline.DataObj.model.storify.buildData).error(function(e,t,i){a("STORIFY error"),a("STORIFY ERROR: "+t+" "+e.responseText)}).success(function(e){clearTimeout(n)})},buildData:function(e){d.fireEvent(l,d.Timeline.Config.events.messege,"Parsing Data");var t=d.Timeline.DataObj.data_template_obj;t.timeline.startDate=new Date(e.content.date.created),t.timeline.headline=e.content.title,a(e);var i="",n=e.content.author.username,r="";"undefined"!=typeof e.content.author.name&&(n=e.content.author.name,r=e.content.author.username+"&nbsp;"),"undefined"!=typeof e.content.description&&null!=e.content.description&&(i+=e.content.description),i+="<div class='storify'>",i+="<div class='vcard author'><a class='screen-name url' href='"+e.content.author.permalink+"' target='_blank'>",i+="<span class='avatar'><img src='"+e.content.author.avatar+"' style='max-width: 32px; max-height: 32px;'></span>",i+="<span class='fn'>"+n+"</span>",i+="<span class='nickname'>"+r+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",i+="</div>",t.timeline.text=i,t.timeline.asset.media=e.content.thumbnail,t.timeline.type="storify";for(var o=0;o<e.content.elements.length;o++){var s=e.content.elements[o],m=!1;new Date(s.posted_at);a(s.type);var c={type:"storify",startDate:s.posted_at,endDate:s.posted_at,headline:" ",slug:"",text:"",asset:{media:"",credit:"",caption:""}};if("image"==s.type)"undefined"!=typeof s.source.name?"flickr"==s.source.name?(c.asset.media="//flickr.com/photos/"+s.meta.pathalias+"/"+s.meta.id+"/",c.asset.credit="<a href='"+c.asset.media+"'>"+s.attribution.name+"</a>",c.asset.credit+=" on <a href='"+s.source.href+"'>"+s.source.name+"</a>"):"instagram"==s.source.name?(c.asset.media=s.permalink,c.asset.credit="<a href='"+s.permalink+"'>"+s.attribution.name+"</a>",c.asset.credit+=" on <a href='"+s.source.href+"'>"+s.source.name+"</a>"):(c.asset.credit="<a href='"+s.permalink+"'>"+s.attribution.name+"</a>","undefined"!=typeof s.source.href&&(c.asset.credit+=" on <a href='"+s.source.href+"'>"+s.source.name+"</a>"),c.asset.media=s.data.image.src):(c.asset.credit="<a href='"+s.permalink+"'>"+s.attribution.name+"</a>",c.asset.media=s.data.image.src),c.slug=s.attribution.name,"undefined"!=typeof s.data.image.caption&&"undefined"!=s.data.image.caption&&(c.asset.caption=s.data.image.caption,c.slug=s.data.image.caption);else if("quote"==s.type)s.permalink.match("twitter")?(c.asset.media=s.permalink,c.slug=d.Util.untagify(s.data.quote.text)):s.permalink.match("storify")&&(m=!0,c.asset.media="<blockquote>"+s.data.quote.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</blockquote>");else if("link"==s.type)c.headline=s.data.link.title,c.text=s.data.link.description,"undefined"!=s.data.link.thumbnail&&""!=s.data.link.thumbnail?c.asset.media=s.data.link.thumbnail:c.asset.media=s.permalink,c.asset.caption="<a href='"+s.permalink+"' target='_blank'>"+s.data.link.title+"</a>",c.slug=s.data.link.title;else if("text"==s.type){if(s.permalink.match("storify")){m=!0;e.content.author.username;"undefined"!=typeof s.attribution.name&&(n=s.attribution.name,r=s.attribution.username+"&nbsp;");var u="<div class='storify'>";u+="<blockquote><p>"+s.data.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</p></blockquote>",u+="<div class='vcard author'><a class='screen-name url' href='"+s.attribution.href+"' target='_blank'>",u+="<span class='avatar'><img src='"+s.attribution.thumbnail+"' style='max-width: 32px; max-height: 32px;'></span>",u+="<span class='fn'>"+n+"</span>",u+="<span class='nickname'>"+r+"<span class='thumbnail-inline'></span></span>",u+="</a></div></div>",c.text=u,o+1>=e.content.elements.length?c.startDate=e.content.elements[o-1].posted_at:"text"==e.content.elements[o+1].type&&e.content.elements[o+1].permalink.match("storify")?o+2>=e.content.elements.length?c.startDate=e.content.elements[o-1].posted_at:"text"==e.content.elements[o+2].type&&e.content.elements[o+2].permalink.match("storify")?o+3>=e.content.elements.length?c.startDate=e.content.elements[o-1].posted_at:"text"==e.content.elements[o+3].type&&e.content.elements[o+3].permalink.match("storify")?c.startDate=e.content.elements[o-1].posted_at:(a("LEVEL 3"),c.startDate=e.content.elements[o+3].posted_at):(a("LEVEL 2"),c.startDate=e.content.elements[o+2].posted_at):(a("LEVEL 1"),c.startDate=e.content.elements[o+1].posted_at),c.endDate=c.startDate}}else"video"==s.type?(c.headline=s.data.video.title,c.asset.caption=s.data.video.description,c.asset.caption=s.source.username,c.asset.media=s.data.video.src):(a("NO MATCH "),a(s));m&&(c.slug=d.Util.untagify(s.data.text)),t.timeline.date.push(c)}d.fireEvent(l,d.Timeline.Config.events.data_ready,t)}},tweets:{type:"twitter",buildData:function(e){d.bindEvent(l,d.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),d.ExternalAPI.twitter.getTweets(e.timeline.tweets)},getData:function(e){d.bindEvent(l,d.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),d.ExternalAPI.twitter.getTweetSearch(e)},onTwitterDataReady:function(e,t){for(var i=d.Timeline.DataObj.data_template_obj,a=0;a<t.tweetdata.length;a++){var n={type:"tweets",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};n.startDate=t.tweetdata[a].raw.created_at,c.of(t.tweetdata[a].raw.from_user_name)?n.headline=t.tweetdata[a].raw.from_user_name+" (<a href='https://twitter.com/"+t.tweetdata[a].raw.from_user+"'>@"+t.tweetdata[a].raw.from_user+"</a>)":n.headline=t.tweetdata[a].raw.user.name+" (<a href='https://twitter.com/"+t.tweetdata[a].raw.user.screen_name+"'>@"+t.tweetdata[a].raw.user.screen_name+"</a>)",n.asset.media=t.tweetdata[a].content,i.timeline.date.push(n)}d.fireEvent(l,d.Timeline.Config.events.data_ready,i)}}},data_template_obj:{timeline:{headline:"",description:"",asset:{media:"",credit:"",caption:""},date:[],era:[]}},date_obj:{startDate:"2012,2,2,11,30",headline:"",text:"",asset:{media:"http://youtu.be/vjVfu8-Wp6s",credit:"",caption:""},tags:"Optional"}}),d.debug=!1,LazyLoad=function(e){function t(t,i){var a,n=e.createElement(t);for(a in i)i.hasOwnProperty(a)&&n.setAttribute(a,i[a]);return n}function i(e){var t,i,a=d[e];a&&(t=a.callback,i=a.urls,i.shift(),m=0,i.length||(t&&t.call(a.context,a.obj),d[e]=null,c[e].length&&n(e)))}function a(){var t=navigator.userAgent;s={async:e.createElement("script").async===!0},(s.webkit=/AppleWebKit\//.test(t))||(s.ie=/MSIE/.test(t))||(s.opera=/Opera/.test(t))||(s.gecko=/Gecko\//.test(t))||(s.unknown=!0)}function n(n,m,u,h,p){var g,f,y,v,b,_,w=function(){i(n)},M="css"===n,T=[];if(s||a(),m)if(m="string"==typeof m?[m]:m.concat(),M||s.async||s.gecko||s.opera)c[n].push({urls:m,callback:u,obj:h,context:p});else for(g=0,f=m.length;f>g;++g)c[n].push({urls:[m[g]],callback:g===f-1?u:null,obj:h,context:p});if(!d[n]&&(v=d[n]=c[n].shift())){for(l||(l=e.head||e.getElementsByTagName("head")[0]),b=v.urls,g=0,f=b.length;f>g;++g)_=b[g],M?y=s.gecko?t("style"):t("link",{href:_,rel:"stylesheet"}):(y=t("script",{src:_}),y.async=!1),y.className="lazyload",y.setAttribute("charset","utf-8"),s.ie&&!M?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&(y.onreadystatechange=null,w())}:M&&(s.gecko||s.webkit)?s.webkit?(v.urls[g]=y.href,o()):(y.innerHTML='@import "'+_+'";',r(y)):y.onload=y.onerror=w,T.push(y);for(g=0,f=T.length;f>g;++g)l.appendChild(T[g])}}function r(e){var t;try{t=!!e.sheet.cssRules}catch(a){return m+=1,void(200>m?setTimeout(function(){r(e)},50):t&&i("css"))}i("css")}function o(){var e,t=d.css;if(t){for(e=u.length;--e>=0;)if(u[e].href===t.urls[0]){i("css");break}m+=1,t&&(200>m?setTimeout(o,50):i("css"))}}var s,l,d={},m=0,c={css:[],js:[]},u=e.styleSheets;return{css:function(e,t,i,a){n("css",e,t,i,a)},js:function(e,t,i,a){n("js",e,t,i,a)}}}(this.document),LoadLib=function(e){function t(e){var t=0,a=!1;for(t=0;t<i.length;t++)i[t]==e&&(a=!0);return a?!0:(i.push(e),!1)}var i=[];return{css:function(e,i,a,n){t(e)||LazyLoad.css(e,i,a,n)},js:function(e,i,a,n){t(e)||LazyLoad.js(e,i,a,n)}}}(this.document);var f;if("undefined"==typeof v)var y=n("storyjs-embed.js"),v=y.substr(0,y.lastIndexOf("js/"));if(function(){"object"==typeof E?r(E):"object"==typeof timeline_config?r(timeline_config):"object"==typeof storyjs_config?r(storyjs_config):"object"==typeof config&&r(config);
}(),"undefined"==typeof b||"undefined"==typeof b){var b=o("storyjs-embed-generator.js").split("js/")[0];b.match("http")?b=b:"/"==b?b="index.html":b+="index.html"}var _="UA-537357-20",w=(new Date).getTime(),M=0,T=T||[];!function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t.parentNode.insertBefore(e,t),T.push(["_setAccount",_]),T.push(["_trackPageview"])}();var s=function(){var t,i={},a=[];a=e.location.href.slice(e.location.href.indexOf("?")+1),a.match("#")&&(a=a.split("#")[0]),a=a.split("&");for(var n=0;n<a.length;n++)t=a[n].split("="),i[t[0]]=t[1];return i},k=function(e,t){var i=location.href;document.title=t,M=Math.floor(((new Date).getTime()-w)/100)/10,T.push(["_trackEvent","Timeline",t,i,M])},E=s();LazyLoad=function(e){function t(t,i){var a,n=e.createElement(t);for(a in i)i.hasOwnProperty(a)&&n.setAttribute(a,i[a]);return n}function i(e){var t,i,a=d[e];a&&(t=a.callback,i=a.urls,i.shift(),m=0,i.length||(t&&t.call(a.context,a.obj),d[e]=null,c[e].length&&n(e)))}function a(){var t=navigator.userAgent;s={async:e.createElement("script").async===!0},(s.webkit=/AppleWebKit\//.test(t))||(s.ie=/MSIE/.test(t))||(s.opera=/Opera/.test(t))||(s.gecko=/Gecko\//.test(t))||(s.unknown=!0)}function n(n,m,u,h,p){var g,f,y,v,b,_,w=function(){i(n)},M="css"===n,T=[];if(s||a(),m)if(m="string"==typeof m?[m]:m.concat(),M||s.async||s.gecko||s.opera)c[n].push({urls:m,callback:u,obj:h,context:p});else for(g=0,f=m.length;f>g;++g)c[n].push({urls:[m[g]],callback:g===f-1?u:null,obj:h,context:p});if(!d[n]&&(v=d[n]=c[n].shift())){for(l||(l=e.head||e.getElementsByTagName("head")[0]),b=v.urls,g=0,f=b.length;f>g;++g)_=b[g],M?y=s.gecko?t("style"):t("link",{href:_,rel:"stylesheet"}):(y=t("script",{src:_}),y.async=!1),y.className="lazyload",y.setAttribute("charset","utf-8"),s.ie&&!M?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&(y.onreadystatechange=null,w())}:M&&(s.gecko||s.webkit)?s.webkit?(v.urls[g]=y.href,o()):(y.innerHTML='@import "'+_+'";',r(y)):y.onload=y.onerror=w,T.push(y);for(g=0,f=T.length;f>g;++g)l.appendChild(T[g])}}function r(e){var t;try{t=!!e.sheet.cssRules}catch(a){return m+=1,void(200>m?setTimeout(function(){r(e)},50):t&&i("css"))}i("css")}function o(){var e,t=d.css;if(t){for(e=u.length;--e>=0;)if(u[e].href===t.urls[0]){i("css");break}m+=1,t&&(200>m?setTimeout(o,50):i("css"))}}var s,l,d={},m=0,c={css:[],js:[]},u=e.styleSheets;return{css:function(e,t,i,a){n("css",e,t,i,a)},js:function(e,t,i,a){n("js",e,t,i,a)}}}(this.document),LoadLib=function(e){function t(e){var t=0,a=!1;for(t=0;t<i.length;t++)i[t]==e&&(a=!0);return a?!0:(i.push(e),!1)}var i=[];return{css:function(e,i,a,n){t(e)||LazyLoad.css(e,i,a,n)},js:function(e,i,a,n){t(e)||LazyLoad.js(e,i,a,n)}}}(this.document);var f;if("undefined"==typeof v)var y=n("storyjs-embed.js"),v=y.substr(0,y.lastIndexOf("js/"));!function(){"object"==typeof E?r(E):"object"==typeof timeline_config?r(timeline_config):"object"==typeof storyjs_config?r(storyjs_config):"object"==typeof config&&r(config)}(),angular.module("adf.widget.treewidget").controller("undoCtrl",["$scope","bus","data",function(e,t,i){var a=[];t.on("updateData",function(e){a.push(angular.copy(e))}),e.hasHistory=function(){return a.length>1},e.undo=function(){a.pop(),i.setJsonData(a.pop())}}]),angular.module("adf.widget.treewidget").directive("treeChartWidget",["bus","d3Service",function(e,t){return{restrict:"E",replace:!0,template:'<div id="graph"></div>',scope:{data:"="},link:function(i,a){t.d3().then(function(t){var n=t.chart.architectureTree();i.$watch("data",function(e){"undefined"!=typeof e&&(n.diameter(960).data(i.data),t.select(a[0]).call(n))}),e.on("nameFilterChange",function(e){n.nameFilter(e)}),e.on("technosFilterChange",function(e){n.technosFilter(e)}),e.on("hostsFilterChange",function(e){n.hostsFilter(e)}),e.on("select",function(e){n.select(e)}),e.on("unselect",function(){n.unselect()})})}}}]),angular.module("adf.widget.treewidget").controller("panelCtrl",["$scope","$timeout","$window","data","bus",function(e,t,i,a,n){function r(e){var t=function(e){e.children&&e.children.forEach(function(i){i.parent=e,t(i)})},i=function(t){t.dependsOn&&t.dependsOn.forEach(function(i){var a=s(i,e);return a?(a.dependents||(a.dependents=[]),void a.dependents.push(t.name)):void console.log("Dependency",i,"not found for node",t)}),t.children&&t.children.map(i)},a=function(e){n(e),e.children&&e.children.map(a)},n=function(e){e.details={};var t=r(e,"dependsOn");t.length>0&&(e.details.Dependencies=t.map(o)),e.dependents&&(e.details.Dependents=e.dependents);var i=r(e,"technos");if(i.length>0&&(e.details.Technos=i.map(o)),e.host){e.details.Host=[];for(var a in e.host)e.details.Host.push(a)}return e},r=function(e,t,i){var a=[];return e[t]&&e[t].forEach(function(e){a.push({value:e,via:i})}),e.parent&&(a=a.concat(r(e.parent,t,e.parent.name))),a},o=function(e){return e.via?e.value+" ("+e.via+")":e.value};return t(e),i(e),a(e),e}var o=angular.element(document.querySelector("#panel"));document.querySelector("#graph");n.on("updateData",function(t){var i=angular.copy(t);e.data=r(i)});var s=function(e,t){if(t.name===e)return t;if(!t.children)return null;for(var i=t.children.length-1;i>=0;i--){var a=s(e,t.children[i]);if(a)return a}};o.on("hoverNode",function(t){e.node=s(t.detail,e.data),e.detail=!0,e.edit=!1,e.$digest()}).on("selectNode",function(t){e.enterEdit(t.detail),e.$digest()}).on("unSelectNode",function(t){e.edit&&(e.leaveEdit(),e.$digest())}),e.enterEdit=function(t){e.originalNode=s(t,e.data),e.node=angular.copy(e.originalNode),e.detail=!1,e.edit=!0,e.hostKeys={},angular.forEach(e.node.host,function(t,i){e.hostKeys[i]=i})},e.leaveEdit=function(){e.node=angular.copy(e.originalNode),e.detail=!0,e.edit=!1,n.emit("unselect")},e.editNode=function(t,i){i.preventDefault(),angular.forEach(e.hostKeys,function(t,i){t!==i&&(e.node.host[t]=angular.copy(e.node.host[i]),delete e.node.host[i])}),a.updateNode(e.originalNode.name,e.node),a.emitRefresh(),e.node=s(e.node.name,e.data),e.detail=!0,e.edit=!1},e.deleteNode=function(){i.confirm("Are you sure you want to delete that node?")&&(a.removeNode(e.originalNode.name),a.emitRefresh(),e.detail=!1,e.edit=!1)},e.moveNode=function(){var r=i.prompt("Please type the name of the parent node to move to");a.moveNode(e.originalNode.name,r),a.emitRefresh(),t(function(){n.emit("select",e.originalNode.name)})},e.addNode=function(){a.addNode(e.originalNode.name),a.emitRefresh(),t(function(){n.emit("select","New node")})},e.addDependency=function(){"undefined"==typeof e.node.dependsOn&&(e.node.dependsOn=[]),e.node.dependsOn.push("")},e.deleteDependency=function(t){e.node.dependsOn.splice(t,1)},e.addTechno=function(){"undefined"==typeof e.node.technos&&(e.node.technos=[]),e.node.technos.push("")},e.deleteTechno=function(t){e.node.technos.splice(t,1)},e.addHost=function(t){"undefined"==typeof e.node.host[t]&&(e.node.host[t]=[]),e.node.host[t].push("")},e.deleteHost=function(t,i){e.node.host[t].splice(i,1)},e.addHostCategory=function(){"undefined"==typeof e.node.host&&(e.node.host={}),e.node.host[""]=[],e.hostKeys[""]=""},e.deleteHostCategory=function(t){delete e.hostKeys[t],delete e.node.host[t]}}]),angular.module("adf.widget.treewidget").controller("jsonDataCtrl",["$scope","bus","data",function(e,i,a){var n;i.on("updateData",function(i){n=i,e.data=JSON.stringify(i,t,2)}),e.updateData=function(){var t=JSON.parse(e.data);angular.equals(t,n)||a.setJsonData(t)}}]),angular.module("adf.widget.treewidget").directive("initFocus",function(){var e;return function(t,i,a){e&&clearTimeout(e),e=setTimeout(function(){i[0].focus()},0)}}),angular.module("adf.widget.treewidget").controller("filterCtrl",["$scope","bus",function(e,t){function i(e){function t(e){e.technos&&e.technos.forEach(function(e){i[e]=!0}),e.children&&e.children.forEach(function(e){t(e)})}var i=[];return t(e),Object.keys(i).sort()}function a(e){function t(e){if(e.host)for(var a in e.host)i[a]=!0;e.children&&e.children.forEach(function(e){t(e)})}var i={};return t(e),Object.keys(i).sort()}t.on("updateData",function(t){e.technos=i(t),e.hosts=a(t)}),e.nameFilter="";var n=[],r=[];e.$watch("nameFilter",function(e){t.emit("nameFilterChange",e)}),e.toggleTechnoFilter=function(i){e.isTechnoInFilter(i)?n.splice(n.indexOf(i),1):n.push(i),t.emit("technosFilterChange",n)},e.isTechnoInFilter=function(e){return-1!==n.indexOf(e)},e.toggleHostFilter=function(i){e.isHostInFilter(i)?r.splice(r.indexOf(i),1):r.push(i),t.emit("hostsFilterChange",r)},e.isHostInFilter=function(e){return-1!==r.indexOf(e)}}]),angular.module("adf.widget.treewidget").service("data",["$http","$q","bus","config",function(e,t,i,a){var n,r=function(){return"undefined"!=typeof n?t.when(n):a.url?e.get(a.url).success(function(e){return l(e),e}):e.get("/llp_core/data.json").success(function(e){return l(e),e})},o=function(){i.emit("updateData",n)},s=function(){return n},l=function(e){n=e,o()},d=function(e,t){if(t=t||n,t.name===e)return t;if(!t.children)return null;for(var i=t.children.length-1;i>=0;i--){var a=d(e,t.children[i]);if(a)return a}},m=function(e,t){if(t=t||n,!t.children)return null;for(var i=t.children.length-1;i>=0;i--){if(t.children[i].name===e)return t;var a=m(e,t.children[i]);if(a)return a}},c=function(e,t){var i=d(e);u(i.name,t.name);for(var a in t)t.hasOwnProperty(a)&&"children"!==a&&"parent"!==a&&"details"!==a&&(i[a]=t[a])},u=function(e,t,i){i=i||n,p(e,t,i),"undefined"!=typeof i.children&&i.children.length&&i.children.forEach(function(i){u(e,t,i)})},h=function(e){u(e)},p=function(e,t,i){if("undefined"!=typeof i.dependsOn){var a=i.dependsOn.indexOf(e);-1!==a&&(t?i.dependsOn[a]=t:i.dependsOn.splice(a,1))}},g=function(e,t){t=t||{name:"New node"};var i=d(e);i.children||(i.children=[]),i.children.push(t)},f=function(e){var t=m(e);if(!t)return!1;for(var i=0,a=t.children.length;a>i;i++){var n=t.children[i];if(n.name===e)return v(n).map(h),t.children.splice(i,1)}},y=function(e,t){var i=f(e);return i&&0!==i.length?void g(t,i[0]):!1},v=function(e){var t=[e.name];return e.children&&e.children.forEach(function(e){t=t.concat(v(e))}),t};return{fetchJsonData:r,getJsonData:s,setJsonData:l,emitRefresh:o,getNodeByName:d,updateNode:c,addNode:g,removeNode:f,moveNode:y}}]),d3.chart=d3.chart||{},d3.chart.architectureTree=function(){function e(){"undefined"==typeof i&&(i=d3.layout.tree().size([360,n/2-120]).separation(function(e,t){return(e.parent==t.parent?1:2)/e.depth}),t=d3.select("#graph").append("svg").attr("width",n).attr("height",n).append("g").attr("transform","translate("+n/2+","+n/2+")"));var e=i.nodes(a),s=i.links(e);r=null,t.call(o,e,s)}var t,i,a,n,r,o=function(e,i,a){s(i),i.map(function(e){l(e)});var n=d3.svg.diagonal.radial().projection(function(e){return[e.y,e.x/180*Math.PI]}),o=t.selectAll(".link").data(a,function(e){return e.source.name+e.target.name+Math.random()});o.exit().remove(),o.enter().append("path").attr("class","link").attr("d",n);var d=e.selectAll(".node").data(i,function(e){return e.name+Math.random()});d.exit().remove();var m=d.enter().append("g").attr("class","node").attr("transform",function(e){return"rotate("+(e.x-90)+")translate("+e.y+")"}).on("mouseover",function(e){null===r&&(c(.1)(e),document.querySelector("#panel").dispatchEvent(new CustomEvent("hoverNode",{detail:e.name})))}).on("mouseout",function(e){null===r&&c(1)(e)}).on("click",function(e){g(e.name)});m.append("circle").attr("r",function(e){return 4.5*(e.size||1)}).style("stroke",function(e){return d3.scale.linear().domain([1,0]).range(["steelblue","red"])("undefined"!=typeof e.satisfaction?e.satisfaction:1)}).style("fill",function(e){return"undefined"==typeof e.satisfaction?"#fff":d3.scale.linear().domain([1,0]).range(["white","#f66"])("undefined"!=typeof e.satisfaction?e.satisfaction:1)}),m.append("text").attr("dy",".31em").attr("text-anchor",function(e){return e.x<180?"start":"end"}).attr("transform",function(e){return e.x<180?"translate(8)":"rotate(180)translate(-8)"}).text(function(e){return e.name})},s=function(e){var t=[];e.forEach(function(e){e.dependsOn&&e.dependsOn.forEach(function(i){t[i]||(t[i]=[]),t[i].push(e.name)})}),e.forEach(function(i,a){t[i.name]&&(e[a].dependents=t[i.name])})},l=function(e){e.index={relatedNodes:[],technos:[],hosts:[]};var t=d(e,"dependsOn");t.length>0&&(e.index.relatedNodes=e.index.relatedNodes.concat(t)),e.dependents&&(e.index.relatedNodes=e.index.relatedNodes.concat(e.dependents));var i=d(e,"technos");i.length>0&&(e.index.technos=i);var a=m(e);a.length>0&&(e.index.hosts=a)},d=function(e,t){var i=[];return e[t]&&e[t].forEach(function(e){i.push(e)}),e.parent&&(i=i.concat(d(e.parent,t))),i},m=function(e){var t=[];if(e.host)for(var i in e.host)t.push(i);return e.parent&&(t=t.concat(m(e.parent))),t},c=function(e){return function(i){t.selectAll(".node").filter(function(e){return e.name===i.name?!1:-1===i.index.relatedNodes.indexOf(e.name)}).transition().style("opacity",e)}},u={name:"",technos:[],hosts:[]},h=function(e){var t;if(!u.name&&!u.technos.length&&!u.hosts.length)return!0;if(u.name&&-1===e.name.toLowerCase().indexOf(u.name))return!1;var i=u.technos.length;if(i){if(0===e.index.technos.length)return!1;for(t=0;i>t;t++)if(-1===e.index.technos.indexOf(u.technos[t]))return!1}var a=u.hosts.length;if(a){if(0===e.index.hosts.length)return!1;for(t=0;a>t;t++)if(-1===e.index.hosts.indexOf(u.hosts[t]))return!1}return!0},p=function(){d3.selectAll(".node").classed("notFound",function(e){return!h(e)})},g=function(e){return r&&r.name==e?void f():(f(),void t.selectAll(".node").filter(function(t){return t.name===e?!0:void 0}).each(function(e){document.querySelector("#panel").dispatchEvent(new CustomEvent("selectNode",{detail:e.name})),d3.select(this).attr("id","node-active"),r=e,c(.1)(e)}))},f=function(){null!=r&&(c(1)(r),d3.select("#node-active").attr("id",null),r=null,document.querySelector("#panel").dispatchEvent(new CustomEvent("unSelectNode")))};return e.select=g,e.unselect=f,e.data=function(t){return arguments.length?(a=t,e):a},e.diameter=function(t){return arguments.length?(n=t,e):n},e.nameFilter=function(e){u.name=e,p()},e.technosFilter=function(e){u.technos=e,p()},e.hostsFilter=function(e){u.hosts=e,p()},e},angular.module("adf.widget.treewidget").controller("chartCtrl",["$scope","bus",function(e,t){t.on("updateData",function(t){e.data=angular.copy(t)})}]),angular.module("adf.widget.treewidget").service("bus",["$http","$q",function(e,t){var i={},a=function(e,t){i[e]||(i[e]=[]),i[e].push(t)},n=function(e,t){return i[e]?(i[e].forEach(function(e){e(t)}),!0):!1};return{on:a,emit:n}}]),angular.module("adf.widget.treewidget").run(["data",function(e){e.fetchJsonData().then(function(e){console.log("data loaded")},console.error)}])}(window);